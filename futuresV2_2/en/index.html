
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>BTSE API Documentation</title>
    <link href="../../images/favicon-3eb77247.ico" rel="icon" type="image/ico" />
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="../../stylesheets/screen-bcf56b31.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="../../javascripts/all-a9fde460.js"></script>

  </head>

  <body class="futuresV2_2 futuresV2_2_en futuresV2_2_en_index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        <img src="../../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <header>
    <div class="flex_box">
      <img src="../../images/logo-d7d2b532.svg" class="logo" alt="" />
      <div class="nav-row-wrap">
        <div id="navBox" class="nav_box"></div>
        <div id="menuDropdownBtn" class="noselect menu-dropdown-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>
          <div id="menuDropdown" class="menu-dropdown hide"></div>
        </div>
      </div>
    </div>

  </header>
    <div class="toc-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#change-log" class="toc-h1 toc-link" data-title="Change Log">Change Log</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#version-1-0-1-10th-jul-2024" class="toc-h2 toc-link" data-title="Version 1.0.1 (10th Jul 2024)">Version 1.0.1 (10th Jul 2024)</a>
                  </li>
                  <li>
                    <a href="#version-1-0-0-28th-june-2024" class="toc-h2 toc-link" data-title="Version 1.0.0 (28th June 2024)">Version 1.0.0 (28th June 2024)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#overview" class="toc-h1 toc-link" data-title="Overview">Overview</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#migration-from-v2-1-to-v2-2" class="toc-h2 toc-link" data-title="Migration from v2.1 to v2.2">Migration from v2.1 to v2.2</a>
                  </li>
                  <li>
                    <a href="#generating-api-key" class="toc-h2 toc-link" data-title="Generating API Key">Generating API Key</a>
                  </li>
                  <li>
                    <a href="#endpoints" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#rate-limits" class="toc-h2 toc-link" data-title="Rate Limits">Rate Limits</a>
                  </li>
                  <li>
                    <a href="#api-status-codes" class="toc-h2 toc-link" data-title="API Status Codes">API Status Codes</a>
                  </li>
                  <li>
                    <a href="#api-enum" class="toc-h2 toc-link" data-title="API Enum">API Enum</a>
                  </li>
                  <li>
                    <a href="#spam-orders" class="toc-h2 toc-link" data-title="Spam Orders">Spam Orders</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#public-endpoints" class="toc-h1 toc-link" data-title="Public Endpoints">Public Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#market-summary" class="toc-h2 toc-link" data-title="Market Summary">Market Summary</a>
                  </li>
                  <li>
                    <a href="#charting-data" class="toc-h2 toc-link" data-title="Charting Data">Charting Data</a>
                  </li>
                  <li>
                    <a href="#query-market-price" class="toc-h2 toc-link" data-title="Query Market price">Query Market price</a>
                  </li>
                  <li>
                    <a href="#orderbook-by-grouping" class="toc-h2 toc-link" data-title="Orderbook (By grouping)">Orderbook (By grouping)</a>
                  </li>
                  <li>
                    <a href="#orderbook-2" class="toc-h2 toc-link" data-title="Orderbook">Orderbook</a>
                  </li>
                  <li>
                    <a href="#query-trades-fills" class="toc-h2 toc-link" data-title="Query Trades Fills">Query Trades Fills</a>
                  </li>
                  <li>
                    <a href="#funding-history" class="toc-h2 toc-link" data-title="Funding History">Funding History</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#trade-endpoints" class="toc-h1 toc-link" data-title="Trade Endpoints">Trade Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-new-order" class="toc-h2 toc-link" data-title="Create New Order">Create New Order</a>
                  </li>
                  <li>
                    <a href="#create-new-algo-order" class="toc-h2 toc-link" data-title="Create new algo order">Create new algo order</a>
                  </li>
                  <li>
                    <a href="#query-order" class="toc-h2 toc-link" data-title="Query Order">Query Order</a>
                  </li>
                  <li>
                    <a href="#amend-order" class="toc-h2 toc-link" data-title="Amend Order">Amend Order</a>
                  </li>
                  <li>
                    <a href="#cancel-order" class="toc-h2 toc-link" data-title="Cancel Order">Cancel Order</a>
                  </li>
                  <li>
                    <a href="#dead-man-39-s-switch-cancel-all-after" class="toc-h2 toc-link" data-title="Dead Man's Switch (Cancel All After)">Dead Man's Switch (Cancel All After)</a>
                  </li>
                  <li>
                    <a href="#query-open-orders" class="toc-h2 toc-link" data-title="Query Open Orders">Query Open Orders</a>
                  </li>
                  <li>
                    <a href="#query-trades-fills-2" class="toc-h2 toc-link" data-title="Query Trades Fills">Query Trades Fills</a>
                  </li>
                  <li>
                    <a href="#query-position" class="toc-h2 toc-link" data-title="Query Position">Query Position</a>
                  </li>
                  <li>
                    <a href="#close-position" class="toc-h2 toc-link" data-title="Close Position">Close Position</a>
                  </li>
                  <li>
                    <a href="#get-risk-limit" class="toc-h2 toc-link" data-title="Get Risk Limit">Get Risk Limit</a>
                  </li>
                  <li>
                    <a href="#set-risk-limit" class="toc-h2 toc-link" data-title="Set Risk Limit">Set Risk Limit</a>
                  </li>
                  <li>
                    <a href="#set-leverage" class="toc-h2 toc-link" data-title="Set Leverage">Set Leverage</a>
                  </li>
                  <li>
                    <a href="#get-leverage" class="toc-h2 toc-link" data-title="Get Leverage">Get Leverage</a>
                  </li>
                  <li>
                    <a href="#change-contract-settlement-currency" class="toc-h2 toc-link" data-title="Change Contract Settlement Currency">Change Contract Settlement Currency</a>
                  </li>
                  <li>
                    <a href="#query-account-fee" class="toc-h2 toc-link" data-title="Query Account Fee">Query Account Fee</a>
                  </li>
                  <li>
                    <a href="#bind-tp-sl" class="toc-h2 toc-link" data-title="Bind TP/SL">Bind TP/SL</a>
                  </li>
                  <li>
                    <a href="#query-position-mode" class="toc-h2 toc-link" data-title="Query Position Mode">Query Position Mode</a>
                  </li>
                  <li>
                    <a href="#change-position-mode" class="toc-h2 toc-link" data-title="Change Position Mode">Change Position Mode</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet-endpoints" class="toc-h1 toc-link" data-title="Wallet Endpoints">Wallet Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#query-wallet-balance" class="toc-h2 toc-link" data-title="Query Wallet Balance">Query Wallet Balance</a>
                  </li>
                  <li>
                    <a href="#query-wallet-history" class="toc-h2 toc-link" data-title="Query Wallet History">Query Wallet History</a>
                  </li>
                  <li>
                    <a href="#query-unified-wallet-margin" class="toc-h2 toc-link" data-title="Query Unified Wallet Margin">Query Unified Wallet Margin</a>
                  </li>
                  <li>
                    <a href="#query-wallet-margin" class="toc-h2 toc-link" data-title="Query Wallet Margin">Query Wallet Margin</a>
                  </li>
                  <li>
                    <a href="#transfer-funds-between-futures-wallet" class="toc-h2 toc-link" data-title="Transfer funds between Futures wallet">Transfer funds between Futures wallet</a>
                  </li>
                  <li>
                    <a href="#sub-account-wallet-transfer" class="toc-h2 toc-link" data-title="Sub-Account Wallet Transfer">Sub-Account Wallet Transfer</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#order-book-websocket-streams" class="toc-h1 toc-link" data-title="Order Book Websocket Streams">Order Book Websocket Streams</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#endpoints-2" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                  </li>
                  <li>
                    <a href="#oss-l1-snapshot-by-grouping" class="toc-h2 toc-link" data-title="OSS L1 Snapshot (By grouping)">OSS L1 Snapshot (By grouping)</a>
                  </li>
                  <li>
                    <a href="#orderbook-incremental-updates" class="toc-h2 toc-link" data-title="Orderbook Incremental Updates">Orderbook Incremental Updates</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-streams" class="toc-h1 toc-link" data-title="Websocket Streams">Websocket Streams</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#endpoints-3" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                  </li>
                  <li>
                    <a href="#ping-pong" class="toc-h2 toc-link" data-title="Ping/Pong">Ping/Pong</a>
                  </li>
                  <li>
                    <a href="#subscription" class="toc-h2 toc-link" data-title="Subscription">Subscription</a>
                  </li>
                  <li>
                    <a href="#public-trade-fills" class="toc-h2 toc-link" data-title="Public Trade Fills">Public Trade Fills</a>
                  </li>
                  <li>
                    <a href="#authentication-2" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#notifications" class="toc-h2 toc-link" data-title="Notifications">Notifications</a>
                  </li>
                  <li>
                    <a href="#user-trade-fills" class="toc-h2 toc-link" data-title="User Trade Fills">User Trade Fills</a>
                  </li>
                  <li>
                    <a href="#all-position" class="toc-h2 toc-link" data-title="All Position">All Position</a>
                  </li>
                  <li>
                    <a href="#positions" class="toc-h2 toc-link" data-title="Positions">Positions</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='change-log'>Change Log</h1><h2 id='version-1-0-1-10th-jul-2024'>Version 1.0.1 (10th Jul 2024)</h2>
<ul>
<li>Add <a href="#mechanism-description"><code>Rate Limit Mechanism Description</code></a> description</li>
</ul>
<h2 id='version-1-0-0-28th-june-2024'>Version 1.0.0 (28th June 2024)</h2>
<ul>
<li>Release V2.2 API</li>
</ul>
<h1 id='overview'>Overview</h1><h2 id='migration-from-v2-1-to-v2-2'>Migration from v2.1 to v2.2</h2>
<ul>
<li>All the symbol field in request should use <code>XXX-PERP</code>. e.g. <code>BTC-PERP</code></li>
<li>All symbol field in responses will change from <code>XXXPFC</code> to <code>XXX-PERP</code>. e.g. <code>BTCPFC</code> -&gt; <code>BTC-PERP</code></li>
<li>All market field in responses will change from <code>XXXPFC-USD</code> to <code>XXX-PERP-USDT</code>. e.g. <code>BTCPFC-USD</code> -&gt; <code>BTC-PERP-USDT</code></li>
<li>All wallet name field in responses will change from <code>ISOLATED@XXXPFC-USD</code> to <code>ISOLATED@XXX-PERP-USDT</code>. e.g. <code>ISOLATED@BTCPFC-USD</code> -&gt; <code>ISOLATED@BTC-PERP-USDT</code> </li>
<li>Quote currency field in responses will change from <code>USD</code> to <code>USDT</code></li>
<li>Once the user upgrade the wallet to unified wallet, the user is not allowed to use v2.1 APIs anymore</li>
</ul>
<h2 id='generating-api-key'>Generating API Key</h2>
<p>You will need to create an API key on the BTSE platform before you can use authenticated APIs. To create API keys, you can follow the steps below:</p>

<ul>
<li>Login with your username / email and password into the BTSE website</li>
<li>Click on “Account” on the top right hand corner</li>
<li>Select the API tab</li>
<li>Click on “New API” button to create an API key and passphrase. (Note: the passphrase will only appear once)</li>
<li>Use your API key and passphrase to construct a signature.</li>
</ul>
<h2 id='endpoints'>Endpoints</h2>
<ul>
<li>Production

<ul>
<li>HTTP

<ul>
<li><code>https://api.btse.com/futures</code></li>
</ul></li>
<li>Websocket

<ul>
<li><code>wss://ws.btse.com/ws/futures</code></li>
</ul></li>
<li>Websocket (for orderbook stream)

<ul>
<li><code>wss://ws.btse.com/ws/oss/futures</code> (Used for Orderbook incremental update stream)</li>
</ul></li>
</ul></li>
<li>Testnet

<ul>
<li>HTTP

<ul>
<li><code>https://testapi.btse.io/futures</code></li>
</ul></li>
<li>Websocket

<ul>
<li><code>wss://testws.btse.io/ws/futures</code></li>
</ul></li>
<li>Websocket (for orderbook stream)

<ul>
<li><code>wss://testws.btse.io/ws/oss/futures</code> (Used for Orderbook incremental update stream)</li>
</ul></li>
</ul></li>
</ul>
<h2 id='authentication'>Authentication</h2>
<ul>
<li><p>API Key (request-api)</p>

<ul>
<li>Parameter Name: <code>request-api</code>, in: header. API key is obtained from BTSE platform as a string</li>
</ul></li>
<li><p>API Key (request-nonce)</p>

<ul>
<li>Parameter Name: <code>request-nonce</code>, in: header. Representation of current timestamp in long format</li>
</ul></li>
<li><p>API Key (request-sign)</p>

<ul>
<li>Parameter Name: <code>request-sign</code>, in: header. A composite signature produced based on the following algorithm: Signature=HMAC.Sha384 (secretkey, (urlpath + request-nonce + bodyStr)) (note: bodyStr = &#39;&#39; when no data):</li>
</ul></li>
</ul>
<h3 id='example-1-get-wallet'>Example 1: Get Wallet</h3>
<blockquote>
<p><strong>HMAC SHA384 Signature</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"/api/v2.2/user/wallet1624984297330"</span> | openssl dgst <span class="nt">-sha384</span> <span class="nt">-hmac</span> <span class="s2">"848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx"</span>
<span class="o">(</span>stdin<span class="o">)=</span> ea4f1f2b43a0f4d750ae560c5274d6214d140fcab3093da5f4a83e36828535bd2ba7b12160cd12199596f422c8883333
</code></pre></div>
<ul>
<li>Endpoint to get wallet is <code>https://api.btse.com/futures/api/v2.2/user/wallet</code></li>
<li>Assume we have the values as follows:

<ul>
<li>request-nonce: <code>1624984297330</code></li>
<li>request-api: <code>4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x</code></li>
<li>secret: <code>848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx</code></li>
<li>Path: <code>/api/v2.2/user/wallet</code></li>
</ul></li>
<li>Generated signature will be:

<ul>
<li>request-sign: <code>ea4f1f2b43a0f4d750ae560c5274d6214d140fcab3093da5f4a83e36828535bd2ba7b12160cd12199596f422c8883333</code></li>
</ul></li>
</ul>
<h3 id='example-2-place-an-order'>Example 2: Place an order</h3>
<blockquote>
<p><strong>HMAC SHA384 Signature</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"/api/v2.2/order1624985375123{</span><span class="se">\"</span><span class="s2">postOnly</span><span class="se">\"</span><span class="s2">:false,</span><span class="se">\"</span><span class="s2">price</span><span class="se">\"</span><span class="s2">:8500.0,</span><span class="se">\"</span><span class="s2">reduceOnly</span><span class="se">\"</span><span class="s2">:false,</span><span class="se">\"</span><span class="s2">side</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BUY</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">size</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">stopPrice</span><span class="se">\"</span><span class="s2">:0.0,</span><span class="se">\"</span><span class="s2">symbol</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BTC-PERP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">time_in_force</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GTC</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">trailValue</span><span class="se">\"</span><span class="s2">:0.0,</span><span class="se">\"</span><span class="s2">triggerPrice</span><span class="se">\"</span><span class="s2">:0.0,</span><span class="se">\"</span><span class="s2">txType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">LIMIT</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">LIMIT</span><span class="se">\"</span><span class="s2">}"</span> | openssl dgst <span class="nt">-sha384</span> <span class="nt">-hmac</span> <span class="s2">"848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx"</span>
<span class="o">(</span>stdin<span class="o">)=</span> 943adfce43b609a28506274976b96e08cf4bdc4ea53ca0b4cac0eb2cf0773a7d0807efc0aeab779d47fadcd9a60eea13
</code></pre></div>
<ul>
<li>Endpoint to place an order is <code>https://api.btse.com/futures/api/v2.2/order</code></li>
<li>Assume we have the values as follows:

<ul>
<li>request-nonce: <code>1624985375123</code></li>
<li>request-api: <code>4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x</code></li>
<li>secret: <code>848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx</code></li>
<li>Path: <code>/api/v2.2/order</code></li>
<li>Body: <code>{&quot;postOnly&quot;:false,&quot;price&quot;:8500.0,&quot;reduceOnly&quot;:false,&quot;side&quot;:&quot;BUY&quot;,&quot;size&quot;:1,&quot;stopPrice&quot;:0.0,&quot;symbol&quot;:&quot;BTC-PERP&quot;,&quot;time_in_force&quot;:&quot;GTC&quot;,&quot;trailValue&quot;:0.0,&quot;triggerPrice&quot;:0.0,&quot;txType&quot;:&quot;LIMIT&quot;,&quot;type&quot;:&quot;LIMIT&quot;}</code></li>
<li>Encrypted Text: <code>/api/v2.2/order1624985375123{&quot;postOnly&quot;:false,&quot;price&quot;:8500.0,&quot;reduceOnly&quot;:false,&quot;side&quot;:&quot;BUY&quot;,&quot;size&quot;:1,&quot;stopPrice&quot;:0.0,&quot;symbol&quot;:&quot;BTC-PERP&quot;,&quot;time_in_force&quot;:&quot;GTC&quot;,&quot;trailValue&quot;:0.0,&quot;triggerPrice&quot;:0.0,&quot;txType&quot;:&quot;LIMIT&quot;,&quot;type&quot;:&quot;LIMIT&quot;}</code></li>
</ul></li>
<li>Generated signature will be:

<ul>
<li>request-sign: <code>943adfce43b609a28506274976b96e08cf4bdc4ea53ca0b4cac0eb2cf0773a7d0807efc0aeab779d47fadcd9a60eea13</code></li>
</ul></li>
</ul>
<h2 id='rate-limits'>Rate Limits</h2>
<ul>
<li>The following rate limits are enforced:</li>
</ul>

<p>Rate limits for BTSE is as follows:</p>

<p><strong>Query</strong></p>

<ul>
<li>Per API: <code>15 requests/second</code></li>
<li>Per User: <code>30 requests/second</code></li>
</ul>

<p><strong>Orders</strong></p>

<ul>
<li>Per API: <code>75 requests/second</code></li>
<li>Per User: <code>75 requests/second</code></li>
</ul>
<h3 id='mechanism-description'>Mechanism Description</h3>
<p>Our system implements a tiered blocking mechanism with three distinct durations: <strong>1 second</strong>, <strong>5 minutes</strong>, and <strong>15 minutes</strong>. The duration of the block begins calculation from the moment the first block is imposed.
Additionally, the calculation duration will be reset if the IP address or user does not exceed the rate limit within a span of 1 hour or the 15 mins blocking duration is ended.</p>

<p>A <code>Retry-After</code> header is included with a 429 response and will give the unlocked timestamp.</p>
<h4 id='rate-limit-tiers'>Rate limit tiers</h4>
<ul>
<li>1 sec</li>
<li>5 min</li>
<li>15 min</li>
</ul>
<h2 id='api-status-codes'>API Status Codes</h2>
<p>Each API will return one of the following HTTP status:</p>

<ul>
<li>200 - API request was successful, refer to the specific API response for expected payload</li>
<li>400 - Bad Request. Server will not process this request. This is usually due to invalid parameters sent in request</li>
<li>401 - Unauthorized request. Server will not process this request as it does not have valid authentication credentials</li>
<li>403 - Forbidden request. Credentials were provided but they were insufficient to perform the request</li>
<li>404 - Not found. Indicates that the server understood the request but could not find a correct representation for the target resource</li>
<li>405 - Method not allowed. Indicates that the request method is not known to the requested server</li>
<li>408 - Request timeout. Indicates that the server did not complete the request. BTSE API timeouts are set at 30secs</li>
<li>429 - Too many requests. Indicates that the client has exceeded the rates limits set by the server. Refer to Rate Limits for more details</li>
<li>451 - Unavailable For Legal Reasons. Indicates that the client has been banned because abnormal behavior</li>
<li>500 - Internal server error. Indicates that the server encountered an unexpected condition resulting in not being able to fulfill the request</li>
</ul>
<h2 id='api-enum'>API Enum</h2>
<p>When connecting up the BTSE API, you will come across number codes that represents different states or status types in BTSE. The following section provides a list of codes that you are expecting to see.</p>

<ul>
<li>1: MARKET_UNAVAILABLE = Futures market is unavailable</li>
<li>2: ORDER_INSERTED = Order is inserted successfully</li>
<li>4: ORDER_FULLY_TRANSACTED = Order is fully transacted</li>
<li>5: ORDER_PARTIALLY_TRANSACTED = Order is partially transacted</li>
<li>6: ORDER_CANCELLED = Order is cancelled successfully</li>
<li>7: ORDER_REFUNDED = Order is refunded</li>
<li>8: INSUFFICIENT_BALANCE = Insufficient balance in account</li>
<li>9: TRIGGER_INSERTED = Trigger Order is inserted successfully</li>
<li>10: TRIGGER_ACTIVATED = Trigger Order is activated successfully</li>
<li>11: ERROR_INVALID_CURRENCY</li>
<li>12: ERROR_UPDATE_RISK_LIMIT = Error in updating risk limit</li>
<li>13: ERROR_INVALID_LEVERAGE</li>
<li>15: ORDER_REJECTED = Order is rejected</li>
<li>16: ORDER_NOTFOUND = Order is not found with the order ID or clOrderID provided</li>
<li>17: REQUEST_FAILED = Failed to complete the request, please check order status</li>
<li>20: SUCCESS = Action succeeded.</li>
<li>21: FREEZE_SUCCESSFUL</li>
<li>27: TRANSFER_SUCCESSFUL = Transfer funds between futures and spot is successful</li>
<li>28: TRANSFER_UNSUCCESSFUL = Transfer funds between spot and futures is unsuccessful</li>
<li>29: QUERY_GET_ORDERS</li>
<li>31: QUERY_GET_POSITIONS</li>
<li>33: QUERY_GET_ALL_POSITIONS_ORDERS</li>
<li>34: QUERY_WALLET</li>
<li>36: QUERY_FUTURES_MARGIN</li>
<li>41: ERROR_INVALID_RISK_LIMIT = Invalid risk limit was specified</li>
<li>51: QUERY_GET_ORDERS_WITH_LIMIT</li>
<li>64: STATUS_LIQUIDATION = Account is undergoing liquidation</li>
<li>65: STATUS_ACITVE = Order is active</li>
<li>66: MODE_BUY</li>
<li>76: ORDER_TYPE_LIMIT = Limit order</li>
<li>77: ORDER_TYPE_MARKET = Market order</li>
<li>80: ORDER_TYPE_PEG = Peg/Algo order</li>
<li>81: ORDER_TYPE_OTC = Otc order</li>
<li>83: MODE_SELL</li>
<li>85: STATUS_PROCESSING = Order is inactive</li>
<li>88: STATUS_INACTIVE = Order is inactive</li>
<li>101: FUTURES_ORDER_PRICE_OUTSIDE_LIQUIDATION_PRICE = Futures order is outside of liquidation price</li>
<li>110: FUTURES_FUNDING</li>
<li>123: AMEND_ORDER = Order amended</li>
<li>124: UNFREEZE_SUCCESSFUL</li>
<li>129: FUTURES_CONFIG_MODE_CHANGE</li>
<li>131: FUTURES_STATUS_PROCESSING_LEVERAGE</li>
<li>132: FUTURES_STATUS_PROCESSING_RISK_LIMIT</li>
<li>133: FUTURES_POSITION_MODE_INVALID</li>
<li>134: POSITION_MODE_UNCHANGEABLE</li>
<li>138: POSITION_MODE_CHANGE_PROCESSING</li>
<li>300: ERROR_MAX_ORDER_SIZE_EXCEEDED</li>
<li>301: ERROR_INVALID_ORDER_SIZE</li>
<li>302: ERROR_INVALID_ORDER_PRICE</li>
<li>303: ERROR_RATE_LIMITS_EXCEEDED</li>
<li>304: ERROR_MAX_OPEN_ORDER_EXCEEDED</li>
<li>305: ERROR_ORDER_PRICE_OUT_OF_PRICE_PROTECTION_RANGE</li>
<li>1003: ORDER_LIQUIDATION = Order is undergoing liquidation</li>
<li>1004: ORDER_ADL = Order is undergoing ADL</li>
<li>30410: BLOCK_TRADE_COMPLETE_SUCCESS</li>
</ul>
<h2 id='spam-orders'>Spam Orders</h2>
<p>Spam orders are large number of small order sizes that is placed. In order to ensure that the platform and user&#39;s interests are protected from malicious players, we will apply the following for users placing small sized orders.</p>

<p><a href="https://support.btse.com/en/support/solutions/articles/43000720904-spam-order-detection-mechanism">Spam Order Detection Mechanism : BTSE Support</a></p>

<ul>
<li>Orders with a notional value below 5 USDT will be marked as a spam order and will automatically become hidden orders.</li>
<li>Orders marked as spam always pay the taker fee.</li>
<li>Post-Only API orders marked as spam will be rejected instead of being hidden.</li>
<li>Too many spam orders may be grounds to temporarily ban an account from trading.</li>
<li>API accounts placing &gt;= 4 resting orders, with total size less than 20 USDT are at risk of being marked as a spam account.</li>
<li>Accounts marked as spam may have limitations placed on the account, including order rate limits, position limits, or have API functions disabled. For questions regarding the new spam order mechanism, please email mm@btse.com.</li>
</ul>
<h1 id='public-endpoints'>Public Endpoints</h1><h2 id='market-summary'>Market Summary</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="mi">36365</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lowestAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">36377</span><span class="p">,</span><span class="w">
    </span><span class="nl">"highestBid"</span><span class="p">:</span><span class="w"> </span><span class="mi">36376</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentageChange"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.973731309</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">172418318.7575521</span><span class="p">,</span><span class="w">
    </span><span class="nl">"high24Hr"</span><span class="p">:</span><span class="w"> </span><span class="mi">36447</span><span class="p">,</span><span class="w">
    </span><span class="nl">"low24Hr"</span><span class="p">:</span><span class="w"> </span><span class="mf">33989.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mf">4916.8266</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minValidPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minPriceIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minOrderSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxOrderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minSizeIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openInterest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openInterestUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractStart"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractEnd"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeBasedContract"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"startMatching"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inactiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPosition"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minRiskLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxRiskLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availableSettlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"futures"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fundingIntervalMinutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fundingTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1699347600000</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/market_summary</code></p>

<p>Gets market summary information. If no symbol parameter is sent, then all markets will be retrieved.</p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>Market symbol</td>
</tr>
<tr>
<td>listFullAttributes</td>
<td>boolean</td>
<td>No</td>
<td>True to return all attributes of the market summary</td>
</tr>
</tbody></table>
<h3 id='response-content'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>last</td>
<td>double</td>
<td>Yes</td>
<td>Last price</td>
</tr>
<tr>
<td>lowestAsk</td>
<td>double</td>
<td>Yes</td>
<td>Lowest ask price in the orderbook</td>
</tr>
<tr>
<td>highestBid</td>
<td>double</td>
<td>Yes</td>
<td>Highest bid price in the orderbook</td>
</tr>
<tr>
<td>percentageChange</td>
<td>double</td>
<td>Yes</td>
<td>Percentage change against the price within the last 24hours</td>
</tr>
<tr>
<td>volume</td>
<td>double</td>
<td>Yes</td>
<td>Transacted volume</td>
</tr>
<tr>
<td>high24Hr</td>
<td>double</td>
<td>Yes</td>
<td>Highest price over the last 24hours</td>
</tr>
<tr>
<td>low24Hr</td>
<td>double</td>
<td>Yes</td>
<td>Lowest price over the last 24hours</td>
</tr>
<tr>
<td>base</td>
<td>string</td>
<td>Yes</td>
<td>Base currency</td>
</tr>
<tr>
<td>quote</td>
<td>string</td>
<td>Yes</td>
<td>Quote currency</td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator if market is active</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>Transacted size</td>
</tr>
<tr>
<td>minValidPrice</td>
<td>double</td>
<td>Yes</td>
<td>Minimum valid price</td>
</tr>
<tr>
<td>minPriceIncrement</td>
<td>double</td>
<td>Yes</td>
<td>Price increment</td>
</tr>
<tr>
<td>minOrderSize</td>
<td>double</td>
<td>Yes</td>
<td>Minimum tick size</td>
</tr>
<tr>
<td>minSizeIncrement</td>
<td>double</td>
<td>Yes</td>
<td>Tick size</td>
</tr>
<tr>
<td>maxOrderSize</td>
<td>double</td>
<td>Yes</td>
<td>Maximum order size</td>
</tr>
<tr>
<td>openInterest</td>
<td>double</td>
<td>No</td>
<td>Number of open positions in the futures market</td>
</tr>
<tr>
<td>openInterestUSD</td>
<td>double</td>
<td>No</td>
<td>Number of open positions in the futures market in USD notional value</td>
</tr>
<tr>
<td>contractStart</td>
<td>long</td>
<td>No</td>
<td>Contract start time</td>
</tr>
<tr>
<td>contractEnd</td>
<td>long</td>
<td>No</td>
<td>Contract end time</td>
</tr>
<tr>
<td>timeBasedContract</td>
<td>boolean</td>
<td>No</td>
<td>Indicator to indicate if it is a time based contract</td>
</tr>
<tr>
<td>openTime</td>
<td>long</td>
<td>Yes</td>
<td>Market opening time</td>
</tr>
<tr>
<td>closeTime</td>
<td>long</td>
<td>Yes</td>
<td>Market closing time</td>
</tr>
<tr>
<td>startMatching</td>
<td>long</td>
<td>Yes</td>
<td>Matching start time</td>
</tr>
<tr>
<td>inactiveTime</td>
<td>long</td>
<td>Yes</td>
<td>Time where market is inactive</td>
</tr>
<tr>
<td>fundingRate</td>
<td>double</td>
<td>No</td>
<td>The funding rate</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>No</td>
<td>Size of one contract</td>
</tr>
<tr>
<td>maxPosition</td>
<td>double</td>
<td>No</td>
<td>Maximum position a user is allowed to have <code>Will no longer be applicable after risk limit adjustment</code></td>
</tr>
<tr>
<td>minRiskLimit</td>
<td>double</td>
<td>No</td>
<td>Minimum risk limit in contract size  <code>Will be changed to USD value</code></td>
</tr>
<tr>
<td>maxRiskLimit</td>
<td>double</td>
<td>No</td>
<td>Maximum risk limit int contract size <code>Will be changed to USD value</code></td>
</tr>
<tr>
<td>availableSettlement</td>
<td>array</td>
<td>No</td>
<td>Currencies available for settlement</td>
</tr>
<tr>
<td>futures</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator if symbol is a futures contract</td>
</tr>
<tr>
<td>fundingIntervalMinutes</td>
<td>integer</td>
<td>No</td>
<td>Funding interval, only display when param <code>listFullAttributes</code> is true</td>
</tr>
<tr>
<td>fundingTime</td>
<td>long</td>
<td>No</td>
<td>Next funding time, only display when param <code>listFullAttributes</code> is true</td>
</tr>
</tbody></table>
<h2 id='charting-data'>Charting Data</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="mi">1624987380</span><span class="p">,</span><span class="w">
    </span><span class="mi">36477</span><span class="p">,</span><span class="w">
    </span><span class="mi">36477</span><span class="p">,</span><span class="w">
    </span><span class="mf">36473.5</span><span class="p">,</span><span class="w">
    </span><span class="mf">36473.5</span><span class="p">,</span><span class="w">
    </span><span class="mf">693.049</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="mi">1624987320</span><span class="p">,</span><span class="w">
    </span><span class="mf">36476.5</span><span class="p">,</span><span class="w">
    </span><span class="mf">36481.5</span><span class="p">,</span><span class="w">
    </span><span class="mi">36466</span><span class="p">,</span><span class="w">
    </span><span class="mi">36466</span><span class="p">,</span><span class="w">
    </span><span class="mf">2370.8095</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/ohlcv</code></p>

<p>Gets candle stick charting data. Default of 300 data points will be returned at any one time.</p>
<h3 id='request-parameters-2'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>start</td>
<td>long</td>
<td>No</td>
<td>Starting time in milliseconds (eg. 1624987283000)</td>
</tr>
<tr>
<td>end</td>
<td>long</td>
<td>No</td>
<td>Ending time in millisecond (eg. 1624987283000)</td>
</tr>
<tr>
<td>resolution</td>
<td>string</td>
<td>Yes</td>
<td>Supported resolutions are: <br/> 1: 1 min<br/> 5: 5 mins<br/> 15: 15 mins<br/>30: 30 mins<br/>60: 60 mins<br/>240: 4 hours<br/>360: 6 hours<br/>1440: 1day<br/>10080: 1 week<br/>43200: 1 month</td>
</tr>
</tbody></table>
<h3 id='response-content-2'>Response Content</h3>
<p>Returns a 2D array with the indexes described in the table below</p>

<table><thead>
<tr>
<th>Index</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>long</td>
<td>Yes</td>
<td>Unix time</td>
</tr>
<tr>
<td>1</td>
<td>double</td>
<td>Yes</td>
<td>Open price</td>
</tr>
<tr>
<td>2</td>
<td>double</td>
<td>Yes</td>
<td>High Price</td>
</tr>
<tr>
<td>3</td>
<td>double</td>
<td>Yes</td>
<td>Low price</td>
</tr>
<tr>
<td>4</td>
<td>double</td>
<td>Yes</td>
<td>Closing price</td>
</tr>
<tr>
<td>5</td>
<td>double</td>
<td>Yes</td>
<td>Volume</td>
</tr>
</tbody></table>
<h2 id='query-market-price'>Query Market price</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indexPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">36288.949684967</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">36286.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/price</code></p>

<p>Retrieve current prices on the platform. If no symbol specified, all symbols will be returned.</p>
<h3 id='request-parameters-3'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
</tbody></table>
<h3 id='response-content-3'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>double</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>indexPrice</td>
<td>double</td>
<td>Yes</td>
<td>Index price</td>
</tr>
<tr>
<td>lastPrice</td>
<td>double</td>
<td>Yes</td>
<td>Last transacted price</td>
</tr>
<tr>
<td>markPrice</td>
<td>double</td>
<td>Yes</td>
<td>Mark price</td>
</tr>
</tbody></table>
<h2 id='orderbook-by-grouping'>Orderbook (By grouping)</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"buyQuote"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36371.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"sellQuote"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36380.5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624989459489</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/orderbook</code></p>

<p>Retrieves a snapshot of the orderbook.</p>
<h3 id='request-parameters-4'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol, entered as a path variable</td>
</tr>
<tr>
<td>group</td>
<td>integer</td>
<td>No</td>
<td>Orderbook grouping. Valid values are: <br/>0-8 where 0 indicates level 0 grouping (eg. for BTC-PERP, it will be 0.1)<br/>Level 1 grouping for BTC-PERP would be 0.5<br/>Level 2 grouping for BTC-PERP would be 1<br/></td>
</tr>
</tbody></table>
<h3 id='response-content-4'>Response Content</h3><h4 id='orderbook'>Orderbook</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>buyQuote</td>
<td>Quote</td>
<td>Yes</td>
<td>Array of Buy quotes</td>
</tr>
<tr>
<td>sellQuote</td>
<td>Quote</td>
<td>Yes</td>
<td>Array of Sell quotes</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Timestamp of orderbook</td>
</tr>
</tbody></table>
<h4 id='quote'>Quote</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>order price</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>order size</td>
</tr>
</tbody></table>
<h2 id='orderbook-2'>Orderbook</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"buyQuote"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36235.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"700"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"sellQuote"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36241.5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"600"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624989977940</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/orderbook/L2</code></p>

<p>Retrieves a Level 2 snapshot of the orderbook</p>
<h3 id='request-parameters-5'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>depth</td>
<td>long</td>
<td>No</td>
<td>Orderbook depth</td>
</tr>
</tbody></table>
<h3 id='response-content-5'>Response Content</h3><h4 id='orderbook-3'>Orderbook</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>buyQuote</td>
<td>Quote</td>
<td>Yes</td>
<td>Array of Buy quotes</td>
</tr>
<tr>
<td>sellQuote</td>
<td>Quote</td>
<td>Yes</td>
<td>Array of Sell quotes</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Timestamp of orderbook</td>
</tr>
</tbody></table>
<h4 id='quote-2'>Quote</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>order price</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>order size</td>
</tr>
</tbody></table>
<h2 id='query-trades-fills'>Query Trades Fills</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">36164</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"serialId"</span><span class="p">:</span><span class="w"> </span><span class="mi">85997835</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624990097000</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/trades</code></p>

<p>Get trade fills for the market specified by <code>symbol</code></p>
<h3 id='request-parameters-6'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>startTime</td>
<td>long</td>
<td>No</td>
<td>Starting time in milliseconds (eg. 1624987283000)</td>
</tr>
<tr>
<td>endTime</td>
<td>long</td>
<td>No</td>
<td>Ending time in milliseconds (eg. 1624987283000)</td>
</tr>
<tr>
<td>beforeSerialId</td>
<td>string</td>
<td>Yes</td>
<td>Condition to retrieve records before the specified serial Id. Used for pagination</td>
</tr>
<tr>
<td>afterSerialId</td>
<td>string</td>
<td>Yes</td>
<td>Condition to retrieve records after the specified serial Id. Used for pagination</td>
</tr>
<tr>
<td>count</td>
<td>long</td>
<td>Yes</td>
<td>Number of records to return</td>
</tr>
<tr>
<td>includeOld</td>
<td>boolean</td>
<td>Yes</td>
<td>Retrieve trade  history records past 7 days</td>
</tr>
</tbody></table>
<h3 id='response-content-6'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Trade side. Values are: [<code>Buy</code>, <code>SELL</code>]</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Transacted price</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>Transacted size</td>
</tr>
<tr>
<td>serialId</td>
<td>double</td>
<td>Yes</td>
<td>Serial Id, running sequence number</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Transacted timestamp</td>
</tr>
</tbody></table>
<h2 id='funding-history'>Funding History</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"BTC-PERP"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1706515200</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000011405</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/funding_history</code></p>

<p>Get funding rate history for certain symbols</p>
<h3 id='request-parameters-7'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>Market symbol (e.g., BTC-PERP)</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>No</td>
<td>Number of records to return (mutually exclusive with from/to)</td>
</tr>
<tr>
<td>from</td>
<td>long</td>
<td>No</td>
<td>Starting time in milliseconds (e.g., 1624987283000; mutually exclusive with count)</td>
</tr>
<tr>
<td>to</td>
<td>long</td>
<td>No</td>
<td>Ending time in milliseconds (e.g., 1624987283000; mutually exclusive with count)</td>
</tr>
</tbody></table>
<h3 id='response-content-7'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>time</td>
<td>long</td>
<td>Yes</td>
<td>The epoch timestamp in second of the funding rate</td>
</tr>
<tr>
<td>rate</td>
<td>double</td>
<td>Yes</td>
<td>Funding rate</td>
</tr>
</tbody></table>
<h1 id='trade-endpoints'>Trade Endpoints</h1><h2 id='create-new-order'>Create New Order</h2>
<blockquote>
<p>Request (create <code>MARKET</code> order)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (create <code>LIMIT</code> order)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">21000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (create <code>LIMIT</code> <code>TRIGGER</code> order)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">21000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRIGGER"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (create <code>LIMIT</code> <code>STOP</code> order)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">21000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (create <code>OCO</code> order)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">21000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCO"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markPrice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30010</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (create <code>Limit</code> order with <code>TP/SL</code>)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markPrice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">27000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lastPrice"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (create <code>Limit</code> order with <code>TP</code> only)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markPrice"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (create <code>Limit</code> order with <code>SL</code> only)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">27000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lastPrice"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (create hedge mode long position <code>MARKET</code> order)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (create hedge mode short position <code>MARKET</code> reduce order)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response (general)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abb3f457-fdc0-4bdb-a46b-8e4aa49a57c2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660558270207</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response (for <code>OCO</code> order)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">23000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4c9d16c1-9869-4734-bfb8-56318e961ef2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660558185243</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">30000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53749446-39d3-4b72-87c9-92e9fc7e4b8c"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660558185225</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response (for hedge mode order)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abb3f457-fdc0-4bdb-a46b-8e4aa49a57c2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660558270207</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT|LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.2/order</code></p>

<p>Creates a new order. Requires <code>Trading</code> permission</p>
<h3 id='request-parameters-8'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>No</td>
<td>Mandatory unless creating a MARKET order. Order price</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Order size in <code>contract size</code> (this remains unchanged even after risk limit adjustment)</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>&#39;BUY&#39; or &#39;SELL&#39;</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>No</td>
<td>Time validity of the order<br/>GTC: Good till Cancel<br/>IOC: Immediate or Cancel<br/>FOK: Fill or Kill<br/>HALFMIN: Order valid for 30 seconds<br/>FIVEMIN: Order valid for 5 mins<br/> HOUR: Order valid for an hour<br/>TWELVEHOUR: Order valid for 12 hours<br/>DAY: Order valid for a day<br/>WEEK: Order valid for a week<br/>MONTH: Order valid for a month</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>Order type<br/>LIMIT: Limit Orders<br/>MARKET: Market Orders<br/>OCO: One cancel the other</td>
</tr>
<tr>
<td>txType</td>
<td>string</td>
<td>No</td>
<td>Used for Stop orders or trigger orders<br/>STOP: Stop Order, <code>triggerPrice</code> is mandatory<br/>TRIGGER: Trigger order, <code>triggerPrice</code> is mandatory<br/>LIMIT: Default, used when its not a Stop order nor Trigger order</td>
</tr>
<tr>
<td>stopPrice</td>
<td>double</td>
<td>No</td>
<td>Mandatory when creating an OCO order. Indicates the stop price</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>No</td>
<td>Mandatory when creating a Stop, Trigger, OCO order. Indicates the trigger price</td>
</tr>
<tr>
<td>trailValue</td>
<td>double</td>
<td>No</td>
<td>Trail value</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>No</td>
<td>Boolean to indicate if this is a post only order. For post only orders, traders are charged maker fees</td>
</tr>
<tr>
<td>reduceOnly</td>
<td>boolean</td>
<td>No</td>
<td>Boolean to indicate if this is a reduce only order, if in hedge mode, it is used to reduce the specified position, ex: sell to reduce long position, buy to reduce short position.</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>Custom order Id</td>
</tr>
<tr>
<td>trigger</td>
<td>string</td>
<td>No</td>
<td>For creating order with txType: <code>STOP</code> or <code>TRIGGER</code>. Valid options: <code>markPrice</code> (default) or <code>lastPrice</code></td>
</tr>
<tr>
<td>takeProfitPrice</td>
<td>double</td>
<td>No</td>
<td>Mandatory when creating new order with take profit order. Indicates the trigger price</td>
</tr>
<tr>
<td>takeProfitTrigger</td>
<td>string</td>
<td>No</td>
<td>For creating order with take profit order. Valid options: <code>markPrice</code> (default) or <code>lastPrice</code></td>
</tr>
<tr>
<td>stopLossPrice</td>
<td>double</td>
<td>No</td>
<td>Mandatory when creating new order with stop loss order. Indicates the trigger price</td>
</tr>
<tr>
<td>stopLossTrigger</td>
<td>string</td>
<td>No</td>
<td>For creating order with stop loss order. Valid options: <code>markPrice</code> (default) or <code>lastPrice</code></td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>No</td>
<td>For creating order and wanting to specify the positionMode. Valid options: <code>ONE_WAY</code> (default) , <code>HEDGE</code> , <code>ISOLATED</code></td>
</tr>
</tbody></table>
<h3 id='response-content-8'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>Customer tag sent in by trader</td>
</tr>
<tr>
<td>fillSize</td>
<td>number</td>
<td>Yes</td>
<td>Trade filled size</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>Order type <br/>76: Limit Order<br/>77: Market order<br/>80: Algo order</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicates if order is a post only order</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Order price</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Order side<br/>BUY or SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Order size in <code>contract size</code> (this remains unchanged even after risk limit adjustment)</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>Order status<br/> 2: Order Inserted<br/>3: Order Transacted<br/>4: Order Fully Transacted<br/>5: Order Partially Transacted<br/>6: Order Cancelled<br/>7: Order Refunded<br/>9: Trigger Inserted<br>10: Trigger Activated<br/>15: Order Rejected<br/>16: Order Not Found<br/>17: Request failed</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>Order validity</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Order timestamp</td>
</tr>
<tr>
<td>trigger</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator if order is a trigger order</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>Order trigger price, returns 0 if order is not a trigger order</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>Average filled price. Returns the average filled price for partially transacted orders</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>Trade messages</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>Only valid for Algo orders</td>
</tr>
<tr>
<td>deviation</td>
<td>double</td>
<td>Yes</td>
<td>Only valid for Algo orders</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>Size left to be transacted</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>Original order size</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>Position mode<br/>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>The current order belongs to the id of position.</td>
</tr>
</tbody></table>
<h2 id='create-new-algo-order'>Create new algo order</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">21500</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60a30188-f2a2-4498-b061-7d72126c18c2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mi">-10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21500.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"de9f94bb-0ca0-470b-830e-9bc2e109c719"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660554373317</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">-10.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60a30188-f2a2-4498-b061-7d72126c18c2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.2/order/peg</code></p>

<p>Creates a new algo order. Algo order is an order that price will change according to market price. To create an algo order, user will need to enter additional parameters:</p>

<ul>
<li><code>price</code>: What is the min price (for a sell order) or maximum price (for a buy order) that a user will be willing to list his order at</li>
<li><code>deviation</code>: How much should the order price deviate from index price. Value is in percentage and can range from <code>-10</code> to <code>10</code></li>
<li><code>stealth</code>: How many percent of the order is to be displayed on the orderbook.</li>
</ul>

<p>This API Requires <code>Trading</code> permission</p>
<h3 id='request-parameters-9'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Minimum price for a sell order, this is the lowest price that a user is willing to sell at. Maximum price for a buy order, this is the maximum price a user is willing to buy at.</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Order size</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Order side<br/>BUY or SELL</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>Custom order Id</td>
</tr>
<tr>
<td>deviation</td>
<td>double</td>
<td>No</td>
<td>How much should the order price deviate from index price. Value is in percentage and can range from <code>-10</code> to <code>10</code></td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>No</td>
<td>How many percent of the order is to be displayed on the orderbook.</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>No</td>
<td>For creating order and wanting to specify the positionMode. Valid options: <code>ONE_WAY</code> (default) , <code>HEDGE</code> , <code>ISOLATED</code></td>
</tr>
</tbody></table>
<h3 id='response-content-9'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>Customer tag sent in by trader</td>
</tr>
<tr>
<td>fillSize</td>
<td>number</td>
<td>Yes</td>
<td>Trade filled size</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>Order type <br/>76: Limit Order<br/>77: Market order<br/>80: Algo order</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicates if order is a post only order</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Order price</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Order side<br/>BUY or SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Order size in <code>contract size</code> (this remains unchanged even after risk limit adjustment)</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>Order status<br/> 2: Order Inserted<br/>3: Order Transacted<br/>4: Order Fully Transacted<br/>5: Order Partially Transacted<br/>6: Order Cancelled<br/>7: Order Refunded<br/>9: Trigger Inserted<br>10: Trigger Activated<br/>15: Order Rejected<br/>16: Order Not Found<br/>17: Request failed</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>Order validity</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Order timestamp</td>
</tr>
<tr>
<td>trigger</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator if order is a trigger order</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>Order trigger price, returns 0 if order is not a trigger order</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>Average filled price. Returns the average filled price for partially transacted orders</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>Trade messages</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>Stealth value of order</td>
</tr>
<tr>
<td>deviation</td>
<td>double</td>
<td>Yes</td>
<td>Deviation value of order</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>Size left to be transacted</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>Original order size</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>Position mode<br/>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>The current order belongs to the id of position.</td>
</tr>
</tbody></table>
<h2 id='query-order'>Query Order</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filledSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.111</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceDeviation"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698757024617</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Order UUID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggered"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOrderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerTrailingStopDeviation"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerStopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Order clOrderID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFilledPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/order</code> </p>

<p>Query order detail for a specified orderID/clOrderID, please note that a canceled order will only exist for 30 minutes. Requires <code>Trading</code> permission.</p>
<h3 id='request-parameters-10'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderID</td>
<td>String</td>
<td>No</td>
<td>Unique identifier for an order. Mandatory when clOrderID is not provided. If orderID is provided, clOrderID will be ignored.</td>
</tr>
<tr>
<td>clOrderID</td>
<td>String</td>
<td>No</td>
<td>Client custom order ID. Mandatory when orderID is not provided.</td>
</tr>
</tbody></table>
<h3 id='response-content-10'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderID</td>
<td>String</td>
<td>Yes</td>
<td>Order ID</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>quote</td>
<td>String</td>
<td>Yes</td>
<td>Quote symbol</td>
</tr>
<tr>
<td>orderType</td>
<td>Integer</td>
<td>Yes</td>
<td>Order type</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>Yes</td>
<td>Order side</td>
</tr>
<tr>
<td>price</td>
<td>Double</td>
<td>Yes</td>
<td>Order price</td>
</tr>
<tr>
<td>size</td>
<td>Double</td>
<td>Yes</td>
<td>Order size</td>
</tr>
<tr>
<td>orderValue</td>
<td>Double</td>
<td>Yes</td>
<td>Total value of of this order</td>
</tr>
<tr>
<td>filledSize</td>
<td>Double</td>
<td>Yes</td>
<td>Filled Size</td>
</tr>
<tr>
<td>pegPriceMin</td>
<td>Double</td>
<td>Yes</td>
<td>Minimum possible peg price this takes precedence over pegPriceDeviation</td>
</tr>
<tr>
<td>pegPriceMax</td>
<td>Double</td>
<td>Yes</td>
<td>Peg Price Max (New Entry)</td>
</tr>
<tr>
<td>pegPriceDeviation</td>
<td>Double</td>
<td>Yes</td>
<td>Percentage deviation from Index price</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>Yes</td>
<td>Order timestamp</td>
</tr>
<tr>
<td>triggerOrder</td>
<td>Boolean</td>
<td>Yes</td>
<td>Indicator if order is a trigger order</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>Double</td>
<td>Yes</td>
<td>Order trigger price, returns 0 if order is not a trigger order</td>
</tr>
<tr>
<td>triggerOriginalPrice</td>
<td>Double</td>
<td>Yes</td>
<td>Price of the original order. Only valid if it&#39;s a triggered order</td>
</tr>
<tr>
<td>triggerOrderType</td>
<td>Integer</td>
<td>Yes</td>
<td>Order type</td>
</tr>
<tr>
<td>triggerTrailingStopDeviation</td>
<td>Double</td>
<td>Yes</td>
<td>Percentage deviation from stop price</td>
</tr>
<tr>
<td>triggerStopPrice</td>
<td>Double</td>
<td>Yes</td>
<td>Stop price, Algo Order only</td>
</tr>
<tr>
<td>triggered</td>
<td>Boolean</td>
<td>Yes</td>
<td>Indicate whether the order is triggered</td>
</tr>
<tr>
<td>trailValue</td>
<td>Double</td>
<td>Yes</td>
<td>Trail value</td>
</tr>
<tr>
<td>clOrderID</td>
<td>String</td>
<td>Yes</td>
<td>Customer tag sent in by trader</td>
</tr>
<tr>
<td>averageFillPrice</td>
<td>Double</td>
<td>Yes</td>
<td>Average filled price. Returns the average filled price for partially transacted orders</td>
</tr>
<tr>
<td>remainingSize</td>
<td>Double</td>
<td>Yes</td>
<td>remainingSize</td>
</tr>
<tr>
<td>status</td>
<td>Integer</td>
<td>Yes</td>
<td>Order status. Please refer to <a href="#api-enum"><code>API Enum</code></a></td>
</tr>
<tr>
<td>takeProfitOrder</td>
<td>TakeProfitOrder object</td>
<td>No</td>
<td>Take profit order info</td>
</tr>
<tr>
<td>stopLossOrder</td>
<td>StopLossOrder object</td>
<td>No</td>
<td>Stop loss order info</td>
</tr>
<tr>
<td>closeOrder</td>
<td>bool</td>
<td>Yes</td>
<td>Whether it is an order to close this position</td>
</tr>
<tr>
<td>timeInForce</td>
<td>String</td>
<td>Yes</td>
<td>Order validity</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>Yes</td>
<td>The order contract size</td>
</tr>
</tbody></table>
<h2 id='amend-order'>Amend Order</h2>
<blockquote>
<p>Request (amend price)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604c3ebf-d7fa-468d-9ff0-f6ad030221b4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRICE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">22000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (amend all)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604c3ebf-d7fa-468d-9ff0-f6ad030221b4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30010</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">20000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604c3ebf-d7fa-468d-9ff0-f6ad030221b4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660639762254</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>PUT /api/v2.2/order</code></p>

<p>Amend the price or size or trigger price of an order. For trigger orders, if the order has already been triggered, the trigger price cannot be further amended. Amend order <em>does not</em> apply to algo orders</p>
<h3 id='request-parameters-11'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>No</td>
<td>Internal order ID. Mandatory when <code>clOrderID</code> is not provided. If <code>orderID</code> is provided, <code>clOrderID</code> will be ignored.</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>Custom order ID. Mandatory when <code>orderID</code> is not provided.</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>Type of amendmend<br/><code>PRICE</code>: To amend order price<br/><code>SIZE</code>: To amend order size<br/><code>TRIGGERPRICE</code>: To amend trigger price<br/><code>ALL</code>: to amend multiple fields</td>
</tr>
<tr>
<td>value</td>
<td>number</td>
<td>Yes</td>
<td>The value to be amended to. Value depends on the type being set.</td>
</tr>
<tr>
<td>orderPrice</td>
<td>number</td>
<td>No</td>
<td>For type: <code>ALL</code>, order price to be amended</td>
</tr>
<tr>
<td>orderSize</td>
<td>number</td>
<td>No</td>
<td>For type: <code>ALL</code>, order size in contract size to be amended</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>number</td>
<td>No</td>
<td>For type: <code>ALL</code>, trigger price to be amended</td>
</tr>
</tbody></table>
<h3 id='response-content-11'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>Customer tag sent in by trader</td>
</tr>
<tr>
<td>fillSize</td>
<td>string</td>
<td>Yes</td>
<td>Trade filled size</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>Order type <br/>76: Limit Order<br/>77: Market order<br/>80: Algo order</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicates if order is a post only order</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Order price</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Order side<br/>BUY or SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Order size in <code>contract size</code> (this remains unchanged even after risk limit adjustment)</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>Order status<br/> 2: Order Inserted<br/>3: Order Transacted<br/>4: Order Fully Transacted<br/>5: Order Partially Transacted<br/>6: Order Cancelled<br/>7: Order Refunded<br/>9: Trigger Inserted<br>10: Trigger Activated<br/>15: Order Rejected<br/>16: Order Not Found<br/>17: Request failed</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>Order validity</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Order timestamp</td>
</tr>
<tr>
<td>trigger</td>
<td>string</td>
<td>Yes</td>
<td>Indicator if order is a trigger order</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>string</td>
<td>Yes</td>
<td>Order trigger price, returns 0 if order is not a trigger order</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>string</td>
<td>Yes</td>
<td>Average filled price. Returns the average filled price for partially transacted orders</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>Trade messages</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>Stealth value of order</td>
</tr>
<tr>
<td>deviation</td>
<td>string</td>
<td>Yes</td>
<td>Deviation value of order</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>Size left to be transacted</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>Original order size</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>Position mode<br/>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>The current order belongs to the id of position.</td>
</tr>
</tbody></table>
<h2 id='cancel-order'>Cancel Order</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>/api/v2.2/order?symbol=BTC-PERP&amp;clOrderID=my-order-id
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">19000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ae5b1b27-d5fe-41e2-89f8-f17b60fb3def"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660640879996</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /api/v2.2/order</code></p>

<p>Cancels pending orders that has not yet been transacted. The <code>orderID</code> is a unique identifier to cancel a particular order. <code>clOrderID</code> is a custom ID sent in by the trader. When cancel by <code>clOrderID</code>, all orders having the same ID will be cancelled. If <code>orderID</code> and <code>clOrderID</code> is not sent in, then cancellation will be for all orders in the current market.</p>
<h3 id='request-parameters-12'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>No</td>
<td>Unique identifier for an order. Mandatory when <code>clOrderID</code> is not provided. If <code>orderID</code> is provided, <code>clOrderID</code> will be ignored.</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>Client custom order ID. Mandatory when <code>orderID</code> is not provided.</td>
</tr>
</tbody></table>
<h3 id='response-content-12'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>Customer tag sent in by trader</td>
</tr>
<tr>
<td>fillSize</td>
<td>double</td>
<td>Yes</td>
<td>Trade filled size</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>Order type <br/>76: Limit Order<br/>77: Market order<br/>80: Algo order</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicates if order is a post only order</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Order price</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Order side<br/>BUY or SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Order size in <code>contract size</code> (this remains unchanged even after risk limit adjustment)</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>Order status<br/> 2: Order Inserted<br/>3: Order Transacted<br/>4: Order Fully Transacted<br/>5: Order Partially Transacted<br/>6: Order Cancelled<br/>7: Order Refunded<br/>9: Trigger Inserted<br>10: Trigger Activated<br/>15: Order Rejected<br/>16: Order Not Found<br/>17: Request failed</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>Order validity</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Order timestamp</td>
</tr>
<tr>
<td>trigger</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator if order is a trigger order</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>Order trigger price, returns 0 if order is not a trigger order</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>Average filled price. Returns the average filled price for partially transacted orders</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>Trade messages</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>Stealth value of order</td>
</tr>
<tr>
<td>deviation</td>
<td>double</td>
<td>Yes</td>
<td>Deviation value of order</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>Size left to be transacted</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>Original order size</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>Position mode<br/>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>The current order belongs to the id of position.</td>
</tr>
</tbody></table>
<h2 id='dead-man-39-s-switch-cancel-all-after'>Dead Man&#39;s Switch (Cancel All After)</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.2/order/cancelAllAfter</code></p>

<p>Dead-man&#39;s switch allows the trader to send in a timeout value which is a Time to live (TTL) value for an order. Extension of the timeout is done by sending another <code>cancelAllAfter</code> request. If the server does not receive another request before the timeout is reached, all orders will be cancelled.</p>
<h3 id='request-parameters-13'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timeout</td>
<td>long</td>
<td>Yes</td>
<td>Timeout value in milliseconds</td>
</tr>
</tbody></table>
<h3 id='response-content-13'>Response Content</h3>
<ul>
<li>If set correctly, a HTTP 200 response code will be returned</li>
</ul>
<h2 id='query-open-orders'>Query Open Orders</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>/api/v2.2/user/open_orders?symbol=BTC-PERP
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filledSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMax"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceDeviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660645487032</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2eb1c6f5-2ab2-4706-ab88-eea6b710a78b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggered"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOrderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerTrailingStopDeviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerStopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STATUS_ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFilledPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averageFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea1ab233-c79a-4503-a475-f8633ecc9d79"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">31000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48523190-77b9-44ea-bee0-d67a428a51b8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">27000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/user/open_orders</code></p>

<p>Retrieves open orders that have not yet been matched or matched recently.</p>
<h3 id='request-parameters-14'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>Market symbol</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>No</td>
<td>Query using internal order ID</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>Query using custom order ID. If <code>orderID</code> is provided, <code>clOrderID</code> will be ignored.</td>
</tr>
</tbody></table>
<h3 id='response-content-14'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>Customer tag sent in by trader</td>
</tr>
<tr>
<td>filledSize</td>
<td>long</td>
<td>Yes</td>
<td>Trade filled size</td>
</tr>
<tr>
<td>orderValue</td>
<td>double</td>
<td>Yes</td>
<td>Notional value</td>
</tr>
<tr>
<td>pegPriceMin</td>
<td>double</td>
<td>Yes</td>
<td>peg price min</td>
</tr>
<tr>
<td>pegPriceMax</td>
<td>double</td>
<td>Yes</td>
<td>peg price max</td>
</tr>
<tr>
<td>pegPriceDeviation</td>
<td>double</td>
<td>Yes</td>
<td>Deviation percentage. Only for Algo orders</td>
</tr>
<tr>
<td>cancelDuration</td>
<td>long</td>
<td>Yes</td>
<td>Expire in milliseconds. <br/>0: GTC<br/>-1: IOC</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>Order type <br/>76: Limit Order<br/>77: Market order<br/>80: Algo order</td>
</tr>
<tr>
<td>timeInForce</td>
<td>string</td>
<td>Yes</td>
<td>Order validity</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Order price</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Order side<br/>BUY or SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Order size in contract size</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Order timestamp</td>
</tr>
<tr>
<td>triggerOrder</td>
<td>bool</td>
<td>Yes</td>
<td>Indicate if this is a trigger order</td>
</tr>
<tr>
<td>triggered</td>
<td>bool</td>
<td>Yes</td>
<td>Indicate if this order has been triggered</td>
</tr>
<tr>
<td>triggerUseLastPrice</td>
<td>bool</td>
<td>Yes</td>
<td>Indicate if this trigger order uses last price</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>Order trigger price, returns 0 if order is not a trigger order</td>
</tr>
<tr>
<td>triggerOriginalPrice</td>
<td>double</td>
<td>Yes</td>
<td>Original trigger price</td>
</tr>
<tr>
<td>triggerOrderType</td>
<td>string</td>
<td>Yes</td>
<td>Trigger order type <br/>1001: Trigger stop loss <br/>1002: Trigger take profit</td>
</tr>
<tr>
<td>triggerTrailingStopDeviation</td>
<td>double</td>
<td>Yes</td>
<td>Reserved attribute</td>
</tr>
<tr>
<td>triggerStopPrice</td>
<td>double</td>
<td>Yes</td>
<td>Reserved attribute</td>
</tr>
<tr>
<td>trailValue</td>
<td>double</td>
<td>Yes</td>
<td>Reserved attribute</td>
</tr>
<tr>
<td>reduceOnly</td>
<td>bool</td>
<td>Yes</td>
<td>Indicate if this order is reduce only</td>
</tr>
<tr>
<td>avgFilledPrice</td>
<td>double</td>
<td>Yes</td>
<td>Average filled price. Returns the average filled price for partially transacted orders</td>
</tr>
<tr>
<td>averageFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>Average fill price</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>Stealth value of order</td>
</tr>
<tr>
<td>orderState</td>
<td>string</td>
<td>Yes</td>
<td><code>STATUS_ACTIVE</code>, <code>STATUS_INACTIVE</code></td>
</tr>
<tr>
<td>takeProfitOrder</td>
<td>TakeProfitOrder object</td>
<td>No</td>
<td>Take profit order info</td>
</tr>
<tr>
<td>stopLossOrder</td>
<td>StopLossOrder object</td>
<td>No</td>
<td>Stop loss order info</td>
</tr>
<tr>
<td>closeOrder</td>
<td>bool</td>
<td>Yes</td>
<td>Whether it is an order to close this position</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>Position mode<br/>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>The current order belongs to the id of position.</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>Yes</td>
<td>The order contract size</td>
</tr>
</tbody></table>
<h2 id='query-trades-fills-2'>Query Trades Fills</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>/api/v2.2/user/trade_history?symbol=BTC-PERP
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filledPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filledSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averageFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"serialId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"number"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/user/trade_history</code></p>

<p>Retrieves a user&#39;s trade history</p>
<h3 id='request-parameters-15'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>Market symbol</td>
</tr>
<tr>
<td>startTime</td>
<td>long</td>
<td>No</td>
<td>Starting time (eg. 1624987283000)</td>
</tr>
<tr>
<td>endTime</td>
<td>long</td>
<td>No</td>
<td>Ending time (eg. 1624987283000)</td>
</tr>
<tr>
<td>beforeSerialId</td>
<td>string</td>
<td>No</td>
<td>Condition to retrieve records before the specified serial Id. Used for pagination</td>
</tr>
<tr>
<td>afterSerialId</td>
<td>string</td>
<td>No</td>
<td>Condition to retrieve records after the specified serial Id. Used for pagination</td>
</tr>
<tr>
<td>count</td>
<td>long</td>
<td>No</td>
<td>Number of records to return</td>
</tr>
<tr>
<td>includeOld</td>
<td>boolean</td>
<td>No</td>
<td>Retrieve trade  history records past 7 days</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>No</td>
<td>Query trade history by order ID</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>Query trade history by custom order ID</td>
</tr>
</tbody></table>
<h3 id='response-content-15'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Trade side. Values are: [<code>BUY</code>, <code>SELL</code>]</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Transacted price</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Original order size</td>
</tr>
<tr>
<td>serialId</td>
<td>long</td>
<td>Yes</td>
<td>Serial Id, running sequence number</td>
</tr>
<tr>
<td>tradeId</td>
<td>string</td>
<td>Yes</td>
<td>Trade identifier</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Transacted timestamp</td>
</tr>
<tr>
<td>base</td>
<td>string</td>
<td>Yes</td>
<td>Base currency</td>
</tr>
<tr>
<td>quote</td>
<td>string</td>
<td>Yes</td>
<td>Quote currency</td>
</tr>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>Wallet name<br/><code>CROSS@</code>: Cross wallet<br/><code>ISOLATED@market</code>: Market refers to the current symbol with <code>-USDT</code> appended. Eg. BTC-PERP isolated wallet would be <code>ISOLATED@BTC-PERP-USDT</code></td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>Custom order ID</td>
</tr>
<tr>
<td>orderId</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>Yes</td>
<td>btse username</td>
</tr>
<tr>
<td>triggerType</td>
<td>long</td>
<td>Yes</td>
<td>Trigger type<br/>1001: Stop Loss<br/>1002: Take Profit</td>
</tr>
<tr>
<td>feeAmount</td>
<td>long</td>
<td>Yes</td>
<td>Fee amount</td>
</tr>
<tr>
<td>feeCurrency</td>
<td>long</td>
<td>Yes</td>
<td>Fee currency</td>
</tr>
<tr>
<td>filledPrice</td>
<td>double</td>
<td>Yes</td>
<td>Filled price</td>
</tr>
<tr>
<td>averageFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>Average filled price</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>Trigger price</td>
</tr>
<tr>
<td>filledSize</td>
<td>long</td>
<td>Yes</td>
<td>Filled size</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>Order Type</td>
</tr>
<tr>
<td>realizedPnL</td>
<td>double</td>
<td>Yes</td>
<td>Not used in Spot</td>
</tr>
<tr>
<td>total</td>
<td>long</td>
<td>Yes</td>
<td>Not used in Spot</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>The current order belongs to the id of position.</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>Yes</td>
<td>The trade contract size</td>
</tr>
</tbody></table>
<h2 id='query-position'>Query Position</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>/api/v2.2/user/positions
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29286.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">441.8492</span><span class="p">,</span><span class="w">
    </span><span class="nl">"settleWithAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.23538014</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.366912551</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">62</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1576661434072</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea1ab233-c79a-4503-a475-f8633ecc9d79"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">31000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48523190-77b9-44ea-bee0-d67a428a51b8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">27000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="w">
  </span><span class="p">},{</span><span class="w">
     </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
     </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1631.106666667</span><span class="p">,</span><span class="w">
     </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1630.398947255</span><span class="p">,</span><span class="w">
     </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-PERP"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"orderValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">48.9119684176</span><span class="p">,</span><span class="w">
     </span><span class="nl">"settleWithAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.02123158</span><span class="p">,</span><span class="w">
     </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.254871114</span><span class="p">,</span><span class="w">
     </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
     </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
     </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-PERP-USDT|LONG"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0340349245</span><span class="p">,</span><span class="w">
     </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/user/positions</code></p>

<p>Queries user&#39;s current position. When no symbol is specified, positions for all markets will be returned.</p>
<h3 id='request-parameters-16'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>Market symbol</td>
</tr>
</tbody></table>
<h3 id='response-content-16'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Position side. Values are: [<code>Buy</code>, <code>SELL</code>]</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Position size</td>
</tr>
<tr>
<td>entryPrice</td>
<td>double</td>
<td>Yes</td>
<td>Entry price</td>
</tr>
<tr>
<td>markPrice</td>
<td>double</td>
<td>Yes</td>
<td>Mark price</td>
</tr>
<tr>
<td>marginType</td>
<td>long</td>
<td>Yes</td>
<td>Margin Type. Values as follows<br/>91: CROSS wallet<br/>92: Isolated wallet</td>
</tr>
<tr>
<td>orderValue</td>
<td>double</td>
<td>Yes</td>
<td>Notional value</td>
</tr>
<tr>
<td>settleWithAsset</td>
<td>string</td>
<td>Yes</td>
<td>Settlement currency</td>
</tr>
<tr>
<td>totalMaintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>Maintenance margin</td>
</tr>
<tr>
<td>unrealizedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>Unrealized profit and loss</td>
</tr>
<tr>
<td>liquidationPrice</td>
<td>double</td>
<td>Yes</td>
<td>Liquidation Price</td>
</tr>
<tr>
<td>isolatedLeverage</td>
<td>double</td>
<td>Yes</td>
<td>Isolated leverage value</td>
</tr>
<tr>
<td>adlScoreBucket</td>
<td>double</td>
<td>Yes</td>
<td>ADL Score probability</td>
</tr>
<tr>
<td>liquidationInProgress</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator if liquidation is in progress</td>
</tr>
<tr>
<td>currentLeverage</td>
<td>double</td>
<td>Yes</td>
<td>Current leverage</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Timestamp when position was queried</td>
</tr>
<tr>
<td>takeProfitOrder</td>
<td>TakeProfitOrder object</td>
<td>No</td>
<td>Take profit order info</td>
</tr>
<tr>
<td>stopLossOrder</td>
<td>StopLossOrder object</td>
<td>No</td>
<td>Stop loss order info</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>Position mode<br/>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>Position id</td>
</tr>
</tbody></table>
<h2 id='close-position'>Close Position</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request(For hedge mode position)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT|LONG"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">24010.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"93cf814a-595e-4b20-bba9-5c5340ca947d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660710188450</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">24010.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.2/order/close_position</code></p>

<p>Closes a user&#39;s position for the particular market as specified by symbol. If type is specified as LIMIT, then price is mandatory. When type is MARKET, it closes the position at market price.</p>
<h3 id='request-parameters-17'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>Close position type with values:<br/>LIMIT: Close at <code>price</code><br/>MARKET: Close at market price</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>No</td>
<td>Close price. Mandatory when type is <code>LIMIT</code></td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>No</td>
<td>Boolean to indicate if this is a post only order. For post only orders, traders are charged maker fees</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>No</td>
<td>The position ID that you want to close. Mandatory when positionMode is <code>HEDGE</code> or <code>ISOLATED</code></td>
</tr>
</tbody></table>
<h3 id='response-content-17'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>Customer tag sent in by trader</td>
</tr>
<tr>
<td>fillSize</td>
<td>string</td>
<td>Yes</td>
<td>Trade filled size</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>Order type <br/>76: Limit Order<br/>77: Market order<br/>80: Algo order</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicates if order is a post only order</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Order price</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Order side<br/>BUY or SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Cancelled size</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>Order status<br/> 2: Order Inserted<br/>3: Order Transacted<br/>4: Order Fully Transacted<br/>5: Order Partially Transacted<br/>6: Order Cancelled<br/>7: Order Refunded<br/>9: Trigger Inserted<br>10: Trigger Activated<br/>15: Order Rejected<br/>16: Order Not Found<br/>17: Request failed</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>Order validity</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Order timestamp</td>
</tr>
<tr>
<td>trigger</td>
<td>string</td>
<td>Yes</td>
<td>Indicator if order is a trigger order</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>string</td>
<td>Yes</td>
<td>Order trigger price, returns 0 if order is not a trigger order</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>string</td>
<td>Yes</td>
<td>Average filled price. Returns the average filled price for partially transacted orders</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>Trade messages</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>Stealth value of order</td>
</tr>
<tr>
<td>deviation</td>
<td>string</td>
<td>Yes</td>
<td>Deviation value of order</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>Size left to be transacted</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>Original order size</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>Position mode<br/>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>Position id</td>
</tr>
</tbody></table>
<h2 id='get-risk-limit'>Get Risk Limit</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>/api/v2.2/risk_limit?symbol=BTC-PERP
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/risk_limit</code></p>

<p>Query risk limit for the specified market</p>
<h3 id='request-parameters-18'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
</tbody></table>
<h3 id='response-content-18'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>riskLimit</td>
<td>long</td>
<td>Yes</td>
<td>Risk limit value now in position size, but will be changed to USD value along with futures market name change</td>
</tr>
</tbody></table>
<h2 id='set-risk-limit'>Set Risk Limit</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"riskLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (When positionMode is <code>HEDGE</code> or <code>ISOLATED</code>)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1577093486551</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.2/risk_limit</code></p>

<p>Changes risk limit for the specified market</p>
<h3 id='request-parameters-19'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>riskLimit</td>
<td>long</td>
<td>Yes</td>
<td>Risk limit value now in position size, but it will be changed to USD value in the future.</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>no</td>
<td>ONE_WAY(default) or HEDGE. Mandatory when positionMode is <code>HEDGE</code> or <code>ISOLATED</code></td>
</tr>
</tbody></table>
<h3 id='response-content-19'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>Status of the request. Values are: <br/>8: Insufficient Balance<br/>12: Error in updating risk limit<br/>20: Success<br/>41: Invalid risk limit</td>
</tr>
<tr>
<td>type</td>
<td>double</td>
<td>Yes</td>
<td>Value will be 94 indicating that type is <code>Risk Limit</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Timestamp where risk limit was set</td>
</tr>
<tr>
<td>message</td>
<td>long</td>
<td>Yes</td>
<td>Message</td>
</tr>
</tbody></table>
<h2 id='set-leverage'>Set Leverage</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"marginMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (When positionMode is <code>HEDGE</code> or <code>ISOLATED</code>)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660711246942</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">93</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.2/leverage</code></p>

<p>Change leverage values for the specified market</p>
<h3 id='request-parameters-20'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>leverage</td>
<td>double</td>
<td>Yes</td>
<td>Leverage value, 0 means cross maximum leverage</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>no</td>
<td>ONE_WAY(default) or HEDGE. Mandatory when positionMode is <code>HEDGE</code> or <code>ISOLATED</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>no</td>
<td>The position ID that you want to change. Mandatory when positionMode is <code>HEDGE</code> or <code>ISOLATED</code></td>
</tr>
<tr>
<td>marginMode</td>
<td>string</td>
<td>no</td>
<td>CROSS or ISOLATED(default)</td>
</tr>
</tbody></table>
<h3 id='response-content-20'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>Status of the request. Values are: <br/>8: Insufficient Balance<br/>13: Invalid leverage<br/>20: Success<br/>64: Undergoing liquidation</td>
</tr>
<tr>
<td>type</td>
<td>double</td>
<td>Yes</td>
<td>Value will be 93 indicating that type is <code>Leverage</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Timestamp where leverage was set</td>
</tr>
<tr>
<td>message</td>
<td>long</td>
<td>Yes</td>
<td>Message</td>
</tr>
</tbody></table>
<h2 id='get-leverage'>Get Leverage</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"marginMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ISOLATED"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>Get /api/v2.2/leverage</code></p>

<p>Get leverage value for the specified market</p>
<h3 id='request-parameters-21'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
</tbody></table>
<h3 id='response-content-21'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>leverage</td>
<td>double</td>
<td>Yes</td>
<td>Current leverage value for the market, return 0 means the leverage is the maximum cross leverage</td>
</tr>
<tr>
<td>marginMode</td>
<td>string</td>
<td>Yes</td>
<td>Current margin mode</td>
</tr>
</tbody></table>
<h2 id='change-contract-settlement-currency'>Change Contract Settlement Currency</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request (When positionMode is <code>HEDGE</code> or <code>ISOLATED</code>)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT|LONG"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response (only available when an error occurs)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.2/settle_in</code></p>

<p>Changes the settlement currency for the position in the current market</p>
<h3 id='request-parameters-22'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>Settlement currency to set</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>No</td>
<td>The position ID that you want to set. Mandatory when positionMode is <code>HEDGE</code> or <code>ISOLATED</code></td>
</tr>
</tbody></table>
<h3 id='response-content-22'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>long</td>
<td>No</td>
<td>Status. Only available when an error occurs.</td>
</tr>
<tr>
<td>errorCode</td>
<td>long</td>
<td>No</td>
<td>Error code. Only available when an error occurs.</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>No</td>
<td>Response message. Only available when an error occurs.</td>
</tr>
</tbody></table>
<h2 id='query-account-fee'>Query Account Fee</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"makerFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"takerFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/user/fees</code></p>

<p>Retrieve user&#39;s trading fees</p>
<h3 id='request-parameters-23'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>Market symbol</td>
</tr>
</tbody></table>
<h3 id='response-content-23'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>makerFee</td>
<td>double</td>
<td>Yes</td>
<td>Maker fees</td>
</tr>
<tr>
<td>takerFee</td>
<td>double</td>
<td>Yes</td>
<td>Taker fees</td>
</tr>
</tbody></table>
<h2 id='bind-tp-sl'>Bind TP/SL</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markPrice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">22000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lastPrice"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4820b20a-e41b-4273-b3ad-4b19920aeeb5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1691974463934</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">31000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderDetailType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.2/order/bind/tpsl</code></p>

<p>Bind TP/SL with an existing position</p>
<h3 id='request-parameters-24'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>yes</td>
<td>&quot;BUY&quot; or &quot;SELL&quot; Mandatory when positionMode is <code>HEDGE</code>, in hedge mode, it is used to clsoe the specified position, ex: sell to close long position, buy to close short position</td>
</tr>
<tr>
<td>takeProfitPrice</td>
<td>double</td>
<td>No</td>
<td>Mandatory when creating new order with take profit order. Indicates the trigger price. Must set takeProfitPrice or stopLossPrice at least when using this API.</td>
</tr>
<tr>
<td>takeProfitTrigger</td>
<td>string</td>
<td>No</td>
<td>For creating order with take profit order. Valid options: <code>markPrice</code> (default) or <code>lastPrice</code></td>
</tr>
<tr>
<td>stopLossPrice</td>
<td>double</td>
<td>No</td>
<td>Mandatory when creating new order with stop loss order. Indicates the trigger price</td>
</tr>
<tr>
<td>stopLossTrigger</td>
<td>string</td>
<td>No</td>
<td>For creating order with stop loss order. Valid options: <code>markPrice</code> (default) or <code>lastPrice</code></td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>no</td>
<td>ONE_WAY(default) or HEDGE or ISOLATED. Mandatory when positionMode is <code>HEDGE</code> or <code>ISOLATED</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>no</td>
<td>The position ID that you want to bind. Mandatory when positionMode is <code>ISOLATED</code></td>
</tr>
</tbody></table>
<h3 id='response-content-24'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>Customer tag sent in by trader</td>
</tr>
<tr>
<td>fillSize</td>
<td>number</td>
<td>Yes</td>
<td>Trade filled size</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>Order ID</td>
</tr>
<tr>
<td>orderType</td>
<td>string</td>
<td>Yes</td>
<td>Order type <br/>76: Limit Order<br/>77: Market order<br/>80: Algo order</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicates if order is a post only order</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Order price</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Order side<br/>BUY or SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>Order size in <code>contract size</code> (this remains unchanged even after risk limit adjustment)</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>Order status<br/> 2: Order Inserted<br/>3: Order Transacted<br/>4: Order Fully Transacted<br/>5: Order Partially Transacted<br/>6: Order Cancelled<br/>7: Order Refunded<br/>9: Trigger Inserted<br>10: Trigger Activated<br/>15: Order Rejected<br/>16: Order Not Found<br/>17: Request failed</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>Order validity</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Order timestamp</td>
</tr>
<tr>
<td>trigger</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator if order is a trigger order</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>Order trigger price, returns 0 if order is not a trigger order</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>Average filled price. Returns the average filled price for partially transacted orders</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>Trade messages</td>
</tr>
<tr>
<td>stealth</td>
<td>string</td>
<td>Yes</td>
<td>Only valid for Algo orders</td>
</tr>
<tr>
<td>deviation</td>
<td>double</td>
<td>Yes</td>
<td>Only valid for Algo</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>Size left to be transacted</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>Original order size</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>Position mode<br/>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>Position id</td>
</tr>
</tbody></table>
<h2 id='query-position-mode'>Query Position Mode</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-PERP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/position_mode</code></p>

<p>Retrieve user&#39;s position mode</p>
<h3 id='request-parameters-25'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>Market symbol</td>
</tr>
</tbody></table>
<h3 id='response-content-25'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
</tbody></table>
<h2 id='change-position-mode'>Change Position Mode</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.2/position_mode</code></p>

<p>Changes position mode</p>
<h3 id='request-parameters-26'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
</tbody></table>
<h3 id='response-content-26'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>No</td>
<td>Timestamp where position mode was set</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>No</td>
<td>Status of the request. Values are: <br>20: Success</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>No</td>
<td>Value will be 129 indicating that type is <code>Futures Config Mode Change</code></td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>No</td>
<td>Message</td>
</tr>
</tbody></table>
<h1 id='wallet-endpoints'>Wallet Endpoints</h1><h2 id='query-wallet-balance'>Query Wallet Balance</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trackingID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"activeWalletName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS@"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"walletTotalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealisedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.20183537</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"assetsInUse"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/user/wallet</code></p>

<p>Query user&#39;s wallet balance. Requires <code>Read</code> permissions on the API key.</p>
<h3 id='request-parameters-27'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>Wallet name<br/><code>CROSS@</code>: Cross wallet<br/><code>ISOLATED@market</code>: Market refers to the current symbol with <code>-USDT</code> appended. Eg. BTC-PERP isolated wallet would be <code>ISOLATED@BTC-PERP-USDT</code></td>
</tr>
</tbody></table>
<h3 id='response-content-27'>Response Content</h3><h4 id='wallet'>Wallet</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>Wallet name</td>
</tr>
<tr>
<td>activeWalletName</td>
<td>string</td>
<td>Yes</td>
<td>Active wallet name</td>
</tr>
<tr>
<td>queryType</td>
<td>integer</td>
<td>Yes</td>
<td>Query type</td>
</tr>
<tr>
<td>trackingID</td>
<td>long</td>
<td>Yes</td>
<td>Internal tracking ID, not being used</td>
</tr>
<tr>
<td>walletTotalValue</td>
<td>double</td>
<td>Yes</td>
<td>Wallet total value</td>
</tr>
<tr>
<td>totalValue</td>
<td>double</td>
<td>Yes</td>
<td>Total value</td>
</tr>
<tr>
<td>marginBalance</td>
<td>double</td>
<td>Yes</td>
<td>Margin balance</td>
</tr>
<tr>
<td>availableBalance</td>
<td>double</td>
<td>Yes</td>
<td>Available Balance</td>
</tr>
<tr>
<td>unrealisedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>Unrealised Profit / Loss</td>
</tr>
<tr>
<td>maintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>Maintenance margin</td>
</tr>
<tr>
<td>leverage</td>
<td>double</td>
<td>Yes</td>
<td>Leverage. In CROSS wallet, this field is current leverage, not leverage setting</td>
</tr>
<tr>
<td>openMargin</td>
<td>double</td>
<td>Yes</td>
<td>Open margin</td>
</tr>
<tr>
<td>assets</td>
<td>Asset object</td>
<td>Yes</td>
<td>Assets available</td>
</tr>
<tr>
<td>assetsInUse</td>
<td>Asset object</td>
<td>Yes</td>
<td>Assets in use</td>
</tr>
</tbody></table>
<h4 id='assets-asset-in-use'>Assets / Asset in Use</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>double</td>
<td>Yes</td>
<td>Balance</td>
</tr>
<tr>
<td>assetPrice</td>
<td>double</td>
<td>Yes</td>
<td>Asset price</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>Currency</td>
</tr>
</tbody></table>
<h2 id='query-wallet-history'>Query Wallet History</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.35823825</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">20181213000239</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1571630174639</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btseUser"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wallet"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Blockchain Transaction ID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currencyNetwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Blockchain currency network&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/user/wallet_history</code></p>

<p>Get user&#39;s wallet history records on the futures wallet</p>
<h3 id='request-parameters-28'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>No</td>
<td>Wallet, if not specified will return all wallets. Valid values are: <br/><code>CROSS@</code>: Cross wallet<br/><code>ISOLATED@BTC-PERP-USDT</code>: Isolated wallets</td>
</tr>
<tr>
<td>startTime</td>
<td>long</td>
<td>No</td>
<td>Starting time in milliseconds (eg. 1624987283000)</td>
</tr>
<tr>
<td>endTime</td>
<td>long</td>
<td>No</td>
<td>Ending time in milliseconds (eg. 1624987283000)</td>
</tr>
<tr>
<td>count</td>
<td>integer</td>
<td>No</td>
<td>Number of records to return</td>
</tr>
</tbody></table>
<h3 id='response-content-28'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>Currency</td>
</tr>
<tr>
<td>amount</td>
<td>double</td>
<td>Yes</td>
<td>Amount in the record</td>
</tr>
<tr>
<td>fees</td>
<td>double</td>
<td>Yes</td>
<td>Fees charged if any</td>
</tr>
<tr>
<td>orderId</td>
<td>string</td>
<td>Yes</td>
<td>Internal wallet order ID</td>
</tr>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>Wallet type. For futures will return <code>CROSS@</code> or <code>ISOLATED@</code></td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Yes</td>
<td>Description of the transaction</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Yes</td>
<td>1: PENDING<br/>2: PROCESSING<br/>10: COMPLETED<br/>16: CANCELLED</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>Yes</td>
<td>105: Wallet Transfer<br/>106: Wallet Liquidation<br/>108: Realized PnL<br/>110: Funding<br/>121: Asset Conversion</td>
</tr>
</tbody></table>
<h2 id='query-unified-wallet-margin'>Query Unified Wallet Margin</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"walletTotalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">1535.10700567</span><span class="p">,</span><span class="w">
  </span><span class="nl">"walletTotalUnrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-49.90799449</span><span class="p">,</span><span class="w">
  </span><span class="nl">"futuresTotalAvailableBalance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1836.521306109</span><span class="p">,</span><span class="w">
  </span><span class="nl">"wallets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"activeWalletName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VIRTUAL|5@BTC-PERP-USDT#4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unrealisedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">49.88502177</span><span class="p">,</span><span class="w">
      </span><span class="nl">"walletTotalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">956.43166194</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marginBalance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1006.31668371</span><span class="p">,</span><span class="w">
      </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="mf">993.201492938</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.115190772</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/user/unifiedWallet/margin</code></p>

<p><strong>This API is for the users who have upgraded wallet</strong></p>

<p>Gets margin information for the specified wallet or position. </p>
<h3 id='request-parameters-29'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>Market symbol</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>No</td>
<td>Position unique id</td>
</tr>
</tbody></table>
<h3 id='response-contnet'>Response Contnet</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Require</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>walletTotalValue</td>
<td>number</td>
<td>Yes</td>
<td>Wallet total value</td>
</tr>
<tr>
<td>walletTotalUnrealizedProfitLoss</td>
<td>number</td>
<td>Yes</td>
<td>Wallet total P&amp;L</td>
</tr>
<tr>
<td>futuresTotalAvailableBalance</td>
<td>number</td>
<td>Yes</td>
<td>Wallet total available balance</td>
</tr>
<tr>
<td>wallets</td>
<td>Wallet Object</td>
<td>Yes</td>
<td>Wallet details</td>
</tr>
</tbody></table>
<h4 id='wallet-details'>Wallet Details</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Require</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>activeWalletName</td>
<td>string</td>
<td>Yes</td>
<td>Wallet name</td>
</tr>
<tr>
<td>unrealisedProfitLoss</td>
<td>number</td>
<td>Yes</td>
<td>Wallet P&amp;L</td>
</tr>
<tr>
<td>walletTotalValue</td>
<td>number</td>
<td>Yes</td>
<td>Wallet total P&amp;L</td>
</tr>
<tr>
<td>marginBalance</td>
<td>number</td>
<td>Yes</td>
<td>Margin balance</td>
</tr>
<tr>
<td>availableBalance</td>
<td>number</td>
<td>Yes</td>
<td>Available balance</td>
</tr>
<tr>
<td>maintenanceMargin</td>
<td>number</td>
<td>Yes</td>
<td>Maintenance margin</td>
</tr>
</tbody></table>
<h2 id='query-wallet-margin'>Query Wallet Margin</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trackingID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS@"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"walletTotalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealisedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.20183537</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"assetsInUse"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.2/user/margin</code></p>

<p>The users who have upgraded wallet to unified wallet are not allow to use this API. Please use <a href="#query-unified-wallet-margin"><code>Query Unified Wallet Margin</code></a>.  </p>

<p>Gets margin information for the specified wallet so that users can know which wallet they are currently using in the market.</p>
<h3 id='request-parameters-30'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
</tbody></table>
<h3 id='response-content-29'>Response Content</h3><h4 id='wallet-2'>Wallet</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>Wallet name</td>
</tr>
<tr>
<td>queryType</td>
<td>integer</td>
<td>Yes</td>
<td>Query type</td>
</tr>
<tr>
<td>trackingID</td>
<td>long</td>
<td>Yes</td>
<td>Internal tracking ID, not being used</td>
</tr>
<tr>
<td>requestId</td>
<td>long</td>
<td>Yes</td>
<td>Internal request ID, not being used</td>
</tr>
<tr>
<td>walletTotalValue</td>
<td>double</td>
<td>Yes</td>
<td>Wallet total value</td>
</tr>
<tr>
<td>totalValue</td>
<td>double</td>
<td>Yes</td>
<td>Total value</td>
</tr>
<tr>
<td>marginBalance</td>
<td>double</td>
<td>Yes</td>
<td>Margin balance</td>
</tr>
<tr>
<td>availableBalance</td>
<td>double</td>
<td>Yes</td>
<td>Available Balance</td>
</tr>
<tr>
<td>unrealisedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>Unrealised Profit / Loss</td>
</tr>
<tr>
<td>maintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>Maintenance margin</td>
</tr>
<tr>
<td>leverage</td>
<td>double</td>
<td>Yes</td>
<td>Leverage</td>
</tr>
<tr>
<td>openMargin</td>
<td>double</td>
<td>Yes</td>
<td>Open margin</td>
</tr>
<tr>
<td>assets</td>
<td>Asset object</td>
<td>Yes</td>
<td>Assets available</td>
</tr>
<tr>
<td>assetsInUse</td>
<td>Asset object</td>
<td>Yes</td>
<td>Assets in use</td>
</tr>
</tbody></table>
<h4 id='assets-asset-in-use-2'>Assets / Asset in Use</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>double</td>
<td>Yes</td>
<td>Balance</td>
</tr>
<tr>
<td>assetPrice</td>
<td>double</td>
<td>Yes</td>
<td>Asset price</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>Currency</td>
</tr>
</tbody></table>
<h2 id='transfer-funds-between-futures-wallet'>Transfer funds between Futures wallet</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"walletSrc"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"walletSrcType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"walletDest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"walletDestType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"apiWallets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"allBalance"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"allBalance"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trackingID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"activeWalletName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS@"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"walletTotalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealisedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.20183537</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"assetsInUse"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.2/user/wallet/transfer</code></p>

<p>Transfers funds between user&#39;s wallet. User can specify the source and target wallet to transfer funds</p>
<h3 id='request-parameters-31'>Request Parameters</h3><h4 id='wallet-request'>Wallet Request</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>walletSrc</td>
<td>string</td>
<td>No</td>
<td>Source wallet, required if <code>walletSrcType</code> is <code>ISOLATED</code></td>
</tr>
<tr>
<td>walletSrcType</td>
<td>string</td>
<td>Yes</td>
<td>Source type, valid values are:<br/><code>SPOT</code>: Spot Wallet<br/><code>CROSS</code>: Cross Wallet<br/><code>ISOLATED</code>: Isolated wallet for the market where market the market symbol</td>
</tr>
<tr>
<td>walletDest</td>
<td>string</td>
<td>No</td>
<td>Destination wallet, required if <code>walletDestType</code> is <code>ISOLATED</code></td>
</tr>
<tr>
<td>walletDestType</td>
<td>string</td>
<td>Yes</td>
<td>Destination type, valid values are:<br/><code>SPOT</code>: Spot Wallet<br/><code>CROSS</code>: Cross Wallet<br/><code>ISOLATED</code>: Isolated wallet for the market where market the market symbol</td>
</tr>
<tr>
<td>apiWallets</td>
<td>Wallet Detail</td>
<td>Yes</td>
<td>Transfer details</td>
</tr>
</tbody></table>
<h4 id='wallet-detail-request'>Wallet Detail Request</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>Wallet Currency</td>
</tr>
<tr>
<td>allBalance</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator if all wallet balance is to be transferred</td>
</tr>
<tr>
<td>balance</td>
<td>double</td>
<td>No</td>
<td>The value of the balance is to be transferred, example: 10</td>
</tr>
</tbody></table>
<h3 id='response-content-30'>Response Content</h3><h4 id='wallet-3'>Wallet</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>Wallet name</td>
</tr>
<tr>
<td>activeWalletName</td>
<td>string</td>
<td>Yes</td>
<td>Active wallet name</td>
</tr>
<tr>
<td>queryType</td>
<td>integer</td>
<td>Yes</td>
<td>Query type</td>
</tr>
<tr>
<td>trackingID</td>
<td>long</td>
<td>Yes</td>
<td>Internal tracking ID, not being used</td>
</tr>
<tr>
<td>walletTotalValue</td>
<td>double</td>
<td>Yes</td>
<td>Wallet total value</td>
</tr>
<tr>
<td>totalValue</td>
<td>double</td>
<td>Yes</td>
<td>Total value</td>
</tr>
<tr>
<td>marginBalance</td>
<td>double</td>
<td>Yes</td>
<td>Margin balance</td>
</tr>
<tr>
<td>availableBalance</td>
<td>double</td>
<td>Yes</td>
<td>Available Balance</td>
</tr>
<tr>
<td>unrealisedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>Unrealised Profit / Loss</td>
</tr>
<tr>
<td>maintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>Maintenance margin</td>
</tr>
<tr>
<td>leverage</td>
<td>double</td>
<td>Yes</td>
<td>Leverage</td>
</tr>
<tr>
<td>openMargin</td>
<td>double</td>
<td>Yes</td>
<td>Open margin</td>
</tr>
<tr>
<td>assets</td>
<td>Asset object</td>
<td>Yes</td>
<td>Assets available</td>
</tr>
<tr>
<td>assetsInUse</td>
<td>Asset object</td>
<td>Yes</td>
<td>Assets in use</td>
</tr>
</tbody></table>
<h4 id='assets-asset-in-use-3'>Assets / Asset in Use</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>double</td>
<td>Yes</td>
<td>Balance</td>
</tr>
<tr>
<td>assetPrice</td>
<td>double</td>
<td>Yes</td>
<td>Asset price</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>Currency</td>
</tr>
</tbody></table>
<h2 id='sub-account-wallet-transfer'>Sub-Account Wallet Transfer</h2>
<p><code>POST /api/v2.2/subaccount/wallet/transfer</code></p>

<p>Transfers funds between user and sub-account wallet. User can specify the source and target wallet to transfer funds</p>

<p>, <code>Wallet</code> permission is required. To get supported currency list please check <a href="#query-available-currency-list-for-wallet-action">Available currency list for action</a></p>
<h3 id='request-parameters-32'>Request Parameters</h3><h4 id='wallet-request-2'>Wallet Request</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>walletSrc</td>
<td>string</td>
<td>No</td>
<td>Source wallet, required when <code>walletSrcType</code> is <code>ISOLATED</code></td>
</tr>
<tr>
<td>walletSrcType</td>
<td>string</td>
<td>Yes</td>
<td>Source type, valid values are:<br/><code>SPOT</code>: Spot Wallet<br/><code>CROSS</code>: Cross Wallet<br/><code>ISOLATED</code>: Isolated wallet for the market where market the market symbol</td>
</tr>
<tr>
<td>walletDest</td>
<td>string</td>
<td>No</td>
<td>Destination wallet, required when <code>walletDestType</code> is <code>ISOLATED</code></td>
</tr>
<tr>
<td>walletDestType</td>
<td>string</td>
<td>Yes</td>
<td>Destination type, valid values are:<br/><code>SPOT</code>: Spot Wallet<br/><code>CROSS</code>: Cross Wallet<br/><code>ISOLATED</code>: Isolated wallet for the market where market the market symbol</td>
</tr>
<tr>
<td>fromUser</td>
<td>string</td>
<td>Yes</td>
<td>Source username</td>
</tr>
<tr>
<td>receiver</td>
<td>string</td>
<td>Yes</td>
<td>Receiver username</td>
</tr>
<tr>
<td>apiWallets</td>
<td>Wallet Detail</td>
<td>Yes</td>
<td>Transfer details</td>
</tr>
</tbody></table>
<h4 id='wallet-detail-request-2'>Wallet Detail Request</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>Wallet Currency</td>
</tr>
<tr>
<td>allBalance</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator if all wallet balance is to be transferred</td>
</tr>
<tr>
<td>balance</td>
<td>double</td>
<td>No</td>
<td>The value of the balance is to be transferred, example: 10</td>
</tr>
</tbody></table>
<h3 id='response-content-31'>Response Content</h3><h4 id='wallet-4'>Wallet</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>Yes</td>
<td>Response code</td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>Yes</td>
<td>Response message</td>
</tr>
<tr>
<td>time</td>
<td>integer</td>
<td>Yes</td>
<td>Response Time</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>success</td>
<td>boolean</td>
<td>Yes</td>
<td>Is transfer success</td>
</tr>
</tbody></table>
<h4 id='transfer-error-code'>Transfer Error Code</h4>
<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>-2</td>
<td>Invalid request parameter</td>
</tr>
<tr>
<td>-1046</td>
<td>Transfer fromUser Futures asset to DestWallet failed</td>
</tr>
<tr>
<td>-1047</td>
<td>Transfer fromUser to receiver failed</td>
</tr>
<tr>
<td>-1048</td>
<td>Transfer receiver Spot wallet to Futures wallet failed</td>
</tr>
</tbody></table>
<h1 id='order-book-websocket-streams'>Order Book Websocket Streams</h1><h2 id='endpoints-2'>Endpoints</h2>
<ul>
<li>Production

<ul>
<li><code>wss://ws.btse.com/ws/oss/futures</code></li>
</ul></li>
<li>Testnet

<ul>
<li><code>wss://testws.btse.io/ws/oss/futures</code></li>
</ul></li>
</ul>
<h2 id='oss-l1-snapshot-by-grouping'>OSS L1 Snapshot (By grouping)</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"snapshotL1:BTC-PERP_0"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"snapshotL1:BTC-PERP_0"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshotL1:BTC-PERP_0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
          </span><span class="s2">"28064.9"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"1268"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
          </span><span class="s2">"28065.0"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"1015"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshotL1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1680751558529</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Subscribe to the Level 1 Orderbook through the endpoint <code>wss://ws.btse.com/ws/oss/futures</code>. The format to subscribe to will be <code>symbol_grouping</code>.</p>

<ul>
<li><code>symbol</code> indicates the market symbol</li>
<li><code>grouping</code> indicates the grouping granularity. Valid values are 0-8.</li>
</ul>
<h3 id='response-content-32'>Response Content</h3><h4 id='orderbook-object'>Orderbook Object</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>topic</td>
<td>string</td>
<td>Yes</td>
<td>Websocket topic</td>
</tr>
<tr>
<td>data</td>
<td>Data Object</td>
<td>Yes</td>
<td>Refer to data object below</td>
</tr>
</tbody></table>
<h4 id='data-object'>Data Object</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bids</td>
<td>Quote Object</td>
<td>Yes</td>
<td>Bid quotes</td>
</tr>
<tr>
<td>asks</td>
<td>Quote Object</td>
<td>Yes</td>
<td>Asks quotes</td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td><code>snapshotL1</code> - L1 data refers to the best bid / best ask of a trading pair’s order book.</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Orderbook timestamp</td>
</tr>
</tbody></table>
<h2 id='orderbook-incremental-updates'>Orderbook Incremental Updates</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"update:BTC-PERP_0"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"update:BTC-PERP_0"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update:BTC-PERP_0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59252.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.06865"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59249.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.24000"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59235.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.16073"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59235.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.26626"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59233.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.50000"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59292.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.50000"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59285.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.24000"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59285.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.15598"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59278.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.01472"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">628282</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prevSeqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">628281</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1565135165600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update:BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59367.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2.15622"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59325.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">628283</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prevSeqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">628282</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delta"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1565135165600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Subscribe to Orderbook incremental updates through the endpoint <code>wss://ws.btse.com/ws/oss/futures</code>. The format of topic will be <code>update:symbol_grouping</code> (eg. <code>update:BTC-PERP_0</code>). The first response received will be a snapshot of the current orderbook (this is indicated in the <code>type</code> field) and 50 levels will be returned. Incremental updates will be sent in subsequent packets with type <code>delta</code>.</p>

<p>Bids and asks will be sent in <code>price</code> and <code>size</code> tuples. The size sent will be the new updated size for the price. If a value of <code>0</code> is sent, the price should be removed from the local copy of the orderbook.</p>

<p>To ensure that the updates are received in sequence, <code>seqNum</code> indicates the current sequence and <code>prevSeqNum</code> refers to the packet before. <code>seqNum</code> will always be one after the <code>prevSeqNum</code>. If the sequence is out of order, you will need to unsubscribe and re-subscribe to the topic again.</p>

<p>Also if <a href="https://en.wikipedia.org/wiki/Order_book#Crossed_book">crossed orderbook</a> ever occurs when the best bid higher or equal to the best ask, please unsubscribe and re-subscribe to the topic again.</p>
<h3 id='response-content-33'>Response Content</h3><h4 id='orderbook-object-2'>Orderbook Object</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>topic</td>
<td>string</td>
<td>Yes</td>
<td>Websocket topic</td>
</tr>
<tr>
<td>data</td>
<td>Data Object</td>
<td>Yes</td>
<td>Refer to data object below</td>
</tr>
</tbody></table>
<h4 id='data-object-2'>Data Object</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bids</td>
<td>Quote Object</td>
<td>Yes</td>
<td>Bid quotes</td>
</tr>
<tr>
<td>asks</td>
<td>Quote Object</td>
<td>Yes</td>
<td>Asks quotes</td>
</tr>
<tr>
<td>seqNum</td>
<td>int</td>
<td>Yes</td>
<td>Current sequence number</td>
</tr>
<tr>
<td>prevSeqNum</td>
<td>int</td>
<td>Yes</td>
<td>Previous sequence number</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td><code>snapshot</code> - Snapshot of the orderbook with a maximum of 50 levels<br/> <code>delta</code> -  Updates of the orderbook</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Timestamp of the orderbook</td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Orderbook symbol</td>
</tr>
</tbody></table>
<h4 id='orderbook-error-response'>Orderbook Error Response</h4>
<table><thead>
<tr>
<th>Error Code</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>1000</td>
<td>Market pair provided is currently not supported.</td>
</tr>
<tr>
<td>1001</td>
<td>Operation provided is currently not supported.</td>
</tr>
<tr>
<td>1002</td>
<td>Invalid request. Please check again your request and provide all information required.</td>
</tr>
<tr>
<td>1005</td>
<td>Topic provided does not exist.</td>
</tr>
<tr>
<td>1007</td>
<td>User message buffer is full.</td>
</tr>
<tr>
<td>1008</td>
<td>Reached maximum failed attempts, closing the session.</td>
</tr>
</tbody></table>
<h1 id='websocket-streams'>Websocket Streams</h1><h2 id='endpoints-3'>Endpoints</h2>
<ul>
<li>Production

<ul>
<li><code>wss://ws.btse.com/ws/futures</code></li>
</ul></li>
<li>Testnet

<ul>
<li><code>wss://testws.btse.io/ws/futures</code></li>
</ul></li>
</ul>
<h2 id='ping-pong'>Ping/Pong</h2>
<p>For all our WebSocket servers, simply send a &#39;ping&#39; message, and the WebSocket server will respond with a &#39;pong&#39; message if the WebSocket connection is established and active.</p>

<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>ping
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>pong
</code></pre></div><h2 id='subscription'>Subscription</h2>
<p>Here is an example for topic subscription.</p>

<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"tradeHistoryApiV2:BTC-PERP"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"tradeHistoryApiV2:BTC-PERP"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To subscribe to a websocket public trade fill</p>
<h3 id='request-parameters-33'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>Yes</td>
<td>Operation. <code>subscribe</code> will subscribe to the topics provided in <code>args</code>. <code>unsubscribe</code> will unsubscribe from the topics</td>
</tr>
<tr>
<td>args</td>
<td>array</td>
<td>Yes</td>
<td>Topics to subscribe to.</td>
</tr>
</tbody></table>
<h3 id='response-content-34'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>string</td>
<td>Yes</td>
<td>Respond with the event type</td>
</tr>
<tr>
<td>channel</td>
<td>array</td>
<td>Yes</td>
<td>Topics which have been sucessfully subscribed</td>
</tr>
</tbody></table>
<h2 id='public-trade-fills'>Public Trade Fills</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"tradeHistoryApiV2:BTC-PERP"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tradeHistoryApiV2:BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.007</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">5302.8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">118974855</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1584446020295</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Subscribe to recent trade feed for a market. The topic will be <code>tradeHistoryApi:&lt;market&gt;</code> where <code>&lt;market&gt;</code> is the market symbol.</p>
<h3 id='response-content-35'>Response Content</h3><h4 id='tradehistory-object'>TradeHistory Object</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>topic</td>
<td>string</td>
<td>Yes</td>
<td>Websocket topic</td>
</tr>
<tr>
<td>data</td>
<td>Data Object</td>
<td>Yes</td>
<td>Refer to data object below</td>
</tr>
</tbody></table>
<h4 id='data-object-3'>Data Object</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Trade Side, BUY or SELL</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>Transacted size</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Transacted price</td>
</tr>
<tr>
<td>tradeId</td>
<td>long</td>
<td>Yes</td>
<td>Trade sequence Id</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Trade timestamp</td>
</tr>
</tbody></table>
<h2 id='authentication-2'>Authentication</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="s2">"authKeyExpires"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:[</span><span class="s2">"APIKey"</span><span class="p">,</span><span class="w"> </span><span class="s2">"nonce"</span><span class="p">,</span><span class="w"> </span><span class="s2">"signature"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Authenticate the websocket session to subscribe to authenticated websocket topics. Assume we have values as follows:</p>

<ul>
<li><code>request-nonce</code>: 1624985375123</li>
<li><code>request-api</code>: 4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x</li>
<li><code>secret</code>: 848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx</li>
</ul>

<p>Our subscription request will be:</p>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "op":"authKeyExpires",
  "args":["4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x", "1624985375123", "c410d38c681579adb335885800cff24c66171b7cc8376cfe43da1408c581748156b89bcc5a115bb496413bda481139fb"]
}
</code></pre></div><h3 id='request-parameters-34'>Request Parameters</h3>
<p>Below details the arguments needed to be sent in.</p>

<table><thead>
<tr>
<th>Index</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>string</td>
<td>Yes</td>
<td>First argument is the API key</td>
</tr>
<tr>
<td>1</td>
<td>long</td>
<td>Yes</td>
<td>Nonce which is the current timestamp</td>
</tr>
<tr>
<td>2</td>
<td>string</td>
<td>Yes</td>
<td>Generated signature</td>
</tr>
</tbody></table>

<blockquote>
<p>Generating a signature</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"/ws/futures1624985375123"</span>  | openssl dgst <span class="nt">-sha384</span> <span class="nt">-hmac</span> <span class="s2">"848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx"</span>
<span class="o">(</span>stdin<span class="o">)=</span> bd8afb8bee58ba0a2c67f84dcfe6e64d0274f55d064bb26ea84a0fe6dd8c621b541b511982fb0c0b8c244e9521a80ea1
</code></pre></div><h2 id='notifications'>Notifications</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"notificationApiV3"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notificationApiV3"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market Symbol (eg. BTC-PERP)"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTSE internal order ID"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order price or transacted price"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order size or transacted size"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order size"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">35000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Refer to Status description on the left&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Client order ID&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Maker flag, if true indicates that trade is a maker trade&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624985375123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pegPriceDeviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indicate the deviation percentage. Valid for only algo orders."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Remaining size on the order&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Time where this order is valid&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP | TAKE_PROFIT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade Trigger Price"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">

</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Receive trade notifications by subscribing to the topic <code>notificationApiV2</code>. The websocket feed will push trade level notifications to the subscriber. If topic is subscribed without being authenticated, no messages will be sent.</p>
<h3 id='response-content-36'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>Internal order ID</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Trade side. BUY or SELL</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>Yes</td>
<td>Order type. Valid values are:<br/>76: Limit Order<br/>77: Market Order<br/>80: Algo orders</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Order price or transcated price</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>Order size or transacted size</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>Original order size</td>
</tr>
<tr>
<td>avgFilledPrice</td>
<td>double</td>
<td>Yes</td>
<td>Average filled price</td>
</tr>
<tr>
<td>fillSize</td>
<td>double</td>
<td>Yes</td>
<td>Filled size of order</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Yes</td>
<td>Status with values as follows:<br/>1: MARKET_UNAVAILABLE, Market is currently unavailable<br/>2: ORDER_INSERTED, Order is inserted successfully<br/>4: ORDER_FULLY_TRANSACTED, Order is fully transacted<br/>5: ORDER_PARTIALLY_TRANSACTED, Order is partially transacted<br/>6: ORDER_CANCELLED, Order is cancelled successfully<br/>8: INSUFFICIENT_BALANCE, Insufficient balance in account<br/>9: TRIGGER_INSERTED, Trigger Order is inserted successfully<br/>10: TRIGGER_ACTIVATED, Trigger Order is activated successfully<br/>12: ERROR_UPDATE_RISK_LIMIT, Error in updating risk limit<br/>15: ORDER_REJECTED, Change made to the order was unsuccessful<br/>20: SUCCESS, Trade finished successfully<br/>27: TRANSFER_SUCCESSFUL, Transfer funds between futures and spot is successful<br/>28: TRANSFER_UNSUCCESSFUL, Transfer funds between spot and futures is unsuccessful<br/>41: ERROR_INVALID_RISK_LIMIT, Invalid risk limit was specified<br/>64: STATUS_LIQUIDATION, Account is undergoing liquidation<br/>96: FUTURES_CONFIG_SETTLE_WITH_ASSET, Set futures settle currency<br/>101: FUTURES_ORDER_PRICE_OUTSIDE_LIQUIDATION_PRICE, Futures order is outside of liquidation price<br/>305: ERROR_ORDER_PRICE_OUT_OF_PRICE_PROTECTION_RANGE, order price is out of the protection range<br/>1003: ORDER_LIQUIDATION, Order is undergoing liquidation<br/>1004: ORDER_ADL, Order is undergoing ADL</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>Custom order ID</td>
</tr>
<tr>
<td>maker</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator to indicate if trade is a maker trade</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>Remaining size on the order</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>Validity of the order</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Order timestamp or transacted timestamp</td>
</tr>
<tr>
<td>txType</td>
<td>string</td>
<td>Yes</td>
<td>Used by trigger or OCO orders. STOP indicates its a Stop order, TAKEPROFIT indicates its a take profit order, and LIMIT is when its not any of the above</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>Percentage of orders to show on orderbook. Only for Algo orders</td>
</tr>
<tr>
<td>pegPriceDeviation</td>
<td>double</td>
<td>Yes</td>
<td>Deviation percentage. Only for Algo orders</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>Position ID</td>
</tr>
</tbody></table>
<h2 id='user-trade-fills'>User Trade Fills</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:[</span><span class="s2">"fillsV2"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fillsV2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6aa36da1-0ed8-46c1-9327-c9d6313b3d12"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"serialId"</span><span class="p">:</span><span class="w"> </span><span class="mi">189349157</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"_W_ekxogc1711427518228"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69704.4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0348522"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1711427518338</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e094117f-9f84-4c82-b55d-d3d2a54d0dca"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre></div>
<p>When a trade has been transacted, this topic will send the trade information back to the subscriber.</p>
<h3 id='response-content-37'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol</td>
</tr>
<tr>
<td>orderId</td>
<td>string</td>
<td>Yes</td>
<td>Internal order ID</td>
</tr>
<tr>
<td>clOrderId</td>
<td>string</td>
<td>Yes</td>
<td>Custom order ID</td>
</tr>
<tr>
<td>serialId</td>
<td>string</td>
<td>Yes</td>
<td>Trade sequence ID</td>
</tr>
<tr>
<td>tradeId</td>
<td>string</td>
<td>Yes</td>
<td>Trade unique identifier</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>Yes</td>
<td>Order type. Valid values are:<br/>76: Limit Order<br/>77: Market Order<br/>80: Algo orders</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Trade side. BUY or SELL</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>Transcated price</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>Transacted size</td>
</tr>
<tr>
<td>feeAmount</td>
<td>double</td>
<td>Yes</td>
<td>Fee amount charged</td>
</tr>
<tr>
<td>feeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>Fee currency</td>
</tr>
<tr>
<td>base</td>
<td>string</td>
<td>Yes</td>
<td>Base currency</td>
</tr>
<tr>
<td>quote</td>
<td>string</td>
<td>Yes</td>
<td>Quote currency</td>
</tr>
<tr>
<td>maker</td>
<td>boolean</td>
<td>Yes</td>
<td>Indicator to indicate if trade is a maker trade</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>Order timestamp or transacted timestamp</td>
</tr>
</tbody></table>
<h2 id='all-position'>All Position</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:[</span><span class="s2">"allPositionV3"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"allPositionV3"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btse"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderMode"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceHeld"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxStealthDisplayAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellexchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29286.404761929</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29267.967916154</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.13236859</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.484381756</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalContracts"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">662.115298076</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_FUTURES_POSITION"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderModeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MODE_BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES_MARGIN_CROSS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT|SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"settleWithNonUSDAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4820b20a-e41b-4273-b3ad-4b19920aeeb5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">31000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eff2b232-e2ce-4562-b0b4-0bd3713c11ec"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">27000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},{</span><span class="w">
    </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btse"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userCurrency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderMode"</span><span class="p">:</span><span class="w"> </span><span class="mi">83</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceHeld"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxStealthDisplayAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellexchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">69.9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29684.3743872669</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">70.062346733</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.04870402</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.319484301</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalContracts"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">-21.01870402</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"booleanVar1"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_FUTURES_POSITION"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderModeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MODE_SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES_MARGIN_CROSS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1116510969</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"settleWithNonUSDAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-PERP-USDT|SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>All futures positions will be pushed via this topic once the position changes.</p>
<h3 id='response-content-38'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestId</td>
<td>integer</td>
<td>Yes</td>
<td>request id</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>Yes</td>
<td>btse username</td>
</tr>
<tr>
<td>marketName</td>
<td>string</td>
<td>Yes</td>
<td>market name</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>90: Futures Position</td>
</tr>
<tr>
<td>orderTypeName</td>
<td>string</td>
<td>Yes</td>
<td>String representation of orderType</td>
</tr>
<tr>
<td>orderMode</td>
<td>integer</td>
<td>Yes</td>
<td>66: BUY<br/>83: SELL</td>
</tr>
<tr>
<td>orderModeName</td>
<td>string</td>
<td>Yes</td>
<td>String representation of orderModeName</td>
</tr>
<tr>
<td>originalAmount</td>
<td>double</td>
<td>Yes</td>
<td>order amount</td>
</tr>
<tr>
<td>maxPriceHeld</td>
<td>double</td>
<td>Yes</td>
<td>max price of all time</td>
</tr>
<tr>
<td>pegPriceMin</td>
<td>double</td>
<td>Yes</td>
<td>peg price min</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>used for peg order</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>order id</td>
</tr>
<tr>
<td>maxStealthDisplayAmount</td>
<td>double</td>
<td>Yes</td>
<td>used for peg order</td>
</tr>
<tr>
<td>sellexchangeRate</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>OCO order</td>
</tr>
<tr>
<td>closeOrder</td>
<td>boolean</td>
<td>Yes</td>
<td>whether it has an order to close this position</td>
</tr>
<tr>
<td>liquidationInProgress</td>
<td>boolean</td>
<td>Yes</td>
<td>whether is in liquidation</td>
</tr>
<tr>
<td>marginType</td>
<td>integer</td>
<td>Yes</td>
<td>WALLET TYPE:<br/>91: CROSS<br/>92: ISOLDATED</td>
</tr>
<tr>
<td>marginTypeName</td>
<td>string</td>
<td>Yes</td>
<td>String representation of marginType</td>
</tr>
<tr>
<td>entryPrice</td>
<td>double</td>
<td>Yes</td>
<td>entry price</td>
</tr>
<tr>
<td>liquidationPrice</td>
<td>double</td>
<td>Yes</td>
<td>liquidation price</td>
</tr>
<tr>
<td>markPrice</td>
<td>double</td>
<td>Yes</td>
<td>mark price</td>
</tr>
<tr>
<td>unrealizedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>unrealized pnl</td>
</tr>
<tr>
<td>totalMaintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>maintenance margin</td>
</tr>
<tr>
<td>totalContract</td>
<td>double</td>
<td>Yes</td>
<td>size of the contract</td>
</tr>
<tr>
<td>isolatedLeverage</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>totalFees</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>totalValue</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>adlScoreBucket</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>currentLeverage</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>settleWithNonUSDAsset</td>
<td>string</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>takeProfitOrder</td>
<td>TakeProfitOrder object</td>
<td>No</td>
<td>Take profit order info</td>
</tr>
<tr>
<td>stopLossOrder</td>
<td>StopLossOrder object</td>
<td>No</td>
<td>Stop loss order info</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>Position mode<br/>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>Position id</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>Yes</td>
<td>The position contract size</td>
</tr>
</tbody></table>
<h2 id='positions'>Positions</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:[</span><span class="s2">"positionsV2"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positionsV2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btse"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderMode"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceHeld"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxStealthDisplayAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellexchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29286.404761929</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29267.967916154</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.13236859</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.484381756</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalContracts"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">662.115298076</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_FUTURES_POSITION"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderModeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MODE_BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES_MARGIN_CROSS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"settleWithNonUSDAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4820b20a-e41b-4273-b3ad-4b19920aeeb5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">31000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eff2b232-e2ce-4562-b0b4-0bd3713c11ec"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">27000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},{</span><span class="w">
        </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btse"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-PERP-USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderMode"</span><span class="p">:</span><span class="w"> </span><span class="mi">83</span><span class="p">,</span><span class="w">
        </span><span class="nl">"originalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxPriceHeld"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxStealthDisplayAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sellexchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
        </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">69.9</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29682.415101008</span><span class="p">,</span><span class="w">
        </span><span class="nl">"markedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">69.685573595</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06432792</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.318744</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalContracts"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">-20.905672079</span><span class="p">,</span><span class="w">
        </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_FUTURES_POSITION"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderModeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MODE_SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES_MARGIN_CROSS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1113820366</span><span class="p">,</span><span class="w">
        </span><span class="nl">"averageFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filledSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC-PERP-USDT|SHORT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleWithNonUSDAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response (The position has been closed)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positionsV2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btse"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderMode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceHeld"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxStealthDisplayAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellexchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalContracts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderTypeName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderModeName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginTypeName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"settleWithNonUSDAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP-USDT|SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>All futures positions will be pushed via this topic once the position changes. If the user reduces the position to 0, the topic will push data with the totalContracts value of 0 once.</p>
<h3 id='response-content-39'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requestId</td>
<td>integer</td>
<td>Yes</td>
<td>request id</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>Yes</td>
<td>btse username</td>
</tr>
<tr>
<td>marketName</td>
<td>string</td>
<td>Yes</td>
<td>market name</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>90: Futures Position</td>
</tr>
<tr>
<td>orderTypeName</td>
<td>string</td>
<td>Yes</td>
<td>String representation of orderType</td>
</tr>
<tr>
<td>orderMode</td>
<td>integer</td>
<td>Yes</td>
<td>66: BUY<br/>83: SELL</td>
</tr>
<tr>
<td>orderModeName</td>
<td>string</td>
<td>Yes</td>
<td>String representation of orderModeName</td>
</tr>
<tr>
<td>originalAmount</td>
<td>double</td>
<td>Yes</td>
<td>order amount</td>
</tr>
<tr>
<td>maxPriceHeld</td>
<td>double</td>
<td>Yes</td>
<td>max price of all time</td>
</tr>
<tr>
<td>pegPriceMin</td>
<td>double</td>
<td>Yes</td>
<td>peg price min</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>used for peg order</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>order id</td>
</tr>
<tr>
<td>maxStealthDisplayAmount</td>
<td>double</td>
<td>Yes</td>
<td>used for peg order</td>
</tr>
<tr>
<td>sellexchangeRate</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>OCO order</td>
</tr>
<tr>
<td>closeOrder</td>
<td>boolean</td>
<td>Yes</td>
<td>whether it has an order to close this position</td>
</tr>
<tr>
<td>liquidationInProgress</td>
<td>boolean</td>
<td>Yes</td>
<td>whether is in liquidation</td>
</tr>
<tr>
<td>marginType</td>
<td>integer</td>
<td>Yes</td>
<td>WALLET TYPE:<br/>91: CROSS<br/>92: ISOLDATED</td>
</tr>
<tr>
<td>marginTypeName</td>
<td>string</td>
<td>Yes</td>
<td>String representation of marginType</td>
</tr>
<tr>
<td>entryPrice</td>
<td>double</td>
<td>Yes</td>
<td>entry price</td>
</tr>
<tr>
<td>liquidationPrice</td>
<td>double</td>
<td>Yes</td>
<td>liquidation price</td>
</tr>
<tr>
<td>markPrice</td>
<td>double</td>
<td>Yes</td>
<td>mark price</td>
</tr>
<tr>
<td>unrealizedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>unrealized pnl</td>
</tr>
<tr>
<td>totalMaintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>maintenance margin</td>
</tr>
<tr>
<td>totalContract</td>
<td>double</td>
<td>Yes</td>
<td>size of the contract</td>
</tr>
<tr>
<td>isolatedLeverage</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>totalFees</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>totalValue</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>adlScoreBucket</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>currentLeverage</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>settleWithNonUSDAsset</td>
<td>string</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>takeProfitOrder</td>
<td>TakeProfitOrder object</td>
<td>No</td>
<td>Take profit order info</td>
</tr>
<tr>
<td>stopLossOrder</td>
<td>StopLossOrder object</td>
<td>No</td>
<td>Stop loss order info</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>Position mode<br/>ONE_WAY, HEDGE or ISOLATED</td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>Position direction</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>Position id</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>Yes</td>
<td>The position contract size</td>
</tr>
</tbody></table>

<p></section></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
    <script>
const DEFAULT_LANG = 'en';
const IS_DEV = false;
const DOCS_PREFIX = IS_DEV ? '/' : '/docs/';
const TAB_MAP = {
  spot: {
    en: 'Spot',
    cn: '现货'
  },
  futures: {
    en: 'Futures',
    cn: '期货'
  },
  futuresV2_2: {
    en: 'FuturesV2.2',
    cn: '期货V2.2'
  },
  otc: {
    en: 'OTC',
    cn: '场外交易'
  },
  wallet: {
    en: 'Wallet/Convert/Transfer',
    cn: '钱包/转换/转账'
  },
  streaming: {
    en: 'Streaming',
    cn: '數據流'
  },
  fix: {
    en: 'FIX',
    cn: 'FIX'
  },
  earn: {
    en: 'Earn',
    cn: '賺幣'
  }
};

function getUrlRelativePath() {
  let url = document.location.toString();
  let arrUrl = url.split('//');
  let start = arrUrl[1].indexOf('/');
  let relUrl = arrUrl[1].substring(start);
  if (relUrl.indexOf('?') !== -1) {
    relUrl = relUrl.split("?")[0];
  }
  if (relUrl.indexOf('#') !== -1) {
    relUrl = relUrl.split('#')[0];
  }
  return relUrl;
}

function capitalizeFirstLetter(s) {
  return s.charAt(0).toUpperCase() + s.slice(1);
}

function getLang() {
  const url = getUrlRelativePath();
  const isEN = url.indexOf('cn') === -1;
  return isEN ? 'en' : 'cn';
}

function getTabTemplate(isTab, href, tabKey, tabText) {
  const classList = isTab ? 'nav_cell nav_tab' : 'menu-row'
  const idPrefix = isTab ? 'nav_link_' : 'menu-link-'
  const linkClass = isTab ? 'nav-link' : 'menu-link'
  return `
    <span class="${classList}">
      <a href="${href}" id="${idPrefix}${tabKey}" class="${linkClass}">${tabText}</a>
    </span>
  `
}

function generateNavHtml(lang, isTab) {
  return Object.keys(TAB_MAP).map(tabKey => {
    const tabText = TAB_MAP[tabKey][lang] || capitalizeFirstLetter(tabKey);
    const href = `${DOCS_PREFIX}${tabKey}/${lang}/`;
    return getTabTemplate(isTab, href, tabKey, tabText);
  })
}

function addChangeLanguageLink(lang) {
  // add change lang link in navbar.
  const langText = lang === 'en' ? '中文' : 'English';
  const langHref = lang === 'en' ? location.href.replace('/en/', '/cn/') : location.href.replace('/cn/', '/en/');
  const langLink = `<a class="change-lang-link" href="${langHref}">${langText}</a>`;
  $('#navBox').append(`<span class="nav_cell">${langLink}</span>`);
}

$(function() {
  const lang = getLang();
  $('#navBox').html(generateNavHtml(lang, true));
  $('#menuDropdown').html(generateNavHtml(lang, false));
  const tabList = Object.keys(TAB_MAP);
  for (let i = 0; i < tabList.length; i ++) {
    const tabKey = tabList[i];
    if (location.href.indexOf(`/${tabKey}/`) > 0) {
      $('.nav-link').removeClass('current');
      $(`#nav_link_${tabKey}`).addClass('current');
      $('.menu-link').removeClass('current');
      $(`#menu-link-${tabKey}`).addClass('current');
      break;
    }
  }
  $('#menuDropdownBtn').click(() => {
    $('.menu-dropdown').toggleClass('hide');
  });
  addChangeLanguageLink(lang);
});
  </script>
  </body>
</html>
