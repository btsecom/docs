
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>BTSE API Documentation</title>
    <link href="../../images/favicon-3eb77247.ico" rel="icon" type="image/ico" />
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="../../stylesheets/screen-bcf56b31.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="../../javascripts/all-a9fde460.js"></script>

  </head>

  <body class="otc otc_en otc_en_index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        <img src="../../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <header>
    <div class="flex_box">
      <img src="../../images/logo-d7d2b532.svg" class="logo" alt="" />
      <div class="nav-row-wrap">
        <div id="navBox" class="nav_box"></div>
        <div id="menuDropdownBtn" class="noselect menu-dropdown-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>
          <div id="menuDropdown" class="menu-dropdown hide"></div>
        </div>
      </div>
    </div>

  </header>
    <div class="toc-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#change-log" class="toc-h1 toc-link" data-title="Change Log">Change Log</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#version-1-1-3-16th-march-2022" class="toc-h2 toc-link" data-title="Version 1.1.3 (16th March 2022)">Version 1.1.3 (16th March 2022)</a>
                  </li>
                  <li>
                    <a href="#version-1-1-2-25th-january-2022" class="toc-h2 toc-link" data-title="Version 1.1.2 (25th January 2022)">Version 1.1.2 (25th January 2022)</a>
                  </li>
                  <li>
                    <a href="#version-1-1-1-24th-november-2021" class="toc-h2 toc-link" data-title="Version 1.1.1 (24th November 2021)">Version 1.1.1 (24th November 2021)</a>
                  </li>
                  <li>
                    <a href="#version-1-1-0-17th-september-2021" class="toc-h2 toc-link" data-title="Version 1.1.0 (17th September 2021)">Version 1.1.0 (17th September 2021)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#overview" class="toc-h1 toc-link" data-title="Overview">Overview</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#generating-api-key" class="toc-h2 toc-link" data-title="Generating API Key">Generating API Key</a>
                  </li>
                  <li>
                    <a href="#endpoints" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#rate-limits" class="toc-h2 toc-link" data-title="Rate Limits">Rate Limits</a>
                  </li>
                  <li>
                    <a href="#api-status-codes" class="toc-h2 toc-link" data-title="API Status Codes">API Status Codes</a>
                  </li>
                  <li>
                    <a href="#api-enum" class="toc-h2 toc-link" data-title="API ENUM">API ENUM</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#workflow" class="toc-h1 toc-link" data-title="Workflow">Workflow</a>
          </li>
          <li>
            <a href="#otc-endpoints" class="toc-h1 toc-link" data-title="OTC Endpoints">OTC Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#market-summary" class="toc-h2 toc-link" data-title="Market Summary">Market Summary</a>
                  </li>
                  <li>
                    <a href="#request-for-quote" class="toc-h2 toc-link" data-title="Request for Quote">Request for Quote</a>
                  </li>
                  <li>
                    <a href="#accept-quote" class="toc-h2 toc-link" data-title="Accept Quote">Accept Quote</a>
                  </li>
                  <li>
                    <a href="#reject-quote" class="toc-h2 toc-link" data-title="Reject Quote">Reject Quote</a>
                  </li>
                  <li>
                    <a href="#query-order" class="toc-h2 toc-link" data-title="Query Order">Query Order</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-streams" class="toc-h1 toc-link" data-title="Websocket Streams">Websocket Streams</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication-2" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#quote-stream" class="toc-h2 toc-link" data-title="Quote Stream">Quote Stream</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='change-log'>Change Log</h1><h2 id='version-1-1-3-16th-march-2022'>Version 1.1.3 (16th March 2022)</h2>
<ul>
<li>Addition of request parameter <a href="#quote-stream"><code>side</code></a> to allow return one side quote.</li>
</ul>
<h2 id='version-1-1-2-25th-january-2022'>Version 1.1.2 (25th January 2022)</h2>
<ul>
<li>Update <a href="#accept-quote"><code>accept</code></a> to allow partial accepting the OTC quote.</li>
</ul>
<h2 id='version-1-1-1-24th-november-2021'>Version 1.1.1 (24th November 2021)</h2>
<ul>
<li>Addition of <code>unsubcribe-quote</code> and <code>unsubscribe-quote-all</code> op code to unsubscribe streaming OTC quote.</li>
</ul>
<h2 id='version-1-1-0-17th-september-2021'>Version 1.1.0 (17th September 2021)</h2>
<ul>
<li>Addition of <a href="#quote-stream"><code>quote</code></a> websocket topic to subscribe to price streams on the OTC market.</li>
</ul>
<h1 id='overview'>Overview</h1><h2 id='generating-api-key'>Generating API Key</h2>
<p>You will need to create an API key on the BTSE platform before you can use authenticated APIs. To create API keys, you can follow the steps below:</p>

<ul>
<li>Login with your username / email and password into the BTSE website</li>
<li>Click on “Account” on the top right hand corner</li>
<li>Select the API tab</li>
<li>Click on “New API” button to create an API key and passphrase. (Note: the passphrase will only appear once)</li>
<li>Use your API key and passphrase to construct a signature.</li>
</ul>
<h2 id='endpoints'>Endpoints</h2>
<ul>
<li>Production

<ul>
<li>HTTP

<ul>
<li><code>https://api.btse.com/otc</code></li>
</ul></li>
<li>Websocket

<ul>
<li><code>wss://ws.btse.com/ws/otc</code></li>
</ul></li>
</ul></li>
<li>Testnet

<ul>
<li>HTTP

<ul>
<li><code>https://testapi.btse.io/otc</code></li>
</ul></li>
<li>Websocket

<ul>
<li><code>wss://testws.btse.io/ws/otc</code></li>
</ul></li>
</ul></li>
</ul>
<h2 id='authentication'>Authentication</h2>
<ul>
<li><p>API Key (request-api)</p>

<ul>
<li>Parameter Name: <code>request-api</code>, in: header. API key is obtained from BTSE platform as a string</li>
</ul></li>
<li><p>API Key (request-nonce)</p>

<ul>
<li>Parameter Name: <code>request-nonce</code>, in: header. Representation of current timestamp in long format</li>
</ul></li>
<li><p>API Key (request-sign)</p>

<ul>
<li>Parameter Name: <code>request-sign</code>, in: header. A composite signature produced based on the following algorithm: Signature=HMAC.Sha384 (secretkey, (urlpath + request-nonce + bodyStr)) (note: bodyStr = &#39;&#39; when no data):</li>
</ul></li>
</ul>
<h3 id='example-1-query-quote'>Example 1: Query Quote</h3>
<blockquote>
<p><strong>HMAC SHA384 Signature</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"/api/v1/quote1624985375123{</span><span class="se">\"</span><span class="s2">orderSizeInBaseCurrency</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">orderAmountInOrderCurrency</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">side</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">buy</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">baseCurrency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BTC</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">orderCurrency</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">USD</span><span class="se">\"</span><span class="s2">}"</span> | openssl dgst <span class="nt">-sha384</span> <span class="nt">-hmac</span> <span class="s2">"848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx"</span>
<span class="o">(</span>stdin<span class="o">)=</span> 8ee43810606da581fb6ce03e10370f89125c2269a64de832a55cea219795e9ae0c3df86b51afbafdd28c03b16acd1427
</code></pre></div>
<ul>
<li>Endpoint to place an order is <code>https://api.btse.com/otc/api/v1/quote</code></li>
<li>Assume we have the values as follows:

<ul>
<li>request-nonce: <code>1624985375123</code></li>
<li>request-api: <code>4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x</code></li>
<li>secret: <code>848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx</code></li>
<li>Path: <code>/api/v1/quote</code></li>
<li>Body: <code>{&quot;orderSizeInBaseCurrency&quot;:1,&quot;orderAmountInOrderCurrency&quot;:0,&quot;side&quot;:&quot;buy&quot;,&quot;baseCurrency&quot;:&quot;BTC&quot;,&quot;orderCurrency&quot;:&quot;USD&quot;}</code></li>
<li>Encrypted Text: <code>&quot;/api/v1/quote1624985375123{&quot;orderSizeInBaseCurrency&quot;:1,&quot;orderAmountInOrderCurrency&quot;:0,&quot;side&quot;:&quot;buy&quot;,&quot;baseCurrency&quot;:&quot;BTC&quot;,&quot;orderCurrency&quot;:&quot;USD&quot;}&quot;</code></li>
</ul></li>
<li>Generated signature will be:

<ul>
<li>request-sign: <code>8ee43810606da581fb6ce03e10370f89125c2269a64de832a55cea219795e9ae0c3df86b51afbafdd28c03b16acd1427</code></li>
</ul></li>
</ul>
<h2 id='rate-limits'>Rate Limits</h2>
<ul>
<li>The following rate limits are enforced:</li>
</ul>

<p>Rate limits for BTSE is as follows:</p>

<ul>
<li>Per API: <code>15 requests/second</code></li>
<li>Per User: <code>30 requests/second</code></li>
</ul>
<h2 id='api-status-codes'>API Status Codes</h2>
<p>Each API will return one of the following HTTP status:</p>

<ul>
<li>200 - API request was successful, refer to the specific API response for expected payload</li>
<li>400 - Bad Request. Server will not process this request. This is usually due to invalid parameters sent in request</li>
<li>401 - Unauthorized request. Server will not process this request as it does not have valid authentication credentials</li>
<li>403 - Forbidden request. Credentials were provided but they were insufficient to perform the request</li>
<li>404 - Not found. Indicates that the server understood the request but could not find a correct representation for the target resource</li>
<li>405 - Method not allowed. Indicates that the request method is not known to the requested server</li>
<li>408 - Request timeout. Indicates that the server did not complete the request. BTSE API timeouts are set at 30secs</li>
<li>429 - Too many requests. Indicates that the client has exceeded the rates limits set by the server. Refer to Rate Limits for more details</li>
<li>500 - Internal server error. Indicates that the server encountered an unexpected condition resulting in not being able to fulfill the request</li>
</ul>
<h2 id='api-enum'>API ENUM</h2>
<p>When connecting up the BTSE API, you will come across number codes that represents different states or status types in BTSE. The following section provides a list of codes that you are expecting to see.</p>

<ul>
<li>30000: OTC_ORDER_QUERY</li>
<li>30001: OTC_ORDER_QUOTE</li>
<li>30007: OTC_ORDER_COMPLETE_SUCCESS</li>
<li>30008: OTC_ORDER_REQUOTE</li>
</ul>
<h1 id='workflow'>Workflow</h1>
<ul>
<li>Request for Quote to get an OTC quote from BTSE</li>
<li>BTSE responds with a quote based on the request</li>
<li>If users chooses to accept the quote, quote is sent to BTSE (Quote Accepted)</li>
<li>If quote is accepted by BTSE, then transaction is completed (Transaction Completed)</li>
<li>If quote rejected by BTSE, then BTSE will respond with an updated quote with reason of the rejection</li>
<li>If quote is rejected by the user, then BTSE will respond if quote is rejected successfully (Quote Rejected)</li>
</ul>
<h1 id='otc-endpoints'>OTC Endpoints</h1><h2 id='market-summary'>Market Summary</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"assetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"maxOrderSizes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">5000</span><span class="p">,</span><span class="w">
    </span><span class="mi">5000</span><span class="p">,</span><span class="w">
    </span><span class="mi">5000</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"maxOrderValues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="mi">100000</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"minOrderSizes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
    </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
    </span><span class="mf">0.05</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"minOrderValues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mf">0.0025</span><span class="p">,</span><span class="w">
    </span><span class="mf">0.0025</span><span class="p">,</span><span class="w">
    </span><span class="mf">0.0025</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"supportQuoteCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v1/getMarket</code></p>

<p>Gets OTC market information</p>
<h3 id='response-content'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>assetName</td>
<td>string</td>
<td>Yes</td>
<td>Asset name</td>
</tr>
<tr>
<td>maxOrderSizes</td>
<td>Double Array</td>
<td>Yes</td>
<td>Maximum order size</td>
</tr>
<tr>
<td>maxOrderValues</td>
<td>Double Array</td>
<td>Yes</td>
<td>Maximum order notional value</td>
</tr>
<tr>
<td>minOrderSizes</td>
<td>Double Array</td>
<td>Yes</td>
<td>Minimum order size</td>
</tr>
<tr>
<td>minOrderValues</td>
<td>Double Array</td>
<td>Yes</td>
<td>Minimum order notional value</td>
</tr>
<tr>
<td>supportQuoteCurrencies</td>
<td>string Array</td>
<td>Yes</td>
<td>Supported quote currencies</td>
</tr>
</tbody></table>
<h2 id='request-for-quote'>Request for Quote</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC, USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD0304"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderAmountInOrderCurrency"</span><span class="p">:</span><span class="w"> </span><span class="mi">2350</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD, EUR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderSizeInBaseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="mf">20.05</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy, sell"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"assetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxOrderSizes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"maxOrderValues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"minOrderSizes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"minOrderValues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"originTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"packetID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"packetTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parametersMap"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"property1"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"property2"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"processingTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"supportQuoteCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"trackingID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"quoteAmountToDeduct"</span><span class="p">:</span><span class="w"> </span><span class="mf">21563.143</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteAmountToReceive"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.311</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteCurrencyToDeductIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteCurrencyToReceiveIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1e5e9ec8-dfb1-****-****-99e20d476c21"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quotePriceInOrderCurrency"</span><span class="p">:</span><span class="w"> </span><span class="mi">6431</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quotePriceInUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">6431</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1586225934778</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteValidDurationMs"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">30001</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v1/quote</code></p>

<p>Request for a quote</p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>baseCurrency</td>
<td>string</td>
<td>Yes</td>
<td>Base currency (eg. BTC)</td>
</tr>
<tr>
<td>orderCurrency</td>
<td>string</td>
<td>Yes</td>
<td>Order currency</td>
</tr>
<tr>
<td>orderSizeInBaseCurrency</td>
<td>Double Array</td>
<td>Yes</td>
<td>Size of order in base currency</td>
</tr>
<tr>
<td>orderAmountInOrderCurrency</td>
<td>Double Array</td>
<td>Yes</td>
<td>Order amount in order currency</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>Double Array</td>
<td>Yes</td>
<td>Custom client order ID</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Order side, BUY or SELL</td>
</tr>
</tbody></table>
<h3 id='response-content-2'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>markets</td>
<td>Asset</td>
<td>Yes</td>
<td>Asset information</td>
</tr>
<tr>
<td>quoteAmountToDeduct</td>
<td>double</td>
<td>Yes</td>
<td>Quote amount to deduct</td>
</tr>
<tr>
<td>quoteAmountToReceive</td>
<td>double</td>
<td>Yes</td>
<td>Quote amount to receive</td>
</tr>
<tr>
<td>quoteCurrencyToDeductIn</td>
<td>string</td>
<td>Yes</td>
<td>Quote currency to deduct in</td>
</tr>
<tr>
<td>quoteCurrencyToReceiveIn</td>
<td>string</td>
<td>Yes</td>
<td>Quote currency to receive</td>
</tr>
<tr>
<td>quoteId</td>
<td>string</td>
<td>Yes</td>
<td>Quote ID</td>
</tr>
<tr>
<td>quotePriceInOrderCurrency</td>
<td>double</td>
<td>Yes</td>
<td>Quote price in order currency</td>
</tr>
<tr>
<td>quotePriceInUSD</td>
<td>long</td>
<td>Yes</td>
<td>Quote price in USD</td>
</tr>
<tr>
<td>quoteTimestamp</td>
<td>long</td>
<td>Yes</td>
<td>Quote timestamp</td>
</tr>
<tr>
<td>quoteValidDurationMs</td>
<td>long</td>
<td>Yes</td>
<td>Quote validity</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Yes</td>
<td>Order status with values: <br/>8: Insufficient Balance<br/>30001: Order Quote<br/>30008: OTC Order Requote<br/>30007: OTC Order completed successfully<br/>40001: Service Unavailable<br/>40003: Rejected</td>
</tr>
</tbody></table>
<h2 id='accept-quote'>Accept Quote</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1e5e9ec8-dfb1-****-****-99e20d476c21"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"baseAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">30007</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1e5e9ec8-dfb1-****-****-99e20d476c21"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteValidDurationMs"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteAmountToReceive"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00823598</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteCurrencyToReceiveIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteAmountToDeduct"</span><span class="p">:</span><span class="w"> </span><span class="mf">300.000102</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteCurrencyToDeductIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1643084422836</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quotePriceInOrderCurrency"</span><span class="p">:</span><span class="w"> </span><span class="mf">36290.47533</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quotePriceInUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">36290.4753</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v1/accept/{quoteId}</code></p>

<p>Accepts a quote.
The quote is allowed to be <strong>partially accepted</strong> by taking <code>baseAmount</code> or <code>quoteAmount</code> in the request body,
which corresponds to <code>orderSizeInBaseCurrency</code> and <code>orderAmountInOrderCurrency</code> in <a href="#request-for-quote"><code>quote</code></a>, respectively.
Note that if the amount is larger than the the number you quote, only the quoted number will be accepted.</p>
<h3 id='request-parameter'>Request Parameter</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>quoteId</td>
<td>string</td>
<td>Yes</td>
<td>Quote ID to supplied as a path parameter</td>
</tr>
<tr>
<td>baseAmount</td>
<td>double</td>
<td>No</td>
<td>The partial amount to accept the quote</td>
</tr>
<tr>
<td>quoteAmount</td>
<td>double</td>
<td>No</td>
<td>The partial amount to accept the quote</td>
</tr>
</tbody></table>
<h3 id='response-content-3'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>integer</td>
<td>Yes</td>
<td>Order status with values: <br/>8: Insufficient Balance<br/>30001: Order Quote<br/>30008: OTC Order Requote<br/>30007: OTC Order completed successfully<br/>40001: Service Unavailable<br/>40003: Rejected</td>
</tr>
<tr>
<td>quoteId</td>
<td>string</td>
<td>Yes</td>
<td>Quote ID</td>
</tr>
<tr>
<td>quoteValidDurationMs</td>
<td>long</td>
<td>Yes</td>
<td>Quote validity</td>
</tr>
<tr>
<td>quoteAmountToReceive</td>
<td>double</td>
<td>Yes</td>
<td>Quote amount to receive</td>
</tr>
<tr>
<td>quoteCurrencyToReceiveIn</td>
<td>string</td>
<td>Yes</td>
<td>Quote currency to receive</td>
</tr>
<tr>
<td>quoteAmountToDeduct</td>
<td>double</td>
<td>Yes</td>
<td>Quote amount to deduct</td>
</tr>
<tr>
<td>quoteCurrencyToDeductIn</td>
<td>string</td>
<td>Yes</td>
<td>Quote currency to deduct in</td>
</tr>
<tr>
<td>quoteTimestamp</td>
<td>long</td>
<td>Yes</td>
<td>Quote timestamp</td>
</tr>
<tr>
<td>quotePriceInOrderCurrency</td>
<td>double</td>
<td>Yes</td>
<td>Quote price in order currency</td>
</tr>
<tr>
<td>quotePriceInUSD</td>
<td>long</td>
<td>Yes</td>
<td>Quote price in USD</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>Buy or sell</td>
</tr>
</tbody></table>
<h2 id='reject-quote'>Reject Quote</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p><code>POST /otc/api/v1/reject/{quoteId}</code></p>

<p>Reject current quote</p>
<h3 id='request-parameter-2'>Request Parameter</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>quoteId</td>
<td>string</td>
<td>Yes</td>
<td>Quote ID to supplied as a path parameter</td>
</tr>
</tbody></table>
<h2 id='query-order'>Query Order</h2>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"assetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxOrderSizes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"maxOrderValues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"minOrderSizes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"minOrderValues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">0</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"originTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"packetID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"packetTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parametersMap"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"property1"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nl">"property2"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"processingTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"supportQuoteCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"trackingID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"quoteAmountToDeduct"</span><span class="p">:</span><span class="w"> </span><span class="mf">21563.143</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteAmountToReceive"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.311</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteCurrencyToDeductIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteCurrencyToReceiveIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1e5e9ec8-dfb1-****-****-99e20d476c21"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quotePriceInOrderCurrency"</span><span class="p">:</span><span class="w"> </span><span class="mi">6431</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quotePriceInUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">6431</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1586225934778</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteValidDurationMs"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">30001</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v1/queryOrder/{quoteId}</code></p>

<p>Query order information</p>
<h3 id='request-parameter-3'>Request Parameter</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>quoteId</td>
<td>string</td>
<td>Yes</td>
<td>Quote ID to supplied as a path parameter</td>
</tr>
</tbody></table>
<h3 id='response-content-4'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>markets</td>
<td>Asset</td>
<td>Yes</td>
<td>Asset information</td>
</tr>
<tr>
<td>quoteAmountToDeduct</td>
<td>double</td>
<td>Yes</td>
<td>Quote amount to deduct</td>
</tr>
<tr>
<td>quoteAmountToReceive</td>
<td>double</td>
<td>Yes</td>
<td>Quote amount to receive</td>
</tr>
<tr>
<td>quoteCurrencyToDeductIn</td>
<td>string</td>
<td>Yes</td>
<td>Quote currency to deduct in</td>
</tr>
<tr>
<td>quoteCurrencyToReceiveIn</td>
<td>string</td>
<td>Yes</td>
<td>Quote currency to receive</td>
</tr>
<tr>
<td>quoteId</td>
<td>string</td>
<td>Yes</td>
<td>Quote ID</td>
</tr>
<tr>
<td>quotePriceInOrderCurrency</td>
<td>double</td>
<td>Yes</td>
<td>Quote price in order currency</td>
</tr>
<tr>
<td>quotePriceInUSD</td>
<td>long</td>
<td>Yes</td>
<td>Quote price in USD</td>
</tr>
<tr>
<td>quoteTimestamp</td>
<td>long</td>
<td>Yes</td>
<td>Quote timestamp</td>
</tr>
<tr>
<td>quoteValidDurationMs</td>
<td>long</td>
<td>Yes</td>
<td>Quote validity</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Yes</td>
<td>Order status with values: <br/>8: Insufficient Balance<br/>30001: Order Quote<br/>30008: OTC Order Requote<br/>30007: OTC Order completed successfully<br/>40001: Service Unavailable<br/>40003: Rejected</td>
</tr>
</tbody></table>
<h1 id='websocket-streams'>Websocket Streams</h1><h2 id='authentication-2'>Authentication</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="s2">"authKeyExpires"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:[</span><span class="s2">"APIKey"</span><span class="p">,</span><span class="w"> </span><span class="s2">"nonce"</span><span class="p">,</span><span class="w"> </span><span class="s2">"signature"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Authenticate the websocket session to subscribe to authenticated websocket topics. Assume we have values as follows:</p>

<ul>
<li><code>request-nonce</code>: 1624985375123</li>
<li><code>request-api</code>: 4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x</li>
<li><code>secret</code>: 848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx</li>
</ul>

<p>Our subscription request will be:</p>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "op":"authKeyExpires",
  "args":["4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x", "1624985375123", "c410d38c681579adb335885800cff24c66171b7cc8376cfe43da1408c581748156b89bcc5a115bb496413bda481139fb"]
}
</code></pre></div><h3 id='request-parameters-2'>Request Parameters</h3>
<p>Below details the arguments needed to be sent in.</p>

<table><thead>
<tr>
<th>Index</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>string</td>
<td>Yes</td>
<td>First argument is the API key</td>
</tr>
<tr>
<td>1</td>
<td>long</td>
<td>Yes</td>
<td>Nonce which is the current timestamp</td>
</tr>
<tr>
<td>2</td>
<td>string</td>
<td>Yes</td>
<td>Generated signature</td>
</tr>
</tbody></table>

<blockquote>
<p>Generating a signature</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"/ws/otc1624985375123"</span>  | openssl dgst <span class="nt">-sha384</span> <span class="nt">-hmac</span> <span class="s2">"848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx"</span>
<span class="o">(</span>stdin<span class="o">)=</span> c410d38c681579adb335885800cff24c66171b7cc8376cfe43da1408c581748156b89bcc5a115bb496413bda481139fb
</code></pre></div><h2 id='quote-stream'>Quote Stream</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quote"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ClientOrder1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe-quote"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ClientOrder1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe-quote-all"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quote"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"buyQuoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"015f05ba-1d55-46d7-94d9-214229414ae7"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sellQuoteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0683a41a-a2ad-467b-99b3-241f3ab0cec4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"buyQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"buyUnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">47865.580838</span><span class="p">,</span><span class="w">
  </span><span class="nl">"buyTotalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">478655.80838</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sellQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sellUnitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">47649.40351972</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sellTotalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">476494.0352</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Receive quote streams by subscribing to the <code>quote</code> websocket. The websocket topic will constantly push new prices to the subscriber. To accept the quote, indicate the buy or sell quote Id using the <code>/accept</code> API.</p>
<h3 id='request-parameters-3'>Request Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>Yes</td>
<td>Operation, in this case it is <code>quote</code>, <code>unsubscribe-quote</code>, or <code>unsubscribe-quote-all</code></td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>Market symbol, refer to <code>getMarkets</code> API</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>No</td>
<td>Quote side, <code>buy</code> or <code>sell</code>, case sensitive. Both sides will be returned when this field is empty/null</td>
</tr>
<tr>
<td>clOrderId</td>
<td>string</td>
<td>No</td>
<td>Client custom order Id</td>
</tr>
<tr>
<td>quantity</td>
<td>double</td>
<td>Yes</td>
<td>Order quantity</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>Can be either in the base or quote currency. If specified in the base currency, then the quote stream will respond with</td>
</tr>
</tbody></table>
<h3 id='response-content-5'>Response Content</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>topic</td>
<td>string</td>
<td>Yes</td>
<td>Websocket topic</td>
</tr>
<tr>
<td>buyQuoteId</td>
<td>string</td>
<td>No</td>
<td>Quote Id for the buy side. If the value is empty / null, it means that you websocket stream is not authenticated or you doesn&#39;t subscribe this side</td>
</tr>
<tr>
<td>sellQuoteId</td>
<td>string</td>
<td>No</td>
<td>Quote Id for the sell side. If the value is empty / null, it means that you websocket stream is not authenticated or you doesn&#39;t subscribe this side</td>
</tr>
<tr>
<td>clOrderId</td>
<td>string</td>
<td>Yes</td>
<td>User customer Order Id</td>
</tr>
<tr>
<td>buyQuantity</td>
<td>double</td>
<td>No</td>
<td>Quantity to purchase based on the quote request. If the value is null, it means that you doesn&#39;t subscribe this side</td>
</tr>
<tr>
<td>buyUnitPrice</td>
<td>double</td>
<td>No</td>
<td>Unit price per unit of the base symbol. If the value is null, it means that you doesn&#39;t subscribe this side</td>
</tr>
<tr>
<td>buyTotalAmount</td>
<td>double</td>
<td>No</td>
<td>Total price to pay in quote currency. If the value is null, it means that you doesn&#39;t subscribe this side</td>
</tr>
<tr>
<td>sellQuantity</td>
<td>double</td>
<td>No</td>
<td>Quantity to sell based on the quote request. If the value is null, it means that you doesn&#39;t subscribe this side</td>
</tr>
<tr>
<td>sellUnitPrice</td>
<td>double</td>
<td>No</td>
<td>Unit price per unit of the base symbol. If the value is null, it means that you doesn&#39;t subscribe this side</td>
</tr>
<tr>
<td>sellTotalAmount</td>
<td>double</td>
<td>No</td>
<td>Total price to pay in quote currency. If the value is null, it means that you doesn&#39;t subscribe this side</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>No</td>
<td>Status of the response. If the value is null, it means that you doesn&#39;t subscribe this side</td>
</tr>
<tr>
<td>reason</td>
<td>string</td>
<td>No</td>
<td>If an error is returned, the reason field will contain the reasons for the error</td>
</tr>
</tbody></table>

<p></section></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
    <script>
const DEFAULT_LANG = 'en';
const IS_DEV = false;
const DOCS_PREFIX = IS_DEV ? '/' : '/docs/';
const TAB_MAP = {
  spot: {
    en: 'Spot',
    cn: '现货'
  },
  futures: {
    en: 'Futures',
    cn: '期货'
  },
  futuresV2_2: {
    en: 'FuturesV2.2',
    cn: '期货V2.2'
  },
  otc: {
    en: 'OTC',
    cn: '场外交易'
  },
  wallet: {
    en: 'Wallet/Convert/Transfer',
    cn: '钱包/转换/转账'
  },
  streaming: {
    en: 'Streaming',
    cn: '數據流'
  },
  fix: {
    en: 'FIX',
    cn: 'FIX'
  },
  earn: {
    en: 'Earn',
    cn: '賺幣'
  }
};

function getUrlRelativePath() {
  let url = document.location.toString();
  let arrUrl = url.split('//');
  let start = arrUrl[1].indexOf('/');
  let relUrl = arrUrl[1].substring(start);
  if (relUrl.indexOf('?') !== -1) {
    relUrl = relUrl.split("?")[0];
  }
  if (relUrl.indexOf('#') !== -1) {
    relUrl = relUrl.split('#')[0];
  }
  return relUrl;
}

function capitalizeFirstLetter(s) {
  return s.charAt(0).toUpperCase() + s.slice(1);
}

function getLang() {
  const url = getUrlRelativePath();
  const isEN = url.indexOf('cn') === -1;
  return isEN ? 'en' : 'cn';
}

function getTabTemplate(isTab, href, tabKey, tabText) {
  const classList = isTab ? 'nav_cell nav_tab' : 'menu-row'
  const idPrefix = isTab ? 'nav_link_' : 'menu-link-'
  const linkClass = isTab ? 'nav-link' : 'menu-link'
  return `
    <span class="${classList}">
      <a href="${href}" id="${idPrefix}${tabKey}" class="${linkClass}">${tabText}</a>
    </span>
  `
}

function generateNavHtml(lang, isTab) {
  return Object.keys(TAB_MAP).map(tabKey => {
    const tabText = TAB_MAP[tabKey][lang] || capitalizeFirstLetter(tabKey);
    const href = `${DOCS_PREFIX}${tabKey}/${lang}/`;
    return getTabTemplate(isTab, href, tabKey, tabText);
  })
}

function addChangeLanguageLink(lang) {
  // add change lang link in navbar.
  const langText = lang === 'en' ? '中文' : 'English';
  const langHref = lang === 'en' ? location.href.replace('/en/', '/cn/') : location.href.replace('/cn/', '/en/');
  const langLink = `<a class="change-lang-link" href="${langHref}">${langText}</a>`;
  $('#navBox').append(`<span class="nav_cell">${langLink}</span>`);
}

$(function() {
  const lang = getLang();
  $('#navBox').html(generateNavHtml(lang, true));
  $('#menuDropdown').html(generateNavHtml(lang, false));
  const tabList = Object.keys(TAB_MAP);
  for (let i = 0; i < tabList.length; i ++) {
    const tabKey = tabList[i];
    if (location.href.indexOf(`/${tabKey}/`) > 0) {
      $('.nav-link').removeClass('current');
      $(`#nav_link_${tabKey}`).addClass('current');
      $('.menu-link').removeClass('current');
      $(`#menu-link-${tabKey}`).addClass('current');
      break;
    }
  }
  $('#menuDropdownBtn').click(() => {
    $('.menu-dropdown').toggleClass('hide');
  });
  addChangeLanguageLink(lang);
});
  </script>
  </body>
</html>
