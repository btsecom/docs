
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>BTSE API Documentation</title>
    <link href="../../images/favicon-3eb77247.ico" rel="icon" type="image/ico" />
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="../../stylesheets/screen-bcf56b31.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="../../javascripts/all-a9fde460.js"></script>

  </head>

  <body class="futures futures_cn futures_cn_index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        <img src="../../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <header>
    <div class="flex_box">
      <img src="../../images/logo-d7d2b532.svg" class="logo" alt="" />
      <div class="nav-row-wrap">
        <div id="navBox" class="nav_box"></div>
        <div id="menuDropdownBtn" class="noselect menu-dropdown-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>
          <div id="menuDropdown" class="menu-dropdown hide"></div>
        </div>
      </div>
    </div>

  </header>
    <div class="toc-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#185368440e" class="toc-h1 toc-link" data-title="更新日志">更新日志</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2-7-6-2024-7-10" class="toc-h2 toc-link" data-title="版本 2.7.6 (2024年7月10日)">版本 2.7.6 (2024年7月10日)</a>
                  </li>
                  <li>
                    <a href="#2-7-5-2024-5-27" class="toc-h2 toc-link" data-title="版本 2.7.5 (2024年5月27日)">版本 2.7.5 (2024年5月27日)</a>
                  </li>
                  <li>
                    <a href="#2-7-4-2024-3-29" class="toc-h2 toc-link" data-title="版本 2.7.4 (2024年3月29日)">版本 2.7.4 (2024年3月29日)</a>
                  </li>
                  <li>
                    <a href="#2-7-3-2024-2-19" class="toc-h2 toc-link" data-title="版本 2.7.3 (2024年2月19日)">版本 2.7.3 (2024年2月19日)</a>
                  </li>
                  <li>
                    <a href="#2-7-2-2024-1-31" class="toc-h2 toc-link" data-title="版本 2.7.2 (2024年1月31日)">版本 2.7.2 (2024年1月31日)</a>
                  </li>
                  <li>
                    <a href="#2-7-1-2024-1-30" class="toc-h2 toc-link" data-title="版本 2.7.1 (2024年1月30日)">版本 2.7.1 (2024年1月30日)</a>
                  </li>
                  <li>
                    <a href="#2-7-0-2024-1-29" class="toc-h2 toc-link" data-title="版本 2.7.0 (2024年1月29日)">版本 2.7.0 (2024年1月29日)</a>
                  </li>
                  <li>
                    <a href="#2-6-16-2024-1-5" class="toc-h2 toc-link" data-title="版本 2.6.16 (2024年1月5日)">版本 2.6.16 (2024年1月5日)</a>
                  </li>
                  <li>
                    <a href="#2-6-15-2023-11-8" class="toc-h2 toc-link" data-title="版本 2.6.15 (2023年11月8日)">版本 2.6.15 (2023年11月8日)</a>
                  </li>
                  <li>
                    <a href="#2-6-14-2023-11-7" class="toc-h2 toc-link" data-title="版本 2.6.14 (2023年11月7日)">版本 2.6.14 (2023年11月7日)</a>
                  </li>
                  <li>
                    <a href="#2-6-13-2023-10-31" class="toc-h2 toc-link" data-title="版本 2.6.13 (2023年10月31日)">版本 2.6.13 (2023年10月31日)</a>
                  </li>
                  <li>
                    <a href="#2-6-12-2023-10-23" class="toc-h2 toc-link" data-title="版本 2.6.12 (2023年10月23日)">版本 2.6.12 (2023年10月23日)</a>
                  </li>
                  <li>
                    <a href="#2-6-11-2023-10-16" class="toc-h2 toc-link" data-title="版本 2.6.11（2023年10月16日）">版本 2.6.11（2023年10月16日）</a>
                  </li>
                  <li>
                    <a href="#2-6-10-2023-10-3" class="toc-h2 toc-link" data-title="版本 2.6.10（2023年10月3日）">版本 2.6.10（2023年10月3日）</a>
                  </li>
                  <li>
                    <a href="#2-6-9-2023-9-11" class="toc-h2 toc-link" data-title="版本 2.6.9（2023年9月11日）">版本 2.6.9（2023年9月11日）</a>
                  </li>
                  <li>
                    <a href="#2-6-8-2023-9-3" class="toc-h2 toc-link" data-title="版本 2.6.8（2023年9月3日）">版本 2.6.8（2023年9月3日）</a>
                  </li>
                  <li>
                    <a href="#2-6-7-2023-8-29" class="toc-h2 toc-link" data-title="版本 2.6.7（2023年8月29日）">版本 2.6.7（2023年8月29日）</a>
                  </li>
                  <li>
                    <a href="#2-6-6-2023-8-28" class="toc-h2 toc-link" data-title="版本 2.6.6（2023年8月28日）">版本 2.6.6（2023年8月28日）</a>
                  </li>
                  <li>
                    <a href="#2-6-5-2023-7-27" class="toc-h2 toc-link" data-title="版本 2.6.5（2023年7月27日）">版本 2.6.5（2023年7月27日）</a>
                  </li>
                  <li>
                    <a href="#2-6-4-2023-6-7" class="toc-h2 toc-link" data-title="版本 2.6.4（2023年6月7日）">版本 2.6.4（2023年6月7日）</a>
                  </li>
                  <li>
                    <a href="#2-6-3-2023-6-6" class="toc-h2 toc-link" data-title="版本 2.6.3（2023年6月6日）">版本 2.6.3（2023年6月6日）</a>
                  </li>
                  <li>
                    <a href="#2-6-2-2023-5-29" class="toc-h2 toc-link" data-title="版本 2.6.2（2023年5月29日）">版本 2.6.2（2023年5月29日）</a>
                  </li>
                  <li>
                    <a href="#2-6-1-2023-5-24" class="toc-h2 toc-link" data-title="版本 2.6.1（2023年5月24日）">版本 2.6.1（2023年5月24日）</a>
                  </li>
                  <li>
                    <a href="#2-6-0-2023-5-17" class="toc-h2 toc-link" data-title="版本 2.6.0（2023年5月17日）">版本 2.6.0（2023年5月17日）</a>
                  </li>
                  <li>
                    <a href="#2-5-9-2023-4-21" class="toc-h2 toc-link" data-title="版本 2.5.9（2023年4月21日）">版本 2.5.9（2023年4月21日）</a>
                  </li>
                  <li>
                    <a href="#2-5-8-2023-4-12" class="toc-h2 toc-link" data-title="版本 2.5.8（2023年4月12日）">版本 2.5.8（2023年4月12日）</a>
                  </li>
                  <li>
                    <a href="#2-5-7-2023-4-6" class="toc-h2 toc-link" data-title="版本 2.5.7（2023年4月6日）">版本 2.5.7（2023年4月6日）</a>
                  </li>
                  <li>
                    <a href="#2-5-6-2023-3-29" class="toc-h2 toc-link" data-title="版本 2.5.6（2023年3月29日）">版本 2.5.6（2023年3月29日）</a>
                  </li>
                  <li>
                    <a href="#2-5-5-2023-3-29" class="toc-h2 toc-link" data-title="版本 2.5.5（2023年3月29日）">版本 2.5.5（2023年3月29日）</a>
                  </li>
                  <li>
                    <a href="#2-5-4-2023-3-1" class="toc-h2 toc-link" data-title="版本 2.5.4（2023年3月1日）">版本 2.5.4（2023年3月1日）</a>
                  </li>
                  <li>
                    <a href="#2-5-3-2022-12-23" class="toc-h2 toc-link" data-title="版本 2.5.3（2022年12月23日）">版本 2.5.3（2022年12月23日）</a>
                  </li>
                  <li>
                    <a href="#2-5-2-2022-11-28" class="toc-h2 toc-link" data-title="版本 2.5.2（2022年11月28日）">版本 2.5.2（2022年11月28日）</a>
                  </li>
                  <li>
                    <a href="#2-5-1-2022-11-25" class="toc-h2 toc-link" data-title="版本 2.5.1（2022年11月25日）">版本 2.5.1（2022年11月25日）</a>
                  </li>
                  <li>
                    <a href="#2-5-0-2022-11-16" class="toc-h2 toc-link" data-title="版本 2.5.0（2022年11月16日）">版本 2.5.0（2022年11月16日）</a>
                  </li>
                  <li>
                    <a href="#2-4-1-2022-8-17" class="toc-h2 toc-link" data-title="版本 2.4.1（2022年8月17日）">版本 2.4.1（2022年8月17日）</a>
                  </li>
                  <li>
                    <a href="#2-4-0-2022-3-30" class="toc-h2 toc-link" data-title="版本 2.4.0（2022年3月30日）">版本 2.4.0（2022年3月30日）</a>
                  </li>
                  <li>
                    <a href="#2-3-1-2022-3-29" class="toc-h2 toc-link" data-title="版本 2.3.1（2022年3月29日）">版本 2.3.1（2022年3月29日）</a>
                  </li>
                  <li>
                    <a href="#2-3-0-2022-1-21" class="toc-h2 toc-link" data-title="版本 2.3.0（2022年1月21日）">版本 2.3.0（2022年1月21日）</a>
                  </li>
                  <li>
                    <a href="#2-2-1-2021-11-26" class="toc-h2 toc-link" data-title="版本 2.2.1（2021年11月26日）">版本 2.2.1（2021年11月26日）</a>
                  </li>
                  <li>
                    <a href="#2-2-0-2021-11-23" class="toc-h2 toc-link" data-title="版本 2.2.0（2021年11月23日）">版本 2.2.0（2021年11月23日）</a>
                  </li>
                  <li>
                    <a href="#2-1-8-2021-7-1" class="toc-h2 toc-link" data-title="版本 2.1.8（2021年7月1日）">版本 2.1.8（2021年7月1日）</a>
                  </li>
                  <li>
                    <a href="#2-1-7-2021-2-4" class="toc-h2 toc-link" data-title="版本 2.1.7（2021年2月4日）">版本 2.1.7（2021年2月4日）</a>
                  </li>
                  <li>
                    <a href="#2-1-6-2021-1-29" class="toc-h2 toc-link" data-title="版本 2.1.6（2021年1月29日）">版本 2.1.6（2021年1月29日）</a>
                  </li>
                  <li>
                    <a href="#2-1-5-2020-9-28" class="toc-h2 toc-link" data-title="版本 2.1.5（2020年9月28日）">版本 2.1.5（2020年9月28日）</a>
                  </li>
                  <li>
                    <a href="#2-1-4-2020-7-24" class="toc-h2 toc-link" data-title="版本 2.1.4（2020年7月24日）">版本 2.1.4（2020年7月24日）</a>
                  </li>
                  <li>
                    <a href="#2-1-3-2020-6-23" class="toc-h2 toc-link" data-title="版本 2.1.3（2020年6月23日）">版本 2.1.3（2020年6月23日）</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#5060421d15" class="toc-h1 toc-link" data-title="概览">概览</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api" class="toc-h2 toc-link" data-title="生成 API 密钥">生成 API 密钥</a>
                  </li>
                  <li>
                    <a href="#2a1cad5f9e" class="toc-h2 toc-link" data-title="端点">端点</a>
                  </li>
                  <li>
                    <a href="#cd7685def5" class="toc-h2 toc-link" data-title="身份验证">身份验证</a>
                  </li>
                  <li>
                    <a href="#887e990e90" class="toc-h2 toc-link" data-title="速率限制">速率限制</a>
                  </li>
                  <li>
                    <a href="#api-2" class="toc-h2 toc-link" data-title="API状态代码">API状态代码</a>
                  </li>
                  <li>
                    <a href="#api-3" class="toc-h2 toc-link" data-title="API枚举">API枚举</a>
                  </li>
                  <li>
                    <a href="#d46705ca17" class="toc-h2 toc-link" data-title="垃圾订单">垃圾订单</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fafa833f79" class="toc-h1 toc-link" data-title="公共端点">公共端点</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#7335b2436c" class="toc-h2 toc-link" data-title="市场摘要">市场摘要</a>
                  </li>
                  <li>
                    <a href="#af657f5fd9" class="toc-h2 toc-link" data-title="图表数据">图表数据</a>
                  </li>
                  <li>
                    <a href="#b107fab298" class="toc-h2 toc-link" data-title="查询市场价格">查询市场价格</a>
                  </li>
                  <li>
                    <a href="#bf4a200892" class="toc-h2 toc-link" data-title="订单簿（按分组）">订单簿（按分组）</a>
                  </li>
                  <li>
                    <a href="#0feebe82a6-2" class="toc-h2 toc-link" data-title="订单簿">订单簿</a>
                  </li>
                  <li>
                    <a href="#bbd4754907" class="toc-h2 toc-link" data-title="查询成交记录">查询成交记录</a>
                  </li>
                  <li>
                    <a href="#3b35955a7e" class="toc-h2 toc-link" data-title="查询资金费率">查询资金费率</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#bca3630877" class="toc-h1 toc-link" data-title="交易端点">交易端点</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#8be954be0d" class="toc-h2 toc-link" data-title="创建新订单">创建新订单</a>
                  </li>
                  <li>
                    <a href="#a78f1cdd03" class="toc-h2 toc-link" data-title="创建新的算法订单">创建新的算法订单</a>
                  </li>
                  <li>
                    <a href="#90376e83a0" class="toc-h2 toc-link" data-title="查询订单">查询订单</a>
                  </li>
                  <li>
                    <a href="#89e5b08e91" class="toc-h2 toc-link" data-title="修改订单">修改订单</a>
                  </li>
                  <li>
                    <a href="#3eedd32d80" class="toc-h2 toc-link" data-title="取消订单">取消订单</a>
                  </li>
                  <li>
                    <a href="#8d3ae04eb2" class="toc-h2 toc-link" data-title="延时自动取消所有">延时自动取消所有</a>
                  </li>
                  <li>
                    <a href="#72485acdf4" class="toc-h2 toc-link" data-title="查询未完成订单">查询未完成订单</a>
                  </li>
                  <li>
                    <a href="#bbd4754907-2" class="toc-h2 toc-link" data-title="查询成交记录">查询成交记录</a>
                  </li>
                  <li>
                    <a href="#e602fd627b" class="toc-h2 toc-link" data-title="查询持仓">查询持仓</a>
                  </li>
                  <li>
                    <a href="#b1f6ce457c" class="toc-h2 toc-link" data-title="平仓仓位">平仓仓位</a>
                  </li>
                  <li>
                    <a href="#420063dd1a" class="toc-h2 toc-link" data-title="获取风险限制">获取风险限制</a>
                  </li>
                  <li>
                    <a href="#f233c937b2" class="toc-h2 toc-link" data-title="设置风险限制">设置风险限制</a>
                  </li>
                  <li>
                    <a href="#47d1d65d6f" class="toc-h2 toc-link" data-title="设置杠杆">设置杠杆</a>
                  </li>
                  <li>
                    <a href="#6d32c96f0c" class="toc-h2 toc-link" data-title="获取杠杆">获取杠杆</a>
                  </li>
                  <li>
                    <a href="#5d5e41f6fe" class="toc-h2 toc-link" data-title="更改合同结算货币">更改合同结算货币</a>
                  </li>
                  <li>
                    <a href="#9afbea1929" class="toc-h2 toc-link" data-title="查询帐户费用">查询帐户费用</a>
                  </li>
                  <li>
                    <a href="#3a59fc75d3" class="toc-h2 toc-link" data-title="绑定止盈/止损">绑定止盈/止损</a>
                  </li>
                  <li>
                    <a href="#0f26e5590e" class="toc-h2 toc-link" data-title="查询仓位模式">查询仓位模式</a>
                  </li>
                  <li>
                    <a href="#4a3f9ffc40" class="toc-h2 toc-link" data-title="更改仓位模式">更改仓位模式</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#a3d42f9b9f" class="toc-h1 toc-link" data-title="钱包端点">钱包端点</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#0bed682e6f" class="toc-h2 toc-link" data-title="查询钱包余额">查询钱包余额</a>
                  </li>
                  <li>
                    <a href="#2d46780fe3" class="toc-h2 toc-link" data-title="查询钱包历史记录">查询钱包历史记录</a>
                  </li>
                  <li>
                    <a href="#5a0de97d1d" class="toc-h2 toc-link" data-title="查询钱包保证金">查询钱包保证金</a>
                  </li>
                  <li>
                    <a href="#8babba8e02" class="toc-h2 toc-link" data-title="在期货钱包之间转账资金">在期货钱包之间转账资金</a>
                  </li>
                  <li>
                    <a href="#a1b5b663b6" class="toc-h2 toc-link" data-title="子账户钱包转账">子账户钱包转账</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="订单簿 WebSocket 数据流">订单簿 WebSocket 数据流</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2a1cad5f9e-2" class="toc-h2 toc-link" data-title="端点">端点</a>
                  </li>
                  <li>
                    <a href="#oss-l1" class="toc-h2 toc-link" data-title="OSS L1 快照 (按分组)">OSS L1 快照 (按分组)</a>
                  </li>
                  <li>
                    <a href="#bb4b2c51b6" class="toc-h2 toc-link" data-title="订单簿增量更新">订单簿增量更新</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-2" class="toc-h1 toc-link" data-title="Websocket流">Websocket流</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2a1cad5f9e-3" class="toc-h2 toc-link" data-title="端点">端点</a>
                  </li>
                  <li>
                    <a href="#ping-pong" class="toc-h2 toc-link" data-title="Ping/Pong">Ping/Pong</a>
                  </li>
                  <li>
                    <a href="#5319af762d" class="toc-h2 toc-link" data-title="订阅">订阅</a>
                  </li>
                  <li>
                    <a href="#6ac7b4be08" class="toc-h2 toc-link" data-title="公开成交记录">公开成交记录</a>
                  </li>
                  <li>
                    <a href="#32c808cbe5" class="toc-h2 toc-link" data-title="认证">认证</a>
                  </li>
                  <li>
                    <a href="#7a66c0d036" class="toc-h2 toc-link" data-title="通知">通知</a>
                  </li>
                  <li>
                    <a href="#384d988850" class="toc-h2 toc-link" data-title="用户交易记录">用户交易记录</a>
                  </li>
                  <li>
                    <a href="#35edece5cf" class="toc-h2 toc-link" data-title="所有仓位">所有仓位</a>
                  </li>
                  <li>
                    <a href="#25a424cad9" class="toc-h2 toc-link" data-title="仓位">仓位</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='185368440e'>更新日志</h1><h2 id='2-7-6-2024-7-10'>版本 2.7.6 (2024年7月10日)</h2>
<ul>
<li>添加<a href="#8943d9ea9a"><code>速率限制机制描述</code></a></li>
</ul>
<h2 id='2-7-5-2024-5-27'>版本 2.7.5 (2024年5月27日)</h2>
<ul>
<li>将以下API和WebSocket主题中添加<code>contractSize</code>字段。计划生效日期为<code>2024年5月29日上午10点（UTC+0）</code>。

<ul>
<li><a href="#bbd4754907-2"><code>查询成交记录</code></a></li>
<li><a href="#90376e83a0"><code>查询订单</code></a></li>
<li><a href="#72485acdf4"><code>查询未完成订单</code></a></li>
<li><a href="#e602fd627b"><code>查询持仓</code></a></li>
<li><a href="#384d988850"><code>用户交易记录</code></a></li>
<li><a href="#35edece5cf"><code>所有仓位</code></a></li>
<li><a href="#25a424cad9"><code>仓位</code></a> </li>
</ul></li>
</ul>
<h2 id='2-7-4-2024-3-29'>版本 2.7.4 (2024年3月29日)</h2>
<ul>
<li>说明查询历史记录的最大天数. <a href="#bbd4754907">查询成交记录</a> / <a href="#2d46780fe3">查询钱包历史记录</a></li>
</ul>
<h2 id='2-7-3-2024-2-19'>版本 2.7.3 (2024年2月19日)</h2>
<ul>
<li>添加 <a href="https://support.btse.com/en/support/solutions/articles/43000720904-spam-order-detection-mechanism">垃圾订单检测机制 : BTSE Support</a> 链接</li>
<li>更改描述：对于名义价值低于 5 USDT的垃圾订单</li>
<li>将垃圾账户的阈值更改为 20 美元。</li>
</ul>
<h2 id='2-7-2-2024-1-31'>版本 2.7.2 (2024年1月31日)</h2>
<ul>
<li>新增 <a href="https://support.btse.com/en/support/solutions/articles/43000720577-what-is-price-protection-mechanism">price protection</a> 相关状态</li>
</ul>
<h2 id='2-7-1-2024-1-30'>版本 2.7.1 (2024年1月30日)</h2>
<ul>
<li>新增API <a href="#3b35955a7e"><code>查询资金费率</code></a></li>
</ul>
<h2 id='2-7-0-2024-1-29'>版本 2.7.0 (2024年1月29日)</h2>
<ul>
<li>支持全仓杠杆

<ul>
<li> 在<a href="#6d32c96f0c"><code>获取杠杆</code></a>和<a href="#47d1d65d6f"><code>设置杠杆</code></a>中新增了新的栏位和参数 marginMode</li>
</ul></li>
</ul>
<h2 id='2-6-16-2024-1-5'>版本 2.6.16 (2024年1月5日)</h2>
<ul>
<li>修正API <a href="#8babba8e02"><code>在期货钱包之间转账资金</code></a> 和 <a href="#a1b5b663b6"><code>子账户钱包转账</code></a> 的描述中，只有当<code>walletSrcType</code>和<code>walletDestType</code>为<code>ISOLATED</code>时，相对应的<code>walletSrc</code>和<code>walletDest</code>才为<strong>必须</strong></li>
</ul>
<h2 id='2-6-15-2023-11-8'>版本 2.6.15 (2023年11月8日)</h2>
<ul>
<li>新增新的API<a href="#0f26e5590e"><code>查询仓位模式</code></a>和<a href="#4a3f9ffc40"><code>切換仓位模式</code></a></li>
<li>关于订单和仓位的API新增了新的栏位或参数:仓位ID(positionId)、仓位方向(positionDirection)、仓位模式(positionMode)。</li>
</ul>
<h2 id='2-6-14-2023-11-7'>版本 2.6.14 (2023年11月7日)</h2>
<ul>
<li>更新 <a href="#7335b2436c">市场摘要</a> 中的 资金费率（fundingRate） 描述</li>
<li>在 <a href="#7335b2436c">市场摘要</a> 中添加 listFullAttributes 参数</li>
<li>在 <a href="#7335b2436c">市场摘要</a> 中添加可选的 fundingIntervalMinutes 和 fundingTime</li>
<li>新的资金费率间隔预定生效日期为 2023年11月14日</li>
<li>新增一个新的API<a href="#90376e83a0">查询订单</a></li>
</ul>
<h2 id='2-6-13-2023-10-31'>版本 2.6.13 (2023年10月31日)</h2>
<blockquote>
<p>错误代码格式</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAD_REQUEST: Order doesn't exist"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>[重要通知] 调整与交易相关的API的HTTP状态码和错误消息。计划生效日期为<code>2023年11月7日上午10点（UTC+0）</code>。此包括但不限于以下情况。 

<ul>
<li>订单未找到

<ul>
<li>将状态码更改为400</li>
<li>将错误代码更改为400</li>
</ul></li>
<li>订单被拒绝

<ul>
<li>将状态码更改为400</li>
<li>将错误代码更改为400</li>
</ul></li>
<li>最大开放订单超出限制

<ul>
<li>将状态码更改为400</li>
<li>将错误代码更改为304</li>
</ul></li>
<li>超出速率限制

<ul>
<li>将状态码更改为429</li>
<li>将错误代码更改为303</li>
</ul></li>
<li>市场不可用

<ul>
<li>将状态码更改为400</li>
<li>将错误代码更改为400</li>
</ul></li>
</ul></li>
</ul>
<h2 id='2-6-12-2023-10-23'>版本 2.6.12 (2023年10月23日)</h2>
<ul>
<li>在websocket流中添加<a href="#25a424cad9"><code>仓位</code></a>，使用户能够获取包括已关闭仓位在内的所有仓位</li>
</ul>
<h2 id='2-6-11-2023-10-16'>版本 2.6.11（2023年10月16日）</h2>
<ul>
<li>在<a href="#8be954be0d"><code>创建新订单</code></a>中添加TP/SL（止盈/止损）参数</li>
<li>在交易端点中添加API <a href="#3a59fc75d3"><code>绑定TP/SL</code></a> 以将TP/SL与现有持仓绑定</li>
<li>在交易端点 <a href="#72485acdf4"><code>查询未完成订单</code></a> 和 <a href="#e602fd627b"><code>查询持仓</code></a> 中添加TP/SL字段</li>
<li>在WebSocket流 <a href="#35edece5cf"><code>所有仓位</code></a> 中添加TP/SL字段</li>
</ul>
<h2 id='2-6-10-2023-10-3'>版本 2.6.10（2023年10月3日）</h2>
<ul>
<li>修正响应数据类型</li>
</ul>
<h2 id='2-6-9-2023-9-11'>版本 2.6.9（2023年9月11日）</h2>
<ul>
<li>添加 <a href="#6d32c96f0c"><code>获取杠杆</code></a> 以获取市场杠杆</li>
</ul>
<h2 id='2-6-8-2023-9-3'>版本 2.6.8（2023年9月3日）</h2>
<ul>
<li>从 <a href="#89e5b08e91"><code>修改订单</code></a> 中移除滑动参数</li>
</ul>
<h2 id='2-6-7-2023-8-29'>版本 2.6.7（2023年8月29日）</h2>
<ul>
<li>在 <a href="#api-2"><code>API状态代码</code></a> 中添加 451 状态代码，并将 <a href="#websocket"><code>订单簿 WebSocket 数据流</code></a> 设置为独立段落</li>
</ul>
<h2 id='2-6-6-2023-8-28'>版本 2.6.6（2023年8月28日）</h2>
<ul>
<li>在 <a href="#b1f6ce457c"><code>平仓仓位</code></a> 中添加 postOnly 参数</li>
</ul>
<h2 id='2-6-5-2023-7-27'>版本 2.6.5（2023年7月27日）</h2>
<ul>
<li>我们在期货市场中引入了一个新的产品：1,000 Floki 永续期货合约（1KFLOKI-PERP 或 1KFLOKIPFC）</li>
</ul>
<h2 id='2-6-4-2023-6-7'>版本 2.6.4（2023年6月7日）</h2>
<ul>
<li>将 <a href="#8babba8e02"><code>在期货钱包之间转账资金</code></a> 的 URL 从 /api/v2.1/wallet/transfer 更新为 /api/v2.1/user/wallet/transfer</li>
</ul>
<h2 id='2-6-3-2023-6-6'>版本 2.6.3（2023年6月6日）</h2>
<ul>
<li>更新 <a href="#e164979872"><code>钱包明细请求</code></a> 的格式</li>
</ul>
<h2 id='2-6-2-2023-5-29'>版本 2.6.2（2023年5月29日）</h2>
<ul>
<li>更新订单簿流服务（OSS）的错误消息格式。计划生效日期为 <code>2023年6月6日，上午10:00（UTC+0）</code>。

<ul>
<li>之前
<code>
{
&quot;severity&quot;: &quot;ERROR&quot;,
&quot;error&quot;: [
    {
        &quot;arg&quot;: &quot;update:BTCC-USD_0&quot;,
        &quot;errorCode&quot;: &quot;MARKET_PAIR_NOT_SUPPORT&quot;
    }
]
}
</code></li>
<li>之后
<code>
{
&quot;severity&quot;: &quot;ERROR&quot;,
&quot;errors&quot;: [
    {
        &quot;arg&quot;: &quot;update:BTCC-USD_0&quot;,
        &quot;error&quot;: {
            &quot;code&quot;: 1000,
            &quot;message&quot;: &quot;Market pair provided is currently not supported.&quot;
        }
    }
]
}
</code></li>
</ul></li>
</ul>
<h2 id='2-6-1-2023-5-24'>版本 2.6.1（2023年5月24日）</h2>
<ul>
<li>在 <a href="#bf4a200892"><code>按分组的订单簿</code></a> 上添加 group 参数</li>
</ul>
<h2 id='2-6-0-2023-5-17'>版本 2.6.0（2023年5月17日）</h2>
<ul>
<li>添加 <a href="#ping-pong"><code>Ping/Pong</code></a> 用于现货流</li>
</ul>
<h2 id='2-5-9-2023-4-21'>版本 2.5.9（2023年4月21日）</h2>
<ul>
<li>添加 <a href="#420063dd1a">获取风险限制</a></li>
<li>添加 <a href="#a1b5b663b6">子账户钱包转账</a></li>
</ul>
<h2 id='2-5-8-2023-4-12'>版本 2.5.8（2023年4月12日）</h2>
<ul>
<li>弃用两个 WebSocket 主题 <code>现货订单簿快照（按分组）</code> 和 <code>现货订单簿快照（按深度）</code> 今日起。
请使用以下 WebSocket 主题通过端点 <code>wss://ws.btse.com/ws/oss/futures</code> 获取订单簿数据

<ul>
<li><a href="#bb4b2c51b6">订单簿增量更新</a></li>
<li><a href="#oss-l1">OSS L1 快照 (按分组)</a></li>
</ul></li>
</ul>
<h2 id='2-5-7-2023-4-6'>版本 2.5.7（2023年4月6日）</h2>
<ul>
<li>添加 <a href="#oss-l1">OSS L1 快照 (按分组)</a></li>
</ul>
<h2 id='2-5-6-2023-3-29'>版本 2.5.6（2023年3月29日）</h2>
<ul>
<li>[重要通知] BTSE 将于 <strong>2023年4月</strong> 更改现货市场命名约定，以为零售用户提供更多明确性，规则如下：

<ul>
<li>将永续市场的后缀从 <code>PFC</code> 更改为 <code>PERP</code>（例如：BTCPFC -&gt; BTC-PERP）</li>
<li>将基于时间的市场的后缀从 <code>交割月份 + 年份</code> 更改为 <code>结算日期（YYMMDD）</code>（例如：BTCM23 -&gt; BTC-230630）</li>
<li><a href="https://www.btse.com/blog/important-notice-upcoming-changes-to-futures-risk-limits-and-contract-names/">参考链接</a></li>
<li>期货 API 已更新（通常添加了一个新的可选参数 <code>useNewSymbolNaming</code>，以指定市场名称是否采用新格式）：</li>
<li><a href="#7335b2436c">市场摘要</a></li>
<li><a href="#72485acdf4">查询未完成订单</a></li>
<li><a href="#bf4a200892">按分组的订单簿</a></li>
<li><a href="#0feebe82a6">订单簿</a></li>
<li><a href="#af657f5fd9">图表数据</a></li>
<li><a href="#2d46780fe3">查询钱包历史记录</a></li>
<li><a href="#0bed682e6f">查询钱包余额</a></li>
<li><a href="#47d1d65d6f">设置杠杆</a></li>
<li><a href="#6d32c96f0c">获取杠杆</a></li>
<li><a href="#f233c937b2">设置风险限制</a></li>
<li><a href="#b107fab298">查询市场价格</a></li>
<li><a href="#5d5e41f6fe">更改合同结算货币</a></li>
<li><a href="#9afbea1929">查询帐户费用</a></li>
<li><a href="#e602fd627b">查询持仓</a></li>
<li><a href="#b1f6ce457c">平仓仓位</a></li>
<li><a href="#5a0de97d1d">查询钱包保证金</a></li>
<li><a href="#8be954be0d">创建新订单</a></li>
<li><a href="#bbd4754907-2">查询成交记录</a></li>
<li>现有的 WebSocket 主题将返回具有当前市场名称的数据（例如：BTCPFC），并为新市场名称（例如：BTC-PERP）添加了一组新的 WebSocket 主题，<code>响应字段将相同</code>，以下是映射表：</li>
<li><a href="#6ac7b4be08">tradeHistoryApi</a> -&gt; tradeHistoryApiV2</li>
<li><a href="#orderbook-snapshot-by-grouping">orderbookApi</a> -&gt; orderbookApiV2</li>
<li><a href="#orderbook-snapshot-by-depth">orderbookL2Api</a> -&gt; orderbookL2ApiV2</li>
<li><a href="#384d988850">fills</a> -&gt; fillsV2</li>
<li><a href="#35edece5cf">allPosition</a> -&gt; allPositionV2</li>
<li><a href="#7a66c0d036">notificationApiV2</a> -&gt; notificationApiV3</li>
</ul></li>
</ul>
<h2 id='2-5-5-2023-3-29'>版本 2.5.5（2023年3月29日）</h2>
<ul>
<li>将身份验证失败的 HTTP 状态码更新为 <code>401</code></li>
</ul>
<h2 id='2-5-4-2023-3-1'>版本 2.5.4（2023年3月1日）</h2>
<ul>
<li>更新 <a href="#bb4b2c51b6">订单簿增量更新</a> 的参数格式。</li>
</ul>
<h2 id='2-5-3-2022-12-23'>版本 2.5.3（2022年12月23日）</h2>
<ul>
<li>[重要通知] BTSE 将于 <strong>2023年</strong> 更改期货市场命名约定。更改内容详见 <a href="#2-5-0-2022-11-16">版本 2.5.0（2022年11月16日）</a>。</li>
</ul>
<h2 id='2-5-2-2022-11-28'>版本 2.5.2（2022年11月28日）</h2>
<ul>
<li>添加 <a href="#bb4b2c51b6">订单簿增量更新</a> 的错误消息。</li>
</ul>
<h2 id='2-5-1-2022-11-25'>版本 2.5.1（2022年11月25日）</h2>
<ul>
<li>[重要通知] BTSE 将调整计算期货风险限制级别的公式，某些 API 将受到影响。

<ul>
<li><a href="#7335b2436c"><code>市场摘要</code></a></li>
<li>响应中的 <code>maxPosition</code> 将不再适用，因为它将由 <code>max_risk_limit / futures_market_price</code> 确定</li>
<li><code>minRiskLimit</code> 现在以合同大小表示，并将更新为 <code>美元名义值</code></li>
<li><code>maxRiskLimit</code> 现在以合同大小表示，并将更新为 <code>美元名义值</code></li>
<li><code>订单大小</code> 保持为 <code>合同大小</code>，而不是 <code>美元价值</code>，以保持向后兼容性</li>
<li><a href="https://www.btse.com/blog/important-notice-upcoming-changes-to-futures-risk-limits-and-contract-names/">参考链接</a></li>
<li>如果有任何问题，可以在 <a href="https://t.me/btsecomAPI">BTSE API 电报群</a> 中提问</li>
</ul></li>
</ul>
<h2 id='2-5-0-2022-11-16'>版本 2.5.0（2022年11月16日）</h2>
<ul>
<li>[重要通知] BTSE 将于 <strong>2022年12月</strong> 更改期货市场命名约定，以为零售用户提供更多明确性，规则如下：

<ul>
<li>将永续市场的后缀从 <code>PFC</code> 更改为 <code>PERP</code>（例如：BTCPFC -&gt; BTC-PERP）</li>
<li>将基于时间的市场的后缀从 <code>交割月份 + 年份</code> 更改为 <code>结算日期（YYMMDD）</code>（例如：BTCZ22 -&gt; BTC-221230）</li>
<li><a href="https://www.btse.com/blog/important-notice-upcoming-changes-to-futures-risk-limits-and-contract-names/">参考链接</a></li>
<li>期货 API 已更新（通常添加了一个新的可选参数 <code>useNewSymbolNaming</code>，以指定市场名称是否采用新格式）：</li>
<li><a href="#7335b2436c"><code>市场摘要</code></a></li>
<li><a href="#72485acdf4"><code>查询未完成订单</code></a></li>
<li><a href="#bf4a200892"><code>按分组的订单簿</code></a></li>
<li><a href="#0feebe82a6"><code>订单簿</code></a></li>
<li><a href="#af657f5fd9"><code>图表数据</code></a></li>
<li><a href="#2d46780fe3"><code>查询钱包历史记录</code></a></li>
<li><a href="#0bed682e6f"><code>查询钱包余额</code></a></li>
<li><a href="#47d1d65d6f"><code>设置杠杆</code></a></li>
<li><a href="#f233c937b2"><code>设置风险限制</code></a></li>
<li><a href="#b107fab298"><code>查询市场价格</code></a></li>
<li><a href="#5d5e41f6fe"><code>更改合同结算货币</code></a></li>
<li><a href="#9afbea1929"><code>查询帐户费用</code></a></li>
<li><a href="#e602fd627b"><code>查询持仓</code></a></li>
<li><a href="#b1f6ce457c"><code>平仓仓位</code></a></li>
<li><a href="#5a0de97d1d"><code>查询钱包保证金</code></a></li>
<li><a href="#8be954be0d"><code>创建新订单</code></a></li>
<li><a href="#bbd4754907"><code>查询成交记录</code></a></li>
<li>现有的 WebSocket 主题将返回具有当前市场名称的数据（例如：BTCPFC），并为新市场名称（例如：BTC-PERP）添加了一组新的 WebSocket 主题，<code>响应字段将相同</code>，以下是映射表：</li>
<li><a href="#6ac7b4be08">tradeHistoryApi</a> -&gt; tradeHistoryApiV2</li>
<li><a href="#orderbook-snapshot-by-grouping">orderbookApi</a> -&gt; orderbookApiV2</li>
<li><a href="#orderbook-snapshot-by-depth">orderbookL2Api</a> -&gt; orderbookL2ApiV2</li>
<li><a href="#384d988850">fills</a> -&gt; fillsV2</li>
<li><a href="#35edece5cf">allPosition</a> -&gt; allPositionV2</li>
<li><a href="#7a66c0d036">notificationApiV2</a> -&gt; notificationApiV3</li>
</ul></li>
</ul>
<h2 id='2-4-1-2022-8-17'>版本 2.4.1（2022年8月17日）</h2>
<ul>
<li>在 <a href="#bca3630877">交易端点</a> 中添加更多请求/响应示例</li>
<li>在 <a href="#bca3630877">交易端点</a> 中纠正文档</li>
</ul>
<h2 id='2-4-0-2022-3-30'>版本 2.4.0（2022年3月30日）</h2>
<ul>
<li>添加新的Websocket主题 <code>allPosition</code> 以获取所有开放的仓位 <a href="#35edece5cf">所有仓位</a></li>
</ul>
<h2 id='2-3-1-2022-3-29'>版本 2.3.1（2022年3月29日）</h2>
<ul>
<li>在 <a href="#8be954be0d">创建新订单</a> 中添加新的 <code>HALFMIN</code> time_in_force 选项</li>
</ul>
<h2 id='2-3-0-2022-1-21'>版本 2.3.0（2022年1月21日）</h2>
<ul>
<li>在 <a href="#8be954be0d">创建新订单</a>、<a href="#a78f1cdd03">创建新的算法订单</a> 和 <a href="#b1f6ce457c">平仓仓位</a> 中添加两个新的响应字段 <code>remainingSize</code> 和 <code>originalSize</code> <strong>[注意]：此更改将于2022年1月25日生效（UTC+0）</strong></li>
</ul>
<h2 id='2-2-1-2021-11-26'>版本 2.2.1（2021年11月26日）</h2>
<ul>
<li>更新期货市场的市场名称 <a href="#websocket">订单簿 WebSocket 数据流</a></li>
</ul>
<h2 id='2-2-0-2021-11-23'>版本 2.2.0（2021年11月23日）</h2>
<ul>
<li>添加订单簿增量更新 <a href="#websocket">订单簿 WebSocket 数据流</a></li>
</ul>
<h2 id='2-1-8-2021-7-1'>版本 2.1.8（2021年7月1日）</h2>
<ul>
<li>添加 <code>fills</code> WebSocket 主题以订阅 <a href="#384d988850">用户交易记录</a></li>
<li>为 <a href="#websocket">订单簿 WebSocket 数据流</a> 添加属性 <code>depth</code></li>
</ul>
<h2 id='2-1-7-2021-2-4'>版本 2.1.7（2021年2月4日）</h2>
<ul>
<li>在未完成订单 AP 中添加 <code>avgFilledPrice</code></li>
</ul>
<h2 id='2-1-6-2021-1-29'>版本 2.1.6（2021年1月29日）</h2>
<ul>
<li>WebSocket 端点将更新为以下内容：

<ul>
<li>现货：wss://ws.btse.com/ws/spot</li>
<li>期货：wss://ws.btse.com/ws/futures</li>
</ul></li>
</ul>

<p>现有端点将继续提供。</p>

<ul>
<li>登录主题现在将以 JSON 成功/失败消息 {&quot;event&quot;:&quot;login&quot;,&quot;success&quot;:true} 作出响应。</li>
<li>在订阅或取消订阅 WebSocket 主题时，将返回一个确认，指示成功订阅/取消订阅的主题。不成功的主题将不会在响应中返回。</li>
<li>WebSocket 通知将新增以下指示：

<ul>
<li>maker - 布尔值，指示订单是否为挂单 / 吃单订单</li>
<li>remainingSize - 指示订单的剩余数量的值</li>
<li>time_in_force - 指示订单上设置的有效期的值</li>
</ul></li>
</ul>
<h2 id='2-1-5-2020-9-28'>版本 2.1.5（2020年9月28日）</h2>
<ul>
<li>新的修改订单 API。允许用户编辑挂单的价格、数量和触发价格</li>
</ul>
<h2 id='2-1-4-2020-7-24'>版本 2.1.4（2020年7月24日）</h2>
<ul>
<li>新的结算 API 添加，允许用户通过 API 设置当前仓位结算的货币</li>
</ul>
<h2 id='2-1-3-2020-6-23'>版本 2.1.3（2020年6月23日）</h2>
<ul>
<li>引入垃圾订单检测机制</li>
<li>引入 WebSocket 主题 notificationApiV2。该主题旨在标准化返回的响应代码。通知以数组形式返回</li>
<li>引入 API 权限。所有当前的 API 密钥将具有读取、交易和转账权限。请参考标题旁边的标签，了解它们属于哪个类别</li>
</ul>
<h1 id='5060421d15'>概览</h1><h2 id='api'>生成 API 密钥</h2>
<p>在使用经过身份验证的 API 之前，您需要在 BTSE 平台上创建一个 API 密钥。要创建 API 密钥，您可以按照以下步骤操作：</p>

<ul>
<li>使用您的用户名/电子邮件和密码登录 BTSE 网站</li>
<li>单击右上角的“帐户”</li>
<li>选择 API 选项卡</li>
<li>单击“新 API” 按钮以创建 API 密钥和密码（注意：密码仅会显示一次）</li>
<li>使用您的 API 密钥和密码构建签名。</li>
</ul>
<h2 id='2a1cad5f9e'>端点</h2>
<ul>
<li>生产环境

<ul>
<li>HTTP

<ul>
<li><code>https://api.btse.com/futures</code></li>
</ul></li>
<li>Websocket

<ul>
<li><code>wss://ws.btse.com/ws/futures</code></li>
</ul></li>
<li>Websocket（用于订单簿流）

<ul>
<li><code>wss://ws.btse.com/ws/oss/futures</code>（用于订单簿增量更新流）</li>
</ul></li>
</ul></li>
<li>测试网络

<ul>
<li>HTTP

<ul>
<li><code>https://testapi.btse.io/futures</code></li>
</ul></li>
<li>Websocket

<ul>
<li><code>wss://testws.btse.io/ws/futures</code></li>
</ul></li>
<li>Websocket（用于订单簿流）

<ul>
<li><code>wss://testws.btse.io/ws/oss/futures</code>（用于订单簿增量更新流）</li>
</ul></li>
</ul></li>
</ul>
<h2 id='cd7685def5'>身份验证</h2>
<ul>
<li><p>API密钥（request-api）</p>

<ul>
<li>参数名称：<code>request-api</code>，位置：标头。API密钥以字符串形式从BTSE平台获取</li>
</ul></li>
<li><p>API密钥（request-nonce）</p>

<ul>
<li>参数名称：<code>request-nonce</code>，位置：标头。当前时间戳的长格式表示</li>
</ul></li>
<li><p>API密钥（request-sign）</p>

<ul>
<li>参数名称：<code>request-sign</code>，位置：标头。基于以下算法生成的复合签名：Signature=HMAC.Sha384 (secretkey, (urlpath + request-nonce + bodyStr))（注意：当没有数据时，bodyStr = &#39;&#39;）：</li>
</ul></li>
</ul>
<h3 id='1'>示例 1：获取钱包</h3>
<blockquote>
<p><strong>HMAC SHA384 Signature</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"/api/v2.1/user/wallet1624984297330"</span> | openssl dgst <span class="nt">-sha384</span> <span class="nt">-hmac</span> <span class="s2">"848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx"</span>
<span class="o">(</span>stdin<span class="o">)=</span> ea4f1f2b43a0f4d750ae560c5274d6214d140fcab3093da5f4a83e36828535bd2ba7b12160cd12199596f422c8883333
</code></pre></div>
<ul>
<li>获取钱包的端点是 <code>https://api.btse.com/futures/api/v2.1/user/wallet</code></li>
<li>假设我们有以下值：

<ul>
<li>request-nonce: <code>1624984297330</code></li>
<li>request-api: <code>4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x</code></li>
<li>secret: <code>848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx</code></li>
<li>Path: <code>/api/v2.1/user/wallet</code></li>
</ul></li>
<li>生成的签名将是:

<ul>
<li>request-sign: <code>ea4f1f2b43a0f4d750ae560c5274d6214d140fcab3093da5f4a83e36828535bd2ba7b12160cd12199596f422c8883333</code></li>
</ul></li>
</ul>
<h3 id='2'>示例 2：下订单</h3>
<blockquote>
<p><strong>HMAC SHA384 Signature</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"/api/v2.1/order1624985375123{</span><span class="se">\"</span><span class="s2">postOnly</span><span class="se">\"</span><span class="s2">:false,</span><span class="se">\"</span><span class="s2">price</span><span class="se">\"</span><span class="s2">:8500.0,</span><span class="se">\"</span><span class="s2">reduceOnly</span><span class="se">\"</span><span class="s2">:false,</span><span class="se">\"</span><span class="s2">side</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BUY</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">size</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">stopPrice</span><span class="se">\"</span><span class="s2">:0.0,</span><span class="se">\"</span><span class="s2">symbol</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BTCPFC</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">time_in_force</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GTC</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">trailValue</span><span class="se">\"</span><span class="s2">:0.0,</span><span class="se">\"</span><span class="s2">triggerPrice</span><span class="se">\"</span><span class="s2">:0.0,</span><span class="se">\"</span><span class="s2">txType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">LIMIT</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">type</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">LIMIT</span><span class="se">\"</span><span class="s2">}"</span> | openssl dgst <span class="nt">-sha384</span> <span class="nt">-hmac</span> <span class="s2">"848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx"</span>
<span class="o">(</span>stdin<span class="o">)=</span> 943adfce43b609a28506274976b96e08cf4bdc4ea53ca0b4cac0eb2cf0773a7d0807efc0aeab779d47fadcd9a60eea13
</code></pre></div>
<ul>
<li>下订单的端点是 <code>https://api.btse.com/futures/api/v2.1/order</code></li>
<li>假设我们有以下值：

<ul>
<li>request-nonce: <code>1624985375123</code></li>
<li>request-api: <code>4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x</code></li>
<li>secret: <code>848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx</code></li>
<li>Path: <code>/api/v2.1/order</code></li>
<li>Body: <code>{&quot;postOnly&quot;:false,&quot;price&quot;:8500.0,&quot;reduceOnly&quot;:false,&quot;side&quot;:&quot;BUY&quot;,&quot;size&quot;:1,&quot;stopPrice&quot;:0.0,&quot;symbol&quot;:&quot;BTCPFC&quot;,&quot;time_in_force&quot;:&quot;GTC&quot;,&quot;trailValue&quot;:0.0,&quot;triggerPrice&quot;:0.0,&quot;txType&quot;:&quot;LIMIT&quot;,&quot;type&quot;:&quot;LIMIT&quot;}</code></li>
<li>Encrypted Text: <code>/api/v2.1/order1624985375123{&quot;postOnly&quot;:false,&quot;price&quot;:8500.0,&quot;reduceOnly&quot;:false,&quot;side&quot;:&quot;BUY&quot;,&quot;size&quot;:1,&quot;stopPrice&quot;:0.0,&quot;symbol&quot;:&quot;BTCPFC&quot;,&quot;time_in_force&quot;:&quot;GTC&quot;,&quot;trailValue&quot;:0.0,&quot;triggerPrice&quot;:0.0,&quot;txType&quot;:&quot;LIMIT&quot;,&quot;type&quot;:&quot;LIMIT&quot;}</code></li>
</ul></li>
<li>生成的签名将是：

<ul>
<li>request-sign: <code>943adfce43b609a28506274976b96e08cf4bdc4ea53ca0b4cac0eb2cf0773a7d0807efc0aeab779d47fadcd9a60eea13</code></li>
</ul></li>
</ul>
<h2 id='887e990e90'>速率限制</h2>
<ul>
<li>强制执行以下速率限制：</li>
</ul>

<p>BTSE 的速率限制如下：</p>

<p><strong>查询</strong></p>

<ul>
<li>每个API：每秒 <code>15次请求</code></li>
<li>每个用户：每秒 <code>30次请求</code></li>
</ul>

<p><strong>订单</strong></p>

<ul>
<li>每个API：每秒 <code>75次请求</code></li>
<li>每个用户：每秒 <code>75次请求</code></li>
</ul>
<h3 id='8943d9ea9a'>机制描述</h3>
<p>我们的系统实现了一个分层封锁机制，有三个不同的封锁时长：1秒、5分钟 和 15分钟。封锁时长的计算从第一次封锁开始时算起。
此外，如果 IP 地址或用户在 1 小时内或 15 分钟的封锁时长结束后没有超过速率限制，封锁时长的计算将被重置。</p>

<p>在返回 429 响应时，会包含一个 Retry-After 头部，并提供解锁的时间戳。</p>
<h4 id='23ab1ac6f0'>速率限制等级</h4>
<ul>
<li>1秒</li>
<li>5分钟</li>
<li>15分钟</li>
</ul>
<h2 id='api-2'>API状态代码</h2>
<p>每个API将返回以下HTTP状态之一：</p>

<ul>
<li>200 - API请求成功，参考特定API响应以获取预期的有效负载</li>
<li>400 - 错误请求。服务器不会处理此请求。通常是因为请求中包含了无效的参数</li>
<li>401 - 未经授权的请求。服务器不会处理此请求，因为它没有有效的身份验证凭据</li>
<li>403 - 禁止的请求。提供了凭据，但它们不足以执行请求</li>
<li>404 - 未找到。表示服务器理解请求但无法找到目标资源的正确表示</li>
<li>405 - 不允许的方法。表示请求方法未被请求的服务器知道</li>
<li>408 - 请求超时。表示服务器未完成请求。BTSE API的超时设置为30秒</li>
<li>429 - 请求过多。表示客户端已超过服务器设置的速率限制。有关更多详细信息，请参阅速率限制</li>
<li>451 - 基于法律原因不可用。表示客户端因异常行为而被禁止</li>
<li>500 - 服务器内部错误。表示服务器遇到意外情况，无法满足请求</li>
</ul>
<h2 id='api-3'>API枚举</h2>
<p>在连接到BTSE API时，您将遇到代表BTSE中不同状态或状态类型的数字代码。以下部分提供了您预计会看到的代码列表。</p>

<ul>
<li>1: MARKET_UNAVAILABLE = 期货市场不可用</li>
<li>2: ORDER_INSERTED = 订单已成功插入</li>
<li>4: ORDER_FULLY_TRANSACTED = 订单已完全交易</li>
<li>5: ORDER_PARTIALLY_TRANSACTED = 订单已部分交易</li>
<li>6: ORDER_CANCELLED = 订单已成功取消</li>
<li>7: ORDER_REFUNDED = 订单已退款</li>
<li>8: INSUFFICIENT_BALANCE = 账户余额不足</li>
<li>9: TRIGGER_INSERTED = 触发订单已成功插入</li>
<li>10: TRIGGER_ACTIVATED = 触发订单已成功激活</li>
<li>11: ERROR_INVALID_CURRENCY = 无效货币错误</li>
<li>12: ERROR_UPDATE_RISK_LIMIT = 更新风险限额时出现错误</li>
<li>13: ERROR_INVALID_LEVERAGE = 无效杠杆错误</li>
<li>15: ORDER_REJECTED = 订单被拒绝</li>
<li>16: ORDER_NOTFOUND = 未找到订单，使用提供的订单ID或clOrderID</li>
<li>17: REQUEST_FAILED = 未能完成请求，请检查订单状态</li>
<li>20: SUCCESS = 操作成功</li>
<li>21: FREEZE_SUCCESSFUL = 冻结成功</li>
<li>27: TRANSFER_SUCCESSFUL = 期货和现货之间的资金转移成功</li>
<li>28: TRANSFER_UNSUCCESSFUL = 现货和期货之间的资金转移失败</li>
<li>29: QUERY_GET_ORDERS = 查询获取订单</li>
<li>31: QUERY_GET_POSITIONS = 查询获取持仓</li>
<li>33: QUERY_GET_ALL_POSITIONS_ORDERS = 查询获取所有持仓订单</li>
<li>34: QUERY_WALLET = 查询钱包</li>
<li>36: QUERY_FUTURES_MARGIN = 查询期货保证金</li>
<li>41: ERROR_INVALID_RISK_LIMIT = 指定了无效的风险限额</li>
<li>51: QUERY_GET_ORDERS_WITH_LIMIT = 查询获取带有限制的订单</li>
<li>64: STATUS_LIQUIDATION = 帐户正在清算</li>
<li>65: STATUS_ACITVE = 订单处于活动状态</li>
<li>66: MODE_BUY = 购买模式</li>
<li>76: ORDER_TYPE_LIMIT = 限价订单</li>
<li>77: ORDER_TYPE_MARKET = 市价订单</li>
<li>80: ORDER_TYPE_PEG = 挂单/算法订单</li>
<li>81: ORDER_TYPE_OTC = 场外交易订单</li>
<li>83: MODE_SELL = 卖出模式</li>
<li>85: STATUS_PROCESSING = 订单处于非活动状态</li>
<li>88: STATUS_INACTIVE = 订单处于非活动状态</li>
<li>101: FUTURES_ORDER_PRICE_OUTSIDE_LIQUIDATION_PRICE = 期货订单超出了清算价格</li>
<li>110: FUTURES_FUNDING = 期货资金</li>
<li>123: AMEND_ORDER = 订单已修改</li>
<li>124: UNFREEZE_SUCCESSFUL = 解冻成功</li>
<li>129: FUTURES_CONFIG_MODE_CHANGE = 期货仓位模式更改</li>
<li>131: FUTURES_STATUS_PROCESSING_LEVERAGE = 期货杠杆更改中</li>
<li>132: FUTURES_STATUS_PROCESSING_RISK_LIMIT = 风险限额更改中</li>
<li>133: FUTURES_POSITION_MODE_INVALID = 期货仓位模式错误</li>
<li>134: POSITION_MODE_UNCHANGEABLE = 无法更改期货仓位模式</li>
<li>138: POSITION_MODE_CHANGE_PROCESSING = 期货仓位模式更改中</li>
<li>300: ERROR_MAX_ORDER_SIZE_EXCEEDED = 超过最大订单大小错误</li>
<li>301: ERROR_INVALID_ORDER_SIZE = 无效订单大小错误</li>
<li>302: ERROR_INVALID_ORDER_PRICE = 无效订单价格错误</li>
<li>303: ERROR_RATE_LIMITS_EXCEEDED = 超过速率限制错误</li>
<li>304: ERROR_MAX_OPEN_ORDER_EXCEEDED = 超过最大开放订单数错误</li>
<li>305: ERROR_ORDER_PRICE_OUT_OF_PRICE_PROTECTION_RANGE = 价格超过开放订单范围</li>
<li>1003: ORDER_LIQUIDATION = 订单正在进行清算</li>
<li>1004: ORDER_ADL = 订单正在进行ADL</li>
<li>30410: BLOCK_TRADE_COMPLETE_SUCCESS = 区块交易已成功完成</li>
</ul>
<h2 id='d46705ca17'>垃圾订单</h2>
<p>垃圾订单是指大量的小订单大小。为了确保平台和用户的利益不受恶意用户的侵害，我们将对下列情况的用户采取以下措施，这些用户下单小额订单。</p>

<p><a href="https://support.btse.com/en/support/solutions/articles/43000720904-spam-order-detection-mechanism">垃圾订单检测机制 : BTSE Support</a></p>

<ul>
<li>订单的名义价值低于5美元的将被标记为垃圾订单，并自动变为隐藏订单。</li>
<li>被标记为垃圾的订单始终支付吃单费。</li>
<li>被标记为垃圾的Post-Only API订单将被拒绝而不是被隐藏。</li>
<li>太多的垃圾订单可能导致暂时封禁交易账户。</li>
<li>放置 &gt;= 4 个挂单，总大小小于 20 美元的API账户有可能被标记为垃圾账户。</li>
<li>被标记为垃圾的账户可能会对账户施加限制，包括订单速率限制、持仓限制，或禁用API功能。如对新的垃圾订单机制有疑问，请发送电子邮件至 mm@btse.com。</li>
</ul>
<h1 id='fafa833f79'>公共端点</h1><h2 id='7335b2436c'>市场摘要</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="mi">36365</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lowestAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">36377</span><span class="p">,</span><span class="w">
    </span><span class="nl">"highestBid"</span><span class="p">:</span><span class="w"> </span><span class="mi">36376</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentageChange"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.973731309</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">172418318.7575521</span><span class="p">,</span><span class="w">
    </span><span class="nl">"high24Hr"</span><span class="p">:</span><span class="w"> </span><span class="mi">36447</span><span class="p">,</span><span class="w">
    </span><span class="nl">"low24Hr"</span><span class="p">:</span><span class="w"> </span><span class="mf">33989.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mf">4916.8266</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minValidPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minPriceIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minOrderSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxOrderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minSizeIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openInterest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openInterestUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractStart"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractEnd"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeBasedContract"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"startMatching"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"inactiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPosition"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minRiskLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxRiskLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availableSettlement"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"futures"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fundingIntervalMinutes"</span><span class="p">:</span><span class="w"> </span><span class="mi">480</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fundingTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1699347600000</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/market_summary</code></p>

<p>获取市场摘要信息。如果未发送<code>symbol</code>参数，则将检索所有市场。</p>
<h3 id='1f9ac54b15'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>市场符号</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>为True时返回期货市场名称的新格式， 默认为False</td>
</tr>
<tr>
<td>listFullAttributes</td>
<td>boolean</td>
<td>No</td>
<td>为True时返回市場摘要的所有屬性， 默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>last</td>
<td>double</td>
<td>Yes</td>
<td>最新价格</td>
</tr>
<tr>
<td>lowestAsk</td>
<td>double</td>
<td>Yes</td>
<td>订单簿中的最低卖价</td>
</tr>
<tr>
<td>highestBid</td>
<td>double</td>
<td>Yes</td>
<td>订单簿中的最高买价</td>
</tr>
<tr>
<td>percentageChange</td>
<td>double</td>
<td>Yes</td>
<td>过去24小时内相对于价格的百分比变化</td>
</tr>
<tr>
<td>volume</td>
<td>double</td>
<td>Yes</td>
<td>交易量</td>
</tr>
<tr>
<td>high24Hr</td>
<td>double</td>
<td>Yes</td>
<td>过去24小时的最高价格</td>
</tr>
<tr>
<td>low24Hr</td>
<td>double</td>
<td>Yes</td>
<td>过去24小时的最低价格</td>
</tr>
<tr>
<td>base</td>
<td>string</td>
<td>Yes</td>
<td>基础货币</td>
</tr>
<tr>
<td>quote</td>
<td>string</td>
<td>Yes</td>
<td>报价货币</td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td>Yes</td>
<td>表示市场是否活跃的指标</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>交易尺寸</td>
</tr>
<tr>
<td>minValidPrice</td>
<td>double</td>
<td>Yes</td>
<td>最小有效价格</td>
</tr>
<tr>
<td>minPriceIncrement</td>
<td>double</td>
<td>Yes</td>
<td>价格增量</td>
</tr>
<tr>
<td>minOrderSize</td>
<td>double</td>
<td>Yes</td>
<td>最小交易尺寸</td>
</tr>
<tr>
<td>minSizeIncrement</td>
<td>double</td>
<td>Yes</td>
<td>交易尺寸增量</td>
</tr>
<tr>
<td>maxOrderSize</td>
<td>double</td>
<td>Yes</td>
<td>最大订单尺寸</td>
</tr>
<tr>
<td>openInterest</td>
<td>double</td>
<td>No</td>
<td>期货市场的未平仓位数量</td>
</tr>
<tr>
<td>openInterestUSD</td>
<td>double</td>
<td>No</td>
<td>期货市场未平仓位的美元名义值</td>
</tr>
<tr>
<td>contractStart</td>
<td>long</td>
<td>No</td>
<td>合同开始时间</td>
</tr>
<tr>
<td>contractEnd</td>
<td>long</td>
<td>No</td>
<td>合同结束时间</td>
</tr>
<tr>
<td>timeBasedContract</td>
<td>boolean</td>
<td>No</td>
<td>指示是否为基于时间的合同</td>
</tr>
<tr>
<td>openTime</td>
<td>long</td>
<td>Yes</td>
<td>市场开放时间</td>
</tr>
<tr>
<td>closeTime</td>
<td>long</td>
<td>Yes</td>
<td>市场关闭时间</td>
</tr>
<tr>
<td>startMatching</td>
<td>long</td>
<td>Yes</td>
<td>匹配开始时间</td>
</tr>
<tr>
<td>inactiveTime</td>
<td>long</td>
<td>Yes</td>
<td>市场不活跃时间</td>
</tr>
<tr>
<td>fundingRate</td>
<td>double</td>
<td>No</td>
<td>资金费率</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>No</td>
<td>一个合同的尺寸</td>
</tr>
<tr>
<td>maxPosition</td>
<td>double</td>
<td>No</td>
<td>用户允许拥有的最大头寸 <code>风险限额调整后将不再适用</code></td>
</tr>
<tr>
<td>minRiskLimit</td>
<td>double</td>
<td>No</td>
<td>合同大小的最小风险限额 <code>将更改为美元价值</code></td>
</tr>
<tr>
<td>maxRiskLimit</td>
<td>double</td>
<td>No</td>
<td>合同大小的最大风险限额 <code>将更改为美元价值</code></td>
</tr>
<tr>
<td>availableSettlement</td>
<td>array</td>
<td>No</td>
<td>用于结算的可用货币</td>
</tr>
<tr>
<td>futures</td>
<td>boolean</td>
<td>Yes</td>
<td>符号是否为期货合同的指标</td>
</tr>
<tr>
<td>fundingIntervalMinutes</td>
<td>integer</td>
<td>No</td>
<td>资金费率间隔，仅在参数 listFullAttributes 为 true 时显示</td>
</tr>
<tr>
<td>fundingTime</td>
<td>long</td>
<td>No</td>
<td>下一个资金费率时间，仅在参数 listFullAttributes 为 true 时显示</td>
</tr>
</tbody></table>
<h2 id='af657f5fd9'>图表数据</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="mi">1624987380</span><span class="p">,</span><span class="w">
    </span><span class="mi">36477</span><span class="p">,</span><span class="w">
    </span><span class="mi">36477</span><span class="p">,</span><span class="w">
    </span><span class="mf">36473.5</span><span class="p">,</span><span class="w">
    </span><span class="mf">36473.5</span><span class="p">,</span><span class="w">
    </span><span class="mf">693.049</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="mi">1624987320</span><span class="p">,</span><span class="w">
    </span><span class="mf">36476.5</span><span class="p">,</span><span class="w">
    </span><span class="mf">36481.5</span><span class="p">,</span><span class="w">
    </span><span class="mi">36466</span><span class="p">,</span><span class="w">
    </span><span class="mi">36466</span><span class="p">,</span><span class="w">
    </span><span class="mf">2370.8095</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/ohlcv</code></p>

<p>获取蜡烛图表数据。默认情况下，每次将返回300个数据点。</p>
<h3 id='1f9ac54b15-2'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>start</td>
<td>long</td>
<td>No</td>
<td>以毫秒为单位的开始时间 (例如 1624987283000)</td>
</tr>
<tr>
<td>end</td>
<td>long</td>
<td>No</td>
<td>以毫秒为单位的结束时间 (例如 1624987283000)</td>
</tr>
<tr>
<td>resolution</td>
<td>string</td>
<td>Yes</td>
<td>支持的分辨率包括：<br/> 1: 1分钟<br/> 5: 5分钟<br/> 15: 15分钟<br/>30: 30分钟<br/>60: 60分钟<br/>240: 4小时<br/>360: 6小时<br/>1440: 1天<br/>10080: 1周<br/>43200: 1月</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>设置为True以使用symbol中的新期货市场名称，默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-2'>响应内容</h3>
<p>返回一个包含下表描述的索引的二维数组</p>

<table><thead>
<tr>
<th>索引</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>long</td>
<td>Yes</td>
<td>Unix 时间</td>
</tr>
<tr>
<td>1</td>
<td>double</td>
<td>Yes</td>
<td>开盘价格</td>
</tr>
<tr>
<td>2</td>
<td>double</td>
<td>Yes</td>
<td>最高价格</td>
</tr>
<tr>
<td>3</td>
<td>double</td>
<td>Yes</td>
<td>最低价格</td>
</tr>
<tr>
<td>4</td>
<td>double</td>
<td>Yes</td>
<td>收盘价格</td>
</tr>
<tr>
<td>5</td>
<td>double</td>
<td>Yes</td>
<td>交易量</td>
</tr>
</tbody></table>
<h2 id='b107fab298'>查询市场价格</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indexPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">36288.949684967</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">36286.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/price</code></p>

<p>检索平台上的当前价格。如果未指定符号，则将返回所有符号。</p>
<h3 id='1f9ac54b15-3'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>若为True则在符号中使用新的期货市场名称，默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-3'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>double</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>indexPrice</td>
<td>double</td>
<td>Yes</td>
<td>指数价格</td>
</tr>
<tr>
<td>lastPrice</td>
<td>double</td>
<td>Yes</td>
<td>最后成交价格</td>
</tr>
<tr>
<td>markPrice</td>
<td>double</td>
<td>Yes</td>
<td>标记价格</td>
</tr>
</tbody></table>
<h2 id='bf4a200892'>订单簿（按分组）</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"buyQuote"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36371.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"sellQuote"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36380.5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624989459489</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/orderbook</code></p>

<p>检索订单簿的快照。</p>
<h3 id='1f9ac54b15-4'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号，作为路径变量输入</td>
</tr>
<tr>
<td>group</td>
<td>integer</td>
<td>No</td>
<td>订单簿分组。有效值为：<br/>0-8，其中0表示0级分组（例如，对于BTC-PERP，它将为0.1）<br/>BTC-PERP的1级分组为0.5<br/>BTC-PERP的2级分组为1<br/></td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>设置为True以使用symbol中的新期货市场名称，默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-4'>响应内容</h3><h4 id='0feebe82a6'>订单簿</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>buyQuote</td>
<td>Quote</td>
<td>Yes</td>
<td>买入报价的数组</td>
</tr>
<tr>
<td>sellQuote</td>
<td>Quote</td>
<td>Yes</td>
<td>卖出报价的数组</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单簿的时间戳</td>
</tr>
</tbody></table>
<h4 id='78208f311a'>报价</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>订单价格</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>订单尺寸</td>
</tr>
</tbody></table>
<h2 id='0feebe82a6-2'>订单簿</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"buyQuote"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36235.0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"700"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"sellQuote"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
     </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36241.5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"600"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624989977940</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/orderbook/L2</code></p>

<p>获取订单簿的Level 2快照</p>
<h3 id='1f9ac54b15-5'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>depth</td>
<td>long</td>
<td>No</td>
<td>订单簿深度</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>设置为True以返回新格式的期货市场名称，默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-5'>响应内容</h3><h4 id='0feebe82a6-3'>订单簿</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>buyQuote</td>
<td>Quote</td>
<td>Yes</td>
<td>购买报价的数组</td>
</tr>
<tr>
<td>sellQuote</td>
<td>Quote</td>
<td>Yes</td>
<td>出售报价的数组</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单簿的时间戳</td>
</tr>
</tbody></table>
<h4 id='78208f311a-2'>报价</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>订单价格</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>订单尺寸</td>
</tr>
</tbody></table>
<h2 id='bbd4754907'>查询成交记录</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">36164</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"serialId"</span><span class="p">:</span><span class="w"> </span><span class="mi">85997835</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624990097000</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/trades</code></p>

<p>获取由<code>symbol</code>指定的市场的交易成交记录</p>
<h3 id='1f9ac54b15-6'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>startTime</td>
<td>long</td>
<td>No</td>
<td>以毫秒为单位的开始时间 (例如 1624987283000)</td>
</tr>
<tr>
<td>endTime</td>
<td>long</td>
<td>No</td>
<td>以毫秒为单位的结束时间 (例如 1624987283000)</td>
</tr>
<tr>
<td>beforeSerialId</td>
<td>string</td>
<td>Yes</td>
<td>用于分页的条件，检索指定序列ID之前的记录</td>
</tr>
<tr>
<td>afterSerialId</td>
<td>string</td>
<td>Yes</td>
<td>用于分页的条件，检索指定序列ID之后的记录</td>
</tr>
<tr>
<td>count</td>
<td>long</td>
<td>Yes</td>
<td>返回的记录数</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>设置为True以使用symbol中的新期货市场名称，默认为False</td>
</tr>
</tbody></table>

<ul>
<li>成交紀錄最大天数</li>
</ul>

<table><thead>
<tr>
<th style="text-align: center">时间区间</th>
<th style="text-align: right">最大天数</th>
<th style="text-align: center">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">startTime / endTime</td>
<td style="text-align: right">30</td>
<td style="text-align: center">在指定区间中最多<strong>30</strong>天记录</td>
</tr>
<tr>
<td style="text-align: center">startTime /    -</td>
<td style="text-align: right">3</td>
<td style="text-align: center">未指定<strong>结束时间</strong>, 则从<strong>开始时间</strong>往后<strong>3</strong>天</td>
</tr>
<tr>
<td style="text-align: center">-    / endTime</td>
<td style="text-align: right">3</td>
<td style="text-align: center">未指定<strong>开始时间</strong>, 则从<strong>结束时间</strong>往前<strong>3</strong>天</td>
</tr>
<tr>
<td style="text-align: center">-    /    -</td>
<td style="text-align: right">3</td>
<td style="text-align: center">都未指定时间, 则使用<strong>当前时间</strong>作为<strong>结束时间</strong>往前<strong>3</strong>天</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-6'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>交易方向。值包括：[<code>Buy</code>, <code>SELL</code>]</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>交易价格</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>交易尺寸</td>
</tr>
<tr>
<td>serialId</td>
<td>double</td>
<td>Yes</td>
<td>序列ID，运行序列号</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>交易时间戳</td>
</tr>
</tbody></table>
<h2 id='3b35955a7e'>查询资金费率</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"BTC-PERP"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1706515200</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000011405</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/funding_history</code></p>

<p>获取市场的资金费率历史</p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>市场符号</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>No</td>
<td>返回的记录数 (此设置与 from/to 互斥)</td>
</tr>
<tr>
<td>from</td>
<td>long</td>
<td>No</td>
<td>以毫秒为单位的开始时间 (例如 1624987283000; 此设置与 count 互斥)</td>
</tr>
<tr>
<td>to</td>
<td>long</td>
<td>No</td>
<td>以毫秒为单位的结束时间 (例如 1624987283000; 此设置与 count 互斥)</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>设置为True以使用symbol中的新期货市场名称，默认为False</td>
</tr>
</tbody></table>
<h3 id='response-content'>Response Content</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>time</td>
<td>long</td>
<td>Yes</td>
<td>以秒为单位的资金费率时间</td>
</tr>
<tr>
<td>rate</td>
<td>double</td>
<td>Yes</td>
<td>资金费率</td>
</tr>
</tbody></table>
<h1 id='bca3630877'>交易端点</h1><h2 id='8be954be0d'>创建新订单</h2>
<blockquote>
<p>请求（创建<code>市价</code>订单）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求（创建<code>限价</code>订单）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">21000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求（创建<code>限价</code> <code>触发</code> 订单）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">21000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRIGGER"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求（创建<code>限价</code> <code>止损</code> 订单）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">21000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求（创建 <code>OCO</code> 订单）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">21000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCO"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markPrice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30010</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求 (创建<code>限价</code>订单并设置<code>止盈/止损（TP/SL）</code>)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markPrice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">27000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lastPrice"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求（仅使用<code>TP</code>创建<code>限价</code>订单）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markPrice"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求（仅使用<code>SL</code>创建<code>限价</code>订单）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">27000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lastPrice"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求 (创建买侧双向持仓<code>市价</code>订单)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求 (创建卖侧双向持仓<code>市价</code>减仓订单)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应（通用）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abb3f457-fdc0-4bdb-a46b-8e4aa49a57c2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660558270207</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应（用于 <code>OCO</code> 订单）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">23000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4c9d16c1-9869-4734-bfb8-56318e961ef2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660558185243</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">30000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53749446-39d3-4b72-87c9-92e9fc7e4b8c"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660558185225</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应（用于双向持仓订单）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abb3f457-fdc0-4bdb-a46b-8e4aa49a57c2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660558270207</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD|LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.1/order</code></p>

<p>创建一个新的订单。需要 <code>Trading</code> 权限</p>
<h3 id='1f9ac54b15-7'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>No</td>
<td>除非创建市场订单，否则为必填。订单价格</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>订单尺寸以<code>合同大小</code>表示（即使在风险限额调整后也保持不变）</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td><code>BUY</code> 或 <code>SELL</code></td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>No</td>
<td>订单的时间有效性<br/>GTC: 有效直至取消<br/>IOC: 立即或取消<br/>FOK: 全部成交或取消<br/>HALFMIN: 订单有效30秒<br/>FIVEMIN: 订单有效5分钟<br/>HOUR: 订单有效一个小时<br/>TWELVEHOUR: 订单有效12小时<br/>DAY: 订单有效一天<br/>WEEK: 订单有效一周<br/>MONTH: 订单有效一个月</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>订单类型<br/>LIMIT: 限价订单<br/>MARKET: 市价订单<br/>OCO: 一个取消另一个</td>
</tr>
<tr>
<td>txType</td>
<td>string</td>
<td>No</td>
<td>用于停止订单或触发订单<br/>STOP: 停止订单，<code>triggerPrice</code> 是必填项<br/>TRIGGER: 触发订单，<code>triggerPrice</code> 是必填项<br/>LIMIT: 默认值，当其既不是停止订单也不是触发订单时使用</td>
</tr>
<tr>
<td>stopPrice</td>
<td>double</td>
<td>No</td>
<td>创建OCO订单时为必填。表示停止价格</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>No</td>
<td>创建停止、触发、OCO订单时为必填。表示触发价格</td>
</tr>
<tr>
<td>trailValue</td>
<td>double</td>
<td>No</td>
<td>跟踪值</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>No</td>
<td>布尔值，表示这是否只做Maker(Post only) 订单，交易者将支付Maker手续费</td>
</tr>
<tr>
<td>reduceOnly</td>
<td>boolean</td>
<td>No</td>
<td>布尔值，将这笔订单设置为只减仓, 在双向持仓时，买方<code>BUY</code>减少空头仓位，卖方<code>SELL</code>则减少多头仓位</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>自定义订单ID</td>
</tr>
<tr>
<td>trigger</td>
<td>string</td>
<td>No</td>
<td>用于创建txType: <code>STOP</code> 或 <code>TRIGGER</code> 的订单。有效选项: <code>markPrice</code> (默认) 或 <code>lastPrice</code></td>
</tr>
<tr>
<td>takeProfitPrice</td>
<td>double</td>
<td>No</td>
<td>在创建带有止盈订单时强制执行。指示触发价格</td>
</tr>
<tr>
<td>takeProfitTrigger</td>
<td>string</td>
<td>No</td>
<td>用于创建带有止盈订单的订单。有效选项：<code>标记价格</code>（默认）或<code>最新价格</code></td>
</tr>
<tr>
<td>stopLossPrice</td>
<td>double</td>
<td>No</td>
<td>在创建带有止损订单时强制执行。指示触发价格</td>
</tr>
<tr>
<td>stopLossTrigger</td>
<td>string</td>
<td>No</td>
<td>用于创建带有止损订单的订单。有效选项：<code>标记价格</code>（默认）或<code>最新价格</code></td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>No</td>
<td>用于创建指定仓位模式订单。有效选项：单向持仓<code>ONE_WAY</code>（默认）或 双向持仓<code>HEDGE</code></td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-7'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>交易者发送的客户标签</td>
</tr>
<tr>
<td>fillSize</td>
<td>number</td>
<td>Yes</td>
<td>已成交的交易大小</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>订单ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>订单类型 <br/>76: 限价订单<br/>77: 市价订单<br/>80: Algo订单</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>表明订单是否为只做Maker(Post only) 订单</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>订单价格</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>订单方向<br/>BUY 或 SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>订单大小以<code>合同大小</code>表示（即使在风险限额调整后也保持不变）</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>订单状态<br/>2: 订单已插入<br/>3: 订单已交易<br/>4: 订单已完全交易<br/>5: 订单部分交易<br/>6: 订单已取消<br/>7: 订单已退款<br/>9: 触发已插入<br>10: 触发已激活<br/>15: 订单被拒绝<br/>16: 订单未找到<br/>17: 请求失败</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>订单有效性</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单时间戳</td>
</tr>
<tr>
<td>trigger</td>
<td>boolean</td>
<td>Yes</td>
<td>如果订单是触发订单的指示器</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>订单触发价格，如果订单不是触发订单则返回0</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>平均成交价格。对于部分交易的订单返回平均成交价格</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>交易消息</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>仅对Algo订单有效</td>
</tr>
<tr>
<td>deviation</td>
<td>double</td>
<td>Yes</td>
<td>仅对Algo订单有效</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>剩余待交易的大小</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>原始订单大小</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>仓位模式<br/> 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向<br/>  多头仓位<code>LONG</code> 或 空头仓位<code>SHORT</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
</tbody></table>
<h2 id='a78f1cdd03'>创建新的算法订单</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">21500</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60a30188-f2a2-4498-b061-7d72126c18c2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mi">-10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21500.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"de9f94bb-0ca0-470b-830e-9bc2e109c719"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660554373317</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">-10.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60a30188-f2a2-4498-b061-7d72126c18c2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.1/order/peg</code></p>

<p>创建新的算法订单。算法订单是一种价格会根据市场价格变化的订单。要创建算法订单，用户需要输入额外的参数：</p>

<ul>
<li><code>price</code>：用户愿意将订单列出的最低价格（卖单）或最高价格（买单）</li>
<li><code>deviation</code>：订单价格与指数价格的偏差程度。该值以百分比表示，范围从 <code>-10</code> 到 <code>10</code></li>
<li><code>stealth</code>：订单簿上要显示多少百分比的订单量。</li>
</ul>

<p>此API需要具有<code>交易</code>权限</p>
<h3 id='1f9ac54b15-8'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>卖单的最低价，这是用户愿意出售的最低价格。买单的最高价，这是用户愿意购买的最高价格。</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>订单尺寸</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>订单方向<br/>BUY 或 SELL</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>自定义订单ID</td>
</tr>
<tr>
<td>deviation</td>
<td>double</td>
<td>No</td>
<td>订单价格应与指数价格偏离多少。该值以百分比表示，范围从<code>-10</code>到<code>10</code></td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>No</td>
<td>订单中应在订单簿上显示的百分比是多少。</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>No</td>
<td>用于创建指定仓位模式订单。有效选项：单向持仓<code>ONE_WAY</code>（默认）或 双向持仓<code>HEDGE</code></td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-8'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>交易者发送的客户标签</td>
</tr>
<tr>
<td>fillSize</td>
<td>number</td>
<td>Yes</td>
<td>已成交的交易大小</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>订单ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>订单类型 <br/>76: 限价订单<br/>77: 市价订单<br/>80: Algo订单</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>表明订单是否为只做Maker(Post only) 订单</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>订单价格</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>订单方向<br/>BUY 或 SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>订单大小以<code>合同大小</code>表示（即使在风险限额调整后也保持不变）</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>订单状态<br/>2: 订单已插入<br/>3: 订单已交易<br/>4: 订单已完全交易<br/>5: 订单部分交易<br/>6: 订单已取消<br/>7: 订单已退款<br/>9: 触发已插入<br>10: 触发已激活<br/>15: 订单被拒绝<br/>16: 订单未找到<br/>17: 请求失败</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>订单有效性</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单时间戳</td>
</tr>
<tr>
<td>trigger</td>
<td>boolean</td>
<td>Yes</td>
<td>如果订单是触发订单的指示器</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>订单触发价格，如果订单不是触发订单则返回0</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>平均成交价格。对于部分交易的订单返回平均成交价格</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>交易消息</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>订单的隐秘值</td>
</tr>
<tr>
<td>deviation</td>
<td>double</td>
<td>Yes</td>
<td>订单的偏差值</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>剩余待交易的大小</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>原始订单大小</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>仓位模式<br/> 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向<br/>  多头仓位<code>LONG</code> 或 空头仓位<code>SHORT</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
</tbody></table>
<h2 id='90376e83a0'>查询订单</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filledSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.111</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceDeviation"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1698757024617</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Order UUID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggered"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOrderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerTrailingStopDeviation"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerStopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Order clOrderID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFilledPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/order</code></p>

<p>查询指定orderID/clOrderID的订单详情，请注意已取消的订单仅保留30分钟。需要<code>交易</code>权限。</p>
<h3 id='1f9ac54b15-9'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>orderID</td>
<td>String</td>
<td>No</td>
<td>订单的唯一标识符。当未提供clOrderID时，此项为必填。如果提供了orderID，则将忽略clOrderID。</td>
</tr>
<tr>
<td>clOrderID</td>
<td>String</td>
<td>No</td>
<td>客户自定义订单ID。当未提供orderID时，此项为必填。</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-9'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>orderID</td>
<td>String</td>
<td>Yes</td>
<td>内部订单ID</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>Yes</td>
<td>市场交易对标识符</td>
</tr>
<tr>
<td>quote</td>
<td>String</td>
<td>Yes</td>
<td>报价货币的符号</td>
</tr>
<tr>
<td>orderType</td>
<td>Integer</td>
<td>Yes</td>
<td>订单类型</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>Yes</td>
<td>订单方向</td>
</tr>
<tr>
<td>price</td>
<td>Double</td>
<td>Yes</td>
<td>订单价格</td>
</tr>
<tr>
<td>size</td>
<td>Double</td>
<td>Yes</td>
<td>订单数量</td>
</tr>
<tr>
<td>orderValue</td>
<td>Double</td>
<td>Yes</td>
<td>此订单的总价值</td>
</tr>
<tr>
<td>filledSize</td>
<td>Double</td>
<td>Yes</td>
<td>已成交数量</td>
</tr>
<tr>
<td>pegPriceMin</td>
<td>Double</td>
<td>Yes</td>
<td>最小可能的挂单价格，优先于挂单价格偏差</td>
</tr>
<tr>
<td>pegPriceMax</td>
<td>Double</td>
<td>Yes</td>
<td>最大可能的挂单价格，优先于挂单价格偏差</td>
</tr>
<tr>
<td>pegPriceDeviation</td>
<td>Double</td>
<td>Yes</td>
<td>与指数价格的百分比偏差</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>Yes</td>
<td>订单时间戳</td>
</tr>
<tr>
<td>triggerOrder</td>
<td>Boolean</td>
<td>Yes</td>
<td>指示订单是否为触发订单</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>Double</td>
<td>Yes</td>
<td>订单触发价格，如果订单不是触发订单则返回0</td>
</tr>
<tr>
<td>triggerOriginalPrice</td>
<td>Double</td>
<td>Yes</td>
<td>原始订单的价格。仅对触发订单有效</td>
</tr>
<tr>
<td>triggerOrderType</td>
<td>Integer</td>
<td>Yes</td>
<td>订单类型</td>
</tr>
<tr>
<td>triggerTrailingStopDeviation</td>
<td>Double</td>
<td>Yes</td>
<td>止损价格的百分比偏差</td>
</tr>
<tr>
<td>triggerStopPrice</td>
<td>Double</td>
<td>Yes</td>
<td>止损价格，仅适用于算法订单</td>
</tr>
<tr>
<td>triggered</td>
<td>Boolean</td>
<td>Yes</td>
<td>指示订单是否已触发</td>
</tr>
<tr>
<td>trailValue</td>
<td>Double</td>
<td>Yes</td>
<td>跟踪价值</td>
</tr>
<tr>
<td>clOrderID</td>
<td>String</td>
<td>Yes</td>
<td>由交易员发送的客户标签</td>
</tr>
<tr>
<td>averageFillPrice</td>
<td>Double</td>
<td>Yes</td>
<td>平均成交价格。对于部分交易的订单，返回平均成交价格</td>
</tr>
<tr>
<td>remainingSize</td>
<td>Double</td>
<td>Yes</td>
<td>订单上剩余的大小</td>
</tr>
<tr>
<td>status</td>
<td>Integer</td>
<td>Yes</td>
<td>订单状态。请参照<a href="#api-enum"><code>API Enum</code></a></td>
</tr>
<tr>
<td>takeProfitOrder</td>
<td>TakeProfitOrder object</td>
<td>No</td>
<td>止盈订单信息</td>
</tr>
<tr>
<td>stopLossOrder</td>
<td>StopLossOrder object</td>
<td>No</td>
<td>止损订单信息</td>
</tr>
<tr>
<td>closeOrder</td>
<td>bool</td>
<td>Yes</td>
<td>是否为关闭此持仓的订单</td>
</tr>
<tr>
<td>timeInForce</td>
<td>String</td>
<td>Yes</td>
<td>订单有效期</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>Yes</td>
<td>订单合约规模</td>
</tr>
</tbody></table>
<h2 id='89e5b08e91'>修改订单</h2>
<blockquote>
<p>请求（修改价格）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604c3ebf-d7fa-468d-9ff0-f6ad030221b4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRICE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">22000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求（全部修改）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604c3ebf-d7fa-468d-9ff0-f6ad030221b4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30010</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">20000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"604c3ebf-d7fa-468d-9ff0-f6ad030221b4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660639762254</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>PUT /api/v2.1/order</code></p>

<p>修改订单的价格、数量或触发价格。对于触发订单，如果订单已经被触发，触发价格将无法进一步修改。修订订单不适用于算法订单。</p>
<h3 id='1f9ac54b15-10'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>No</td>
<td>内部订单ID。当未提供<code>clOrderID</code>时为必填项。如果提供了<code>orderID</code>，将忽略<code>clOrderID</code>。</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>自定义订单ID。当未提供<code>orderID</code>时为必填项。</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>修改类型<br/><code>PRICE</code>: 修改订单价格<br/><code>SIZE</code>: 修改订单尺寸<br/><code>TRIGGERPRICE</code>: 修改触发价格<br/><code>ALL</code>: 修改多个字段</td>
</tr>
<tr>
<td>value</td>
<td>number</td>
<td>Yes</td>
<td>要修改的值。其值取决于设置的类型。</td>
</tr>
<tr>
<td>orderPrice</td>
<td>number</td>
<td>No</td>
<td>对于类型：<code>ALL</code>，要修改的订单价格</td>
</tr>
<tr>
<td>orderSize</td>
<td>number</td>
<td>No</td>
<td>对于类型：<code>ALL</code>，要修改的合同大小订单尺寸</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>number</td>
<td>No</td>
<td>对于类型：<code>ALL</code>，要修改的触发价格</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-10'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>交易者发送的客户标签</td>
</tr>
<tr>
<td>fillSize</td>
<td>string</td>
<td>Yes</td>
<td>已成交的交易大小</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>订单ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>订单类型 <br/>76: 限价订单<br/>77: 市价订单<br/>80: Algo订单</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>表明订单是否为只做Maker(Post only) 订单</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>订单价格</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>订单方向<br/>BUY 或 SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>订单大小以<code>合同大小</code>表示（即使在风险限额调整后也保持不变）</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>订单状态<br/>2: 订单已插入<br/>3: 订单已交易<br/>4: 订单已完全交易<br/>5: 订单部分交易<br/>6: 订单已取消<br/>7: 订单已退款<br/>9: 触发已插入<br>10: 触发已激活<br/>15: 订单被拒绝<br/>16: 订单未找到<br/>17: 请求失败</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>订单有效性</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单时间戳</td>
</tr>
<tr>
<td>trigger</td>
<td>string</td>
<td>Yes</td>
<td>如果订单是触发订单的指示器</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>string</td>
<td>Yes</td>
<td>订单触发价格，如果订单不是触发订单则返回0</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>string</td>
<td>Yes</td>
<td>平均成交价格。对于部分交易的订单返回平均成交价格</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>交易消息</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>订单的隐秘值</td>
</tr>
<tr>
<td>deviation</td>
<td>string</td>
<td>Yes</td>
<td>订单的偏差值</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>剩余待交易的大小</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>原始订单大小</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>仓位模式<br/> 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向<br/>  多头仓位<code>LONG</code> 或 空头仓位<code>SHORT</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
</tbody></table>
<h2 id='3eedd32d80'>取消订单</h2>
<blockquote>
<p>请求 (取消单个订单)</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>/api/v2.1/order?symbol=BTC-USD&amp;clOrderID=my-order-id
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">19000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ae5b1b27-d5fe-41e2-89f8-f17b60fb3def"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660640879996</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>DELETE /api/v2.1/order</code></p>

<p>取消尚未成交的待定订单。orderID是取消特定订单的唯一标识符。clOrderID是交易者发送的自定义ID。通过clOrderID取消时，所有具有相同ID的订单都将被取消。如果未发送orderID和clOrderID，则取消将针对当前市场中的所有订单。</p>
<h3 id='1f9ac54b15-11'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>No</td>
<td>订单的唯一标识符。当未提供<code>clOrderID</code>时为必填项。如果提供了<code>orderID</code>，将忽略<code>clOrderID</code>。</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>客户端自定义订单ID。当未提供<code>orderID</code>时为必填项。</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-11'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>交易者发送的客户标签</td>
</tr>
<tr>
<td>fillSize</td>
<td>double</td>
<td>Yes</td>
<td>已成交的交易大小</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>订单ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>订单类型 <br/>76: 限价订单<br/>77: 市价订单<br/>80: 算法订单</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>表明订单是否为只做Maker(Post only) 订单</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>订单价格</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>订单方向<br/>BUY 或 SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>以<code>合同大小</code>表示的订单大小（即使在风险限额调整后也保持不变）</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>订单状态<br/>2: 订单已插入<br/>3: 订单已交易<br/>4: 订单已完全交易<br/>5: 订单部分交易<br/>6: 订单已取消<br/>7: 订单已退款<br/>9: 触发已插入<br>10: 触发已激活<br/>15: 订单被拒绝<br/>16: 订单未找到<br/>17: 请求失败</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>订单有效性</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单时间戳</td>
</tr>
<tr>
<td>trigger</td>
<td>boolean</td>
<td>Yes</td>
<td>表明订单是否为触发订单的指示器</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>订单触发价格，如果订单不是触发订单则返回0</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>平均成交价格。对于部分交易的订单返回平均成交价格</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>交易消息</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>订单的隐秘值</td>
</tr>
<tr>
<td>deviation</td>
<td>double</td>
<td>Yes</td>
<td>订单的偏差值</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>剩余待交易的大小</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>原始订单大小</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>仓位模式<br/> 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向<br/>  多头仓位<code>LONG</code> 或 空头仓位<code>SHORT</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
</tbody></table>
<h2 id='8d3ae04eb2'>延时自动取消所有</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.1/order/cancelAllAfter</code></p>

<p>允许交易员发送一个超时值，这是一个订单的生存时间（TTL）值。通过发送另一个“cancelAllAfter”请求来延长超时时间。如果服务器在超时时间到达之前没有收到另一个请求，那么所有订单将被取消。</p>
<h3 id='1f9ac54b15-12'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timeout</td>
<td>long</td>
<td>Yes</td>
<td>超时值，以毫秒为单位</td>
</tr>
</tbody></table>

<blockquote>
<p>响应内容</p>
</blockquote>

<ul>
<li>如果设置正确，将返回HTTP 200响应代码</li>
</ul>
<h2 id='72485acdf4'>查询未完成订单</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>/api/v2.1/user/open_orders?symbol=BTCPFC
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filledSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMax"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceDeviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660645487032</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2eb1c6f5-2ab2-4706-ab88-eea6b710a78b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggered"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOriginalPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerOrderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerTrailingStopDeviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerStopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STATUS_ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFilledPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averageFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea1ab233-c79a-4503-a475-f8633ecc9d79"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">31000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48523190-77b9-44ea-bee0-d67a428a51b8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">27000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/user/open_orders</code></p>

<p>检索尚未匹配或最近已匹配的未完成订单。</p>
<h3 id='1f9ac54b15-13'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>市场符号</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>No</td>
<td>使用内部订单ID查询</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>使用自定义订单ID查询。如果提供了<code>orderID</code>，<code>clOrderID</code>将被忽略。</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>若为True，则返回新格式的期货市场名称，默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-12'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>交易员发送的客户标签</td>
</tr>
<tr>
<td>filledSize</td>
<td>long</td>
<td>Yes</td>
<td>已成交的交易量</td>
</tr>
<tr>
<td>orderValue</td>
<td>double</td>
<td>Yes</td>
<td>名义价值</td>
</tr>
<tr>
<td>pegPriceMin</td>
<td>double</td>
<td>Yes</td>
<td>最小挂钩价格</td>
</tr>
<tr>
<td>pegPriceMax</td>
<td>double</td>
<td>Yes</td>
<td>最大挂钩价格</td>
</tr>
<tr>
<td>pegPriceDeviation</td>
<td>double</td>
<td>Yes</td>
<td>偏差百分比。仅适用于Algo订单</td>
</tr>
<tr>
<td>cancelDuration</td>
<td>long</td>
<td>Yes</td>
<td>以毫秒为单位的过期时间。<br/>0: GTC<br/>-1: IOC</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>订单ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>订单类型 <br/>76: 限价单<br/>77: 市价单<br/>80: Algo订单</td>
</tr>
<tr>
<td>timeInForce</td>
<td>string</td>
<td>Yes</td>
<td>订单有效期</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>订单价格</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>订单方向<br/>BUY 或 SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>合同大小中的订单大小</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单时间戳</td>
</tr>
<tr>
<td>triggerOrder</td>
<td>bool</td>
<td>Yes</td>
<td>指示这是否为触发订单</td>
</tr>
<tr>
<td>triggered</td>
<td>bool</td>
<td>Yes</td>
<td>指示此订单是否已被触发</td>
</tr>
<tr>
<td>triggerUseLastPrice</td>
<td>bool</td>
<td>Yes</td>
<td>指示此触发订单是否使用最后价格</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>订单触发价格，如果订单不是触发订单则返回0</td>
</tr>
<tr>
<td>triggerOriginalPrice</td>
<td>double</td>
<td>Yes</td>
<td>原始触发价格</td>
</tr>
<tr>
<td>triggerOrderType</td>
<td>string</td>
<td>Yes</td>
<td>触发订单类型 <br/>1001: 触发止损 <br/>1002: 触发获利</td>
</tr>
<tr>
<td>triggerTrailingStopDeviation</td>
<td>double</td>
<td>Yes</td>
<td>保留属性</td>
</tr>
<tr>
<td>triggerStopPrice</td>
<td>double</td>
<td>Yes</td>
<td>保留属性</td>
</tr>
<tr>
<td>trailValue</td>
<td>double</td>
<td>Yes</td>
<td>保留属性</td>
</tr>
<tr>
<td>reduceOnly</td>
<td>bool</td>
<td>Yes</td>
<td>指示此订单是否仅为减少</td>
</tr>
<tr>
<td>avgFilledPrice</td>
<td>double</td>
<td>Yes</td>
<td>平均成交价格。返回部分交易订单的平均成交价格</td>
</tr>
<tr>
<td>averageFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>平均成交价</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>订单的隐身值</td>
</tr>
<tr>
<td>orderState</td>
<td>string</td>
<td>Yes</td>
<td><code>STATUS_ACTIVE</code>, <code>STATUS_INACTIVE</code></td>
</tr>
<tr>
<td>takeProfitOrder</td>
<td>TakeProfitOrder对象</td>
<td>No</td>
<td>止盈订单信息</td>
</tr>
<tr>
<td>stopLossOrder</td>
<td>StopLossOrder对象</td>
<td>No</td>
<td>止损订单信息</td>
</tr>
<tr>
<td>closeOrder</td>
<td>bool</td>
<td>Yes</td>
<td>是否为关闭此持仓的订单</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>仓位模式<br/> 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向<br/>  多头仓位<code>LONG</code> 或 空头仓位<code>SHORT</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
<tr>
<td>contractSize</td>
<td>string</td>
<td>Yes</td>
<td>订单合约规模</td>
</tr>
</tbody></table>
<h2 id='bbd4754907-2'>查询成交记录</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>/api/v2.1/user/trade_history?symbol=BTCPFC
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filledPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filledSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averageFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"serialId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"number"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/user/trade_history</code></p>

<p>获取用户的交易历史</p>
<h3 id='1f9ac54b15-14'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>市场符号</td>
</tr>
<tr>
<td>startTime</td>
<td>long</td>
<td>No</td>
<td>开始时间 (例如：1624987283000)</td>
</tr>
<tr>
<td>endTime</td>
<td>long</td>
<td>No</td>
<td>结束时间 (例如：1624987283000)</td>
</tr>
<tr>
<td>beforeSerialId</td>
<td>string</td>
<td>No</td>
<td>获取指定序列ID之前的记录的条件。用于分页</td>
</tr>
<tr>
<td>afterSerialId</td>
<td>string</td>
<td>No</td>
<td>获取指定序列ID之后的记录的条件。用于分页</td>
</tr>
<tr>
<td>count</td>
<td>long</td>
<td>No</td>
<td>返回的记录数量</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>No</td>
<td>通过订单ID查询交易历史</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>No</td>
<td>通过自定义订单ID查询交易历史</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>若为True，则使用新格式的期货市场名称作为符号， 默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-13'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>交易方向。可取值为: [<code>BUY</code>, <code>SELL</code>]</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>成交价格</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>原始订单数量</td>
</tr>
<tr>
<td>serialId</td>
<td>long</td>
<td>Yes</td>
<td>序列号，连续的序列号</td>
</tr>
<tr>
<td>tradeId</td>
<td>string</td>
<td>Yes</td>
<td>交易标识符</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>成交时间戳</td>
</tr>
<tr>
<td>base</td>
<td>string</td>
<td>Yes</td>
<td>基础货币</td>
</tr>
<tr>
<td>quote</td>
<td>string</td>
<td>Yes</td>
<td>报价货币</td>
</tr>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>钱包名称<br/><code>CROSS@</code>: 跨钱包<br/><code>ISOLATED@market</code>: Market指的是当前的符号，后面跟<code>-USD</code>。例如，BTCPFC的独立钱包为<code>ISOLATED@BTCPFC-USD</code></td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>自定义订单ID</td>
</tr>
<tr>
<td>orderId</td>
<td>string</td>
<td>Yes</td>
<td>订单ID</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>Yes</td>
<td>btse 用户名</td>
</tr>
<tr>
<td>triggerType</td>
<td>long</td>
<td>Yes</td>
<td>触发类型<br/>1001: 止损<br/>1002: 获利</td>
</tr>
<tr>
<td>feeAmount</td>
<td>long</td>
<td>Yes</td>
<td>费用金额</td>
</tr>
<tr>
<td>feeCurrency</td>
<td>long</td>
<td>Yes</td>
<td>费用货币</td>
</tr>
<tr>
<td>filledPrice</td>
<td>double</td>
<td>Yes</td>
<td>平均成交价格</td>
</tr>
<tr>
<td>averageFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>平均成交价格</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>触发价格</td>
</tr>
<tr>
<td>filledSize</td>
<td>long</td>
<td>Yes</td>
<td>成交大小</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>订单类型</td>
</tr>
<tr>
<td>realizedPnL</td>
<td>double</td>
<td>Yes</td>
<td>现货中未使用</td>
</tr>
<tr>
<td>total</td>
<td>long</td>
<td>Yes</td>
<td>现货中未使用</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>Yes</td>
<td>交易合约规模</td>
</tr>
</tbody></table>
<h2 id='e602fd627b'>查询持仓</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>/api/v2.1/user/positions?symbol=BTCPFC
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29286.4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">441.8492</span><span class="p">,</span><span class="w">
    </span><span class="nl">"settleWithAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.23538014</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.366912551</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">62</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1576661434072</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea1ab233-c79a-4503-a475-f8633ecc9d79"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">31000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48523190-77b9-44ea-bee0-d67a428a51b8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">27000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="w">
  </span><span class="p">},{</span><span class="w">
     </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
     </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1631.106666667</span><span class="p">,</span><span class="w">
     </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1630.398947255</span><span class="p">,</span><span class="w">
     </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETHPFC"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"orderValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">48.9119684176</span><span class="p">,</span><span class="w">
     </span><span class="nl">"settleWithAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.02123158</span><span class="p">,</span><span class="w">
     </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.254871114</span><span class="p">,</span><span class="w">
     </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
     </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
     </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETHPFC-USD|LONG"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0340349245</span><span class="p">,</span><span class="w">
     </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
     </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
     </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/user/positions</code></p>

<p>查询用户当前的仓位。当未指定交易对时，将返回所有市场的仓位。</p>
<h3 id='1f9ac54b15-15'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>市场符号</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>若为True，则使用新格式的期货市场名称作为符号， 默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-14'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向。可取值为: [<code>Buy</code>, <code>SELL</code>]</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>仓位大小</td>
</tr>
<tr>
<td>entryPrice</td>
<td>double</td>
<td>Yes</td>
<td>入场价格</td>
</tr>
<tr>
<td>markPrice</td>
<td>double</td>
<td>Yes</td>
<td>标记价格</td>
</tr>
<tr>
<td>marginType</td>
<td>long</td>
<td>Yes</td>
<td>保证金类型。值如下<br/>91: CROSS钱包<br/>92: 独立钱包</td>
</tr>
<tr>
<td>orderValue</td>
<td>double</td>
<td>Yes</td>
<td>名义价值</td>
</tr>
<tr>
<td>settleWithAsset</td>
<td>string</td>
<td>Yes</td>
<td>结算货币</td>
</tr>
<tr>
<td>totalMaintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>维持保证金</td>
</tr>
<tr>
<td>unrealizedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>未实现的利润和损失</td>
</tr>
<tr>
<td>liquidationPrice</td>
<td>double</td>
<td>Yes</td>
<td>清算价格</td>
</tr>
<tr>
<td>isolatedLeverage</td>
<td>double</td>
<td>Yes</td>
<td>独立杠杆值</td>
</tr>
<tr>
<td>adlScoreBucket</td>
<td>double</td>
<td>Yes</td>
<td>ADL得分概率</td>
</tr>
<tr>
<td>liquidationInProgress</td>
<td>boolean</td>
<td>Yes</td>
<td>指示是否正在进行清算</td>
</tr>
<tr>
<td>currentLeverage</td>
<td>double</td>
<td>Yes</td>
<td>当前杠杆</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>查询仓位时的时间戳</td>
</tr>
<tr>
<td>takeProfitOrder</td>
<td>TakeProfitOrder对象</td>
<td>No</td>
<td>止盈订单信息</td>
</tr>
<tr>
<td>stopLossOrder</td>
<td>StopLossOrder对象</td>
<td>No</td>
<td>止损订单信息</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>仓位模式<br/> 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向<br/>  多头仓位<code>LONG</code> 或 空头仓位<code>SHORT</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
</tbody></table>
<h2 id='b1f6ce457c'>平仓仓位</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求（用于双向持仓订单）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD|LONG"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">76</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">24010.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"93cf814a-595e-4b20-bba9-5c5340ca947d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660710188450</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">24010.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.1/order/close_position</code></p>

<p>平仓用户在特定市场上指定的仓位。如果指定类型为LIMIT，则价格是必须的。当类型为MARKET时，以市场价格平仓仓位。</p>
<h3 id='1f9ac54b15-16'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>平仓类型，其值为：<br/>LIMIT: 以<code>price</code>价格平仓<br/>MARKET: 以市价平仓</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>No</td>
<td>平仓价格。当类型为<code>LIMIT</code>时，此字段为必填</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>No</td>
<td>布尔值，表示这是否只做Maker(Post only) 订单，交易者将支付Maker手续费</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>若为True，则使用新格式的期货市场名称作为符号，默认为False</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>No</td>
<td>想要平仓的仓位ID。在双向持仓时为必填项</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-15'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>交易员发送的客户标签</td>
</tr>
<tr>
<td>fillSize</td>
<td>string</td>
<td>Yes</td>
<td>已成交的交易量</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>订单ID</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>订单类型 <br/>76: 限价单<br/>77: 市价单<br/>80: Algo订单</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>表示订单是否仅为只做Maker(Post only) 订单</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>订单价格</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>订单方向<br/>BUY 或 SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>已取消的大小</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>订单状态<br/>2: 已插入订单<br/>3: 已交易订单<br/>4: 订单已全部交易<br/>5: 订单部分交易<br/>6: 已取消订单<br/>7: 已退款订单<br/>9: 触发器已插入<br>10: 触发器已激活<br/>15: 订单被拒绝<br/>16: 找不到订单<br/>17: 请求失败</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>订单有效性</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单时间戳</td>
</tr>
<tr>
<td>trigger</td>
<td>string</td>
<td>Yes</td>
<td>指示订单是否为触发订单</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>string</td>
<td>Yes</td>
<td>订单触发价格，如果订单不是触发订单则返回0</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>string</td>
<td>Yes</td>
<td>平均成交价格。返回部分交易订单的平均成交价格</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>交易消息</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>订单的隐身值</td>
</tr>
<tr>
<td>deviation</td>
<td>string</td>
<td>Yes</td>
<td>订单的偏差值</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>剩余待交易的大小</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>原始订单大小</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>仓位模式<br/> 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向<br/>  多头仓位<code>LONG</code> 或 空头仓位<code>SHORT</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
</tbody></table>
<h2 id='420063dd1a'>获取风险限制</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>/api/v2.1/risk_limit?symbol=BTCPFC
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/risk_limit</code></p>

<p>查询指定市场的风险限制</p>
<h3 id='1f9ac54b15-17'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-16'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>riskLimit</td>
<td>long</td>
<td>Yes</td>
<td>当前的风险限制值以仓位大小表示，但随着期货市场名称的变化，它将转变为USD值</td>
</tr>
</tbody></table>
<h2 id='f233c937b2'>设置风险限制</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"riskLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求 (当双向持仓时)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"riskLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1577093486551</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.1/risk_limit</code></p>

<p>更改指定市场的风险限制</p>
<h3 id='1f9ac54b15-18'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>riskLimit</td>
<td>long</td>
<td>Yes</td>
<td>当前的风险限制值以仓位大小表示，但它将在将来转变为USD值。</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>no</td>
<td>单向持仓<code>ONE_WAY</code>（默认）或 双向持仓<code>HEDGE</code>, 在双向持仓时为必填项</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>如果使用新的期货市场名称作为符号，则为True，默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-17'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>请求的状态。可取值为：<br/>8: 余额不足<br/>12: 更新风险限额时出错<br/>20: 成功<br/>41: 风险限额无效</td>
</tr>
<tr>
<td>type</td>
<td>double</td>
<td>Yes</td>
<td>值将为94，表示类型为<code>风险限额</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>设置风险限额的时间戳</td>
</tr>
<tr>
<td>message</td>
<td>long</td>
<td>Yes</td>
<td>消息</td>
</tr>
</tbody></table>
<h2 id='47d1d65d6f'>设置杠杆</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"marginMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求 (当双向持仓时)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1660711246942</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">93</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.1/leverage</code></p>

<p>更改指定市场的杠杆值</p>
<h3 id='1f9ac54b15-19'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>leverage</td>
<td>long</td>
<td>Yes</td>
<td>杠杆值</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>如果使用新的期货市场名称作为符号，则为True，默认为False</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>no</td>
<td>单向持仓<code>ONE_WAY</code>（默认）或 双向持仓<code>HEDGE</code>, 在双向持仓时为必填项</td>
</tr>
<tr>
<td>marginMode</td>
<td>string</td>
<td>no</td>
<td><code>CROSS</code> 或 <code>ISOLATED</code>(默认)</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-18'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>请求的状态。可取值为：<br/>8: 余额不足<br/>13: 无效的杠杆<br/>20: 成功<br/>64: 正在进行的清算</td>
</tr>
<tr>
<td>type</td>
<td>double</td>
<td>Yes</td>
<td>值将为93，表示类型为<code>杠杆</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>设置杠杆的时间戳</td>
</tr>
<tr>
<td>message</td>
<td>long</td>
<td>Yes</td>
<td>消息</td>
</tr>
</tbody></table>
<h2 id='6d32c96f0c'>获取杠杆</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"marginMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>Get /api/v2.1/leverage</code></p>

<p>获取指定市场的杠杆值</p>
<h3 id='1f9ac54b15-20'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-19'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>leverage</td>
<td>double</td>
<td>Yes</td>
<td>当前市场的杠杆值，返回 0 表示杠杆是最大的全仓杠杆。</td>
</tr>
<tr>
<td>marginMode</td>
<td>string</td>
<td>Yes</td>
<td>当前保证金模式</td>
</tr>
</tbody></table>
<h2 id='5d5e41f6fe'>更改合同结算货币</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>请求 (当双向持仓时)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD|LONG"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应（仅在发生错误时可用）</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.1/settle_in</code></p>

<p>更改当前市场中持仓的结算货币</p>
<h3 id='1f9ac54b15-21'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>要设置的结算货币</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>若为True，则使用新格式的期货市场名称作为符号，默认为False</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>No</td>
<td>想要设置的仓位ID。在双向持仓时为必填项</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-20'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>long</td>
<td>No</td>
<td>状态。仅在发生错误时可用。</td>
</tr>
<tr>
<td>errorCode</td>
<td>long</td>
<td>No</td>
<td>错误代码。仅在发生错误时可用。</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>No</td>
<td>响应消息。仅在发生错误时可用。</td>
</tr>
</tbody></table>
<h2 id='9afbea1929'>查询帐户费用</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"makerFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"takerFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/user/fees</code></p>

<p>查询用户的交易费用</p>
<h3 id='1f9ac54b15-22'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>市场符号</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>若为True，则使用新格式的期货市场名称作为符号，默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-21'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>makerFee</td>
<td>double</td>
<td>Yes</td>
<td>制造商费用</td>
</tr>
<tr>
<td>takerFee</td>
<td>double</td>
<td>Yes</td>
<td>接受者费用</td>
</tr>
</tbody></table>
<h2 id='3a59fc75d3'>绑定止盈/止损</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markPrice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">22000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossTrigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lastPrice"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4820b20a-e41b-4273-b3ad-4b19920aeeb5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1691974463934</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">31000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deviation"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderDetailType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.1/order/bind/tpsl</code></p>

<p>绑定止盈/止损与已有持仓</p>
<h3 id='1f9ac54b15-23'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必需</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场交易对</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td><code>BUY</code> 或 <code>SELL</code> 在双向持仓时为必填项, 在双向持仓时，买方<code>BUY</code>綁定至空头仓位，卖方<code>SELL</code>则綁定至多头仓位</td>
</tr>
<tr>
<td>takeProfitPrice</td>
<td>double</td>
<td>No</td>
<td>创建带有止盈订单时强制执行。指示触发价格。在使用此API时，必须至少设置<code>takeProfitPrice</code>或<code>stopLossPrice</code>。</td>
</tr>
<tr>
<td>takeProfitTrigger</td>
<td>string</td>
<td>No</td>
<td>用于创建带有止盈订单的选项。有效选项：<code>标记价格</code>（默认）或<code>最新价格</code></td>
</tr>
<tr>
<td>stopLossPrice</td>
<td>double</td>
<td>No</td>
<td>创建带有止损订单时强制执行。指示触发价格</td>
</tr>
<tr>
<td>stopLossTrigger</td>
<td>string</td>
<td>No</td>
<td>用于创建带有止损订单的选项。有效选项：<code>标记价格</code>（默认）或<code>最新价格</code></td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>no</td>
<td>单向持仓<code>ONE_WAY</code>（默认）或 双向持仓<code>HEDGE</code>, 在双向持仓时为必填项</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-22'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必需</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场交易对</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>交易员发送的客户标签</td>
</tr>
<tr>
<td>fillSize</td>
<td>number</td>
<td>Yes</td>
<td>成交的交易量</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>订单ID</td>
</tr>
<tr>
<td>orderType</td>
<td>string</td>
<td>Yes</td>
<td>订单类型 <br/>76: 限价订单<br/>77: 市价订单<br/>80: 算法订单</td>
</tr>
<tr>
<td>postOnly</td>
<td>boolean</td>
<td>Yes</td>
<td>指示订单是否为只做Maker(Post only) 订单</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>订单价格</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>订单方向<br/>BUY 或 SELL</td>
</tr>
<tr>
<td>size</td>
<td>long</td>
<td>Yes</td>
<td>以&quot;合约大小&quot;为单位的订单大小（即使在风险限制调整后，此值也保持不变）</td>
</tr>
<tr>
<td>status</td>
<td>long</td>
<td>Yes</td>
<td>订单状态<br/>2: 订单已插入<br/>3: 订单已成交<br/>4: 订单已完全成交<br/>5: 订单部分成交<br/>6: 订单已取消<br/>7: 订单已退款<br/>9: 触发已插入<br>10: 触发已激活<br>15: 订单已拒绝<br>16: 未找到订单<br>17: 请求失败</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>订单有效期</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单时间戳</td>
</tr>
<tr>
<td>trigger</td>
<td>boolean</td>
<td>Yes</td>
<td>指示订单是否为触发订单</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>订单触发价格，如果订单不是触发订单，则返回0</td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td>平均成交价格。对于部分成交订单，返回平均成交价格</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>Yes</td>
<td>交易消息</td>
</tr>
<tr>
<td>stealth</td>
<td>string</td>
<td>Yes</td>
<td>仅适用于算法订单</td>
</tr>
<tr>
<td>deviation</td>
<td>double</td>
<td>Yes</td>
<td>仅适用于算法订单</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>剩余待成交的大小</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>原始订单大小</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>仓位模式<br/> 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向<br/>  多头仓位<code>LONG</code> 或 空头仓位<code>SHORT</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
</tbody></table>
<h2 id='0f26e5590e'>查询仓位模式</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-PERP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONE_WAY"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/position_mode</code></p>

<p>查询用户的仓位模式</p>

<p><strong>请求参数</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>No</td>
<td>市场交易对</td>
</tr>
</tbody></table>

<p><strong>响应内容</strong></p>

<p>| Name         | Type   | Required | Description                       |
| ---          | ---    | ---      | --- ------------------------------|
| symbol       | string | Yes      | 市场交易对                         |
| positionMode | string | Yes      | 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code> |</p>
<h2 id='4a3f9ffc40'>更改仓位模式</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.1/position_mode</code></p>

<p>更改仓位模式</p>

<p><strong>请求参数</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场交易对</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
</tbody></table>

<p><strong>响应内容</strong></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场交易对</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>No</td>
<td>订单时间戳</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>No</td>
<td>订单状态 <br>20: 成功</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>No</td>
<td>数值为129，表示为“期货仓位模式更改”。</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>No</td>
<td>交易消息</td>
</tr>
</tbody></table>
<h1 id='a3d42f9b9f'>钱包端点</h1><h2 id='0bed682e6f'>查询钱包余额</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trackingID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"activeWalletName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS@"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"walletTotalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealisedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.20183537</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"assetsInUse"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/user/wallet</code></p>

<p>查询用户的钱包余额。API密钥需要<code>读取</code>权限。</p>
<h3 id='1f9ac54b15-24'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>钱包名称<br/><code>CROSS@</code>: 全仓钱包<br/><code>ISOLATED@市场</code>: 市场指当前符号后附加<code>-USD</code>。例如，BTCPFC的隔离钱包将是<code>ISOLATED@BTCPFC-USD</code></td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>若为True，则返回新格式的期货市场名称，默认为False</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-23'>响应内容</h3><h4 id='c02d697612'>钱包</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>钱包名称</td>
</tr>
<tr>
<td>activeWalletName</td>
<td>string</td>
<td>Yes</td>
<td>活跃的钱包名称</td>
</tr>
<tr>
<td>queryType</td>
<td>integer</td>
<td>Yes</td>
<td>查询类型</td>
</tr>
<tr>
<td>trackingID</td>
<td>long</td>
<td>Yes</td>
<td>内部跟踪ID，未被使用</td>
</tr>
<tr>
<td>walletTotalValue</td>
<td>double</td>
<td>Yes</td>
<td>钱包总值</td>
</tr>
<tr>
<td>totalValue</td>
<td>double</td>
<td>Yes</td>
<td>总值</td>
</tr>
<tr>
<td>marginBalance</td>
<td>double</td>
<td>Yes</td>
<td>保证金余额</td>
</tr>
<tr>
<td>availableBalance</td>
<td>double</td>
<td>Yes</td>
<td>可用余额</td>
</tr>
<tr>
<td>unrealisedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>未实现的利润/损失</td>
</tr>
<tr>
<td>maintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>维护保证金</td>
</tr>
<tr>
<td>leverage</td>
<td>double</td>
<td>Yes</td>
<td>杠杆。在全仓钱包中，此栏位为当前杠杆，而非杠杆设置。</td>
</tr>
<tr>
<td>openMargin</td>
<td>double</td>
<td>Yes</td>
<td>开放保证金</td>
</tr>
<tr>
<td>assets</td>
<td>Asset 对象</td>
<td>Yes</td>
<td>可用资产</td>
</tr>
<tr>
<td>assetsInUse</td>
<td>Asset 对象</td>
<td>Yes</td>
<td>使用中的资产</td>
</tr>
</tbody></table>
<h4 id='2ec6ed70e8'>资产 / 使用中的资产</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>double</td>
<td>Yes</td>
<td>余额</td>
</tr>
<tr>
<td>assetPrice</td>
<td>double</td>
<td>Yes</td>
<td>资产价格</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>货币</td>
</tr>
</tbody></table>
<h2 id='2d46780fe3'>查询钱包历史记录</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.35823825</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">20181213000239</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1571630174639</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btseUser"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wallet"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Blockchain Transaction ID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currencyNetwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Blockchain currency network&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/user/wallet_history</code></p>

<p>获取期货钱包上的用户钱包历史记录</p>
<h3 id='1f9ac54b15-25'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>No</td>
<td>钱包，如果未指定将返回所有钱包。有效值为：<br/><code>CROSS@</code>: 全仓钱包<br/><code>ISOLATED@BTCPFC-USD</code>: 隔离钱包</td>
</tr>
<tr>
<td>startTime</td>
<td>long</td>
<td>No</td>
<td>以毫秒为单位的开始时间（例如 1624987283000）</td>
</tr>
<tr>
<td>endTime</td>
<td>long</td>
<td>No</td>
<td>以毫秒为单位的结束时间（例如 1624987283000）</td>
</tr>
<tr>
<td>count</td>
<td>integer</td>
<td>No</td>
<td>要返回的记录数量</td>
</tr>
<tr>
<td>useNewSymbolNaming</td>
<td>boolean</td>
<td>No</td>
<td>若为True，则返回新格式的期货市场名称，默认为 False</td>
</tr>
</tbody></table>

<ul>
<li>历史记录最大天数</li>
</ul>

<table><thead>
<tr>
<th style="text-align: center">时间区间</th>
<th style="text-align: right">最大天数</th>
<th style="text-align: center">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">startTime / endTime</td>
<td style="text-align: right">30</td>
<td style="text-align: center">在指定区间中最多<strong>30</strong>天记录</td>
</tr>
<tr>
<td style="text-align: center">startTime /    -</td>
<td style="text-align: right">7</td>
<td style="text-align: center">未指定<strong>结束时间</strong>, 则从<strong>开始时间</strong>往后<strong>7</strong>天</td>
</tr>
<tr>
<td style="text-align: center">-    / endTime</td>
<td style="text-align: right">7</td>
<td style="text-align: center">未指定<strong>开始时间</strong>, 则从<strong>结束时间</strong>往前<strong>7</strong>天</td>
</tr>
<tr>
<td style="text-align: center">-    /    -</td>
<td style="text-align: right">7</td>
<td style="text-align: center">都未指定时间, 则使用<strong>当前时间</strong>作为<strong>结束时间</strong>往前<strong>7</strong>天</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-24'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>货币</td>
</tr>
<tr>
<td>amount</td>
<td>double</td>
<td>Yes</td>
<td>记录中的金额</td>
</tr>
<tr>
<td>fees</td>
<td>double</td>
<td>Yes</td>
<td>如有收费</td>
</tr>
<tr>
<td>orderId</td>
<td>string</td>
<td>Yes</td>
<td>内部钱包订单ID</td>
</tr>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>钱包类型。对于期货将返回 <code>CROSS@</code> 或 <code>ISOLATED@</code></td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Yes</td>
<td>交易描述</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Yes</td>
<td>1: 待处理<br/>2: 处理中<br/>10: 完成<br/>16: 取消</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>Yes</td>
<td>105: 钱包转账<br/>106: 钱包清算<br/>108: 已实现的PnL<br/>110: 资金<br/>121: 资产转换</td>
</tr>
</tbody></table>
<h2 id='5a0de97d1d'>查询钱包保证金</h2>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trackingID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS@"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"walletTotalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealisedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.20183537</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"assetsInUse"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>GET /api/v2.1/user/margin</code></p>

<p>获取指定钱包的保证金信息，以便用户知道他们当前在市场上使用的是哪个钱包。</p>
<h3 id='1f9ac54b15-26'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-25'>响应内容</h3><h4 id='c02d697612-2'>钱包</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>钱包名称</td>
</tr>
<tr>
<td>queryType</td>
<td>integer</td>
<td>Yes</td>
<td>查询类型</td>
</tr>
<tr>
<td>trackingID</td>
<td>long</td>
<td>Yes</td>
<td>内部跟踪ID，未被使用</td>
</tr>
<tr>
<td>requestId</td>
<td>long</td>
<td>Yes</td>
<td>内部請求ID，未被使用</td>
</tr>
<tr>
<td>walletTotalValue</td>
<td>double</td>
<td>Yes</td>
<td>钱包总值</td>
</tr>
<tr>
<td>totalValue</td>
<td>double</td>
<td>Yes</td>
<td>总值</td>
</tr>
<tr>
<td>marginBalance</td>
<td>double</td>
<td>Yes</td>
<td>保证金余额</td>
</tr>
<tr>
<td>availableBalance</td>
<td>double</td>
<td>Yes</td>
<td>可用余额</td>
</tr>
<tr>
<td>unrealisedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>未实现的利润/损失</td>
</tr>
<tr>
<td>maintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>维护保证金</td>
</tr>
<tr>
<td>leverage</td>
<td>double</td>
<td>Yes</td>
<td>杠杆</td>
</tr>
<tr>
<td>openMargin</td>
<td>double</td>
<td>Yes</td>
<td>开放保证金</td>
</tr>
<tr>
<td>assets</td>
<td>Asset 对象</td>
<td>Yes</td>
<td>可用资产</td>
</tr>
<tr>
<td>assetsInUse</td>
<td>Asset 对象</td>
<td>Yes</td>
<td>使用中的资产</td>
</tr>
</tbody></table>
<h4 id='2ec6ed70e8-2'>资产 / 使用中的资产</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>double</td>
<td>Yes</td>
<td>余额</td>
</tr>
<tr>
<td>assetPrice</td>
<td>double</td>
<td>Yes</td>
<td>资产价格</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>货币</td>
</tr>
</tbody></table>
<h2 id='8babba8e02'>在期货钱包之间转账资金</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"walletSrc"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"walletSrcType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"walletDest"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"walletDestType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"apiWallets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"allBalance"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"allBalance"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trackingID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"queryType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"activeWalletName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CROSS@"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"walletTotalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealisedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.20183537</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"assetsInUse"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assetPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">7158.844999999999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p><code>POST /api/v2.1/user/wallet/transfer</code></p>

<p>在用户的钱包之间转移资金。用户可以指定源钱包和目标钱包进行资金转账。</p>
<h3 id='1f9ac54b15-27'>请求参数</h3><h4 id='301b9231fe'>钱包请求</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>walletSrc</td>
<td>string</td>
<td>No</td>
<td>源钱包，如果<code>walletSrcType</code>为<code>ISOLATED</code>则为必须</td>
</tr>
<tr>
<td>walletSrcType</td>
<td>string</td>
<td>Yes</td>
<td>源类型，有效值为：<br/><code>SPOT</code>：现货钱包<br/><code>CROSS</code>：全仓钱包<br/><code>ISOLATED</code>：市场的隔离钱包，其中市场为市场符号</td>
</tr>
<tr>
<td>walletDest</td>
<td>string</td>
<td>No</td>
<td>目标钱包，如果<code>walletDestType</code>为<code>ISOLATED</code>则为必须</td>
</tr>
<tr>
<td>walletDestType</td>
<td>string</td>
<td>Yes</td>
<td>目标类型，有效值为：<br/><code>SPOT</code>：现货钱包<br/><code>CROSS</code>：全仓钱包<br/><code>ISOLATED</code>：市场的隔离钱包，其中市场为市场符号</td>
</tr>
<tr>
<td>apiWallets</td>
<td>钱包明细</td>
<td>Yes</td>
<td>转账详细信息</td>
</tr>
</tbody></table>
<h4 id='e164979872'>钱包明细请求</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>钱包货币</td>
</tr>
<tr>
<td>allBalance</td>
<td>boolean</td>
<td>Yes</td>
<td>是否转移所有钱包余额的指示符</td>
</tr>
<tr>
<td>balance</td>
<td>double</td>
<td>No</td>
<td>要转移的余额值，例如：10</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-26'>响应内容</h3><h4 id='c02d697612-3'>钱包</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>Yes</td>
<td>钱包名称</td>
</tr>
<tr>
<td>activeWalletName</td>
<td>string</td>
<td>Yes</td>
<td>活跃的钱包名称</td>
</tr>
<tr>
<td>queryType</td>
<td>integer</td>
<td>Yes</td>
<td>查询类型</td>
</tr>
<tr>
<td>trackingID</td>
<td>long</td>
<td>Yes</td>
<td>内部跟踪ID，未被使用</td>
</tr>
<tr>
<td>walletTotalValue</td>
<td>double</td>
<td>Yes</td>
<td>钱包总值</td>
</tr>
<tr>
<td>totalValue</td>
<td>double</td>
<td>Yes</td>
<td>总值</td>
</tr>
<tr>
<td>marginBalance</td>
<td>double</td>
<td>Yes</td>
<td>保证金余额</td>
</tr>
<tr>
<td>availableBalance</td>
<td>double</td>
<td>Yes</td>
<td>可用余额</td>
</tr>
<tr>
<td>unrealisedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>未实现的利润/损失</td>
</tr>
<tr>
<td>maintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>维护保证金</td>
</tr>
<tr>
<td>leverage</td>
<td>double</td>
<td>Yes</td>
<td>杠杆</td>
</tr>
<tr>
<td>openMargin</td>
<td>double</td>
<td>Yes</td>
<td>开放保证金</td>
</tr>
<tr>
<td>assets</td>
<td>资产对象</td>
<td>Yes</td>
<td>可用资产</td>
</tr>
<tr>
<td>assetsInUse</td>
<td>资产对象</td>
<td>Yes</td>
<td>使用中的资产</td>
</tr>
</tbody></table>
<h4 id='2ec6ed70e8-3'>资产 / 使用中的资产</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>double</td>
<td>Yes</td>
<td>余额</td>
</tr>
<tr>
<td>assetPrice</td>
<td>double</td>
<td>Yes</td>
<td>资产价格</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>货币</td>
</tr>
</tbody></table>
<h2 id='a1b5b663b6'>子账户钱包转账</h2>
<p><code>POST /api/v2.1/subaccount/wallet/transfer</code></p>

<p>在用户和子账户钱包之间转移资金。用户可以指定源钱包和目标钱包进行资金转账。</p>

<p>需要<code>Wallet</code>权限。要获取支持的货币列表，请查看<a href="#查询钱包操作的可用货币列表">用于操作的可用货币列表</a>。</p>
<h3 id='1f9ac54b15-28'>请求参数</h3><h4 id='301b9231fe-2'>钱包请求</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>walletSrc</td>
<td>string</td>
<td>No</td>
<td>源钱包，如果<code>walletSrcType</code>为<code>ISOLATED</code>则为必须</td>
</tr>
<tr>
<td>walletSrcType</td>
<td>string</td>
<td>Yes</td>
<td>源类型，有效值为：<br/><code>SPOT</code>：现货钱包<br/><code>CROSS</code>：全仓钱包<br/><code>ISOLATED</code>：市场的隔离钱包，其中市场为市场符号</td>
</tr>
<tr>
<td>walletDest</td>
<td>string</td>
<td>No</td>
<td>目标钱包，如果<code>walletDestType</code>为<code>ISOLATED</code>则为必须</td>
</tr>
<tr>
<td>walletDestType</td>
<td>string</td>
<td>Yes</td>
<td>目标类型，有效值为：<br/><code>SPOT</code>：现货钱包<br/><code>CROSS</code>：全仓钱包<br/><code>ISOLATED</code>：市场的隔离钱包，其中市场为市场符号</td>
</tr>
<tr>
<td>fromUser</td>
<td>string</td>
<td>Yes</td>
<td>源用户名</td>
</tr>
<tr>
<td>receiver</td>
<td>string</td>
<td>Yes</td>
<td>接收者用户名</td>
</tr>
<tr>
<td>apiWallets</td>
<td>钱包明细</td>
<td>Yes</td>
<td>转账详细信息</td>
</tr>
</tbody></table>
<h4 id='e164979872-2'>钱包明细请求</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>Yes</td>
<td>钱包货币</td>
</tr>
<tr>
<td>allBalance</td>
<td>boolean</td>
<td>Yes</td>
<td>是否转移所有钱包余额的指示符</td>
</tr>
<tr>
<td>balance</td>
<td>double</td>
<td>No</td>
<td>要转移的余额值，例如：10</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-27'>响应内容</h3><h4 id='c02d697612-4'>钱包</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>Yes</td>
<td>响应代码</td>
</tr>
<tr>
<td>msg</td>
<td>string</td>
<td>Yes</td>
<td>响应消息</td>
</tr>
<tr>
<td>time</td>
<td>integer</td>
<td>Yes</td>
<td>响应时间</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>success</td>
<td>boolean</td>
<td>Yes</td>
<td>转账是否成功</td>
</tr>
</tbody></table>
<h4 id='2b30f677b3'>转账错误代码</h4>
<table><thead>
<tr>
<th>代码</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>-2</td>
<td>无效的请求参数</td>
</tr>
<tr>
<td>-1046</td>
<td>将fromUser期货资产转移到DestWallet失败</td>
</tr>
<tr>
<td>-1047</td>
<td>fromUser到receiver的转账失败</td>
</tr>
<tr>
<td>-1048</td>
<td>receiver现货钱包到期货钱包的转账失败</td>
</tr>
</tbody></table>
<h1 id='websocket'>订单簿 WebSocket 数据流</h1><h2 id='2a1cad5f9e-2'>端点</h2>
<ul>
<li>生产环境

<ul>
<li><code>wss://ws.btse.com/ws/oss/futures</code></li>
</ul></li>
<li>测试网络

<ul>
<li><code>wss://testws.btse.io/ws/oss/futures</code></li>
</ul></li>
</ul>
<h2 id='oss-l1'>OSS L1 快照 (按分组)</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"snapshotL1:BTCPFC_0"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"snapshotL1:BTCPFC_0"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshotL1:BTCPFC_0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
          </span><span class="s2">"28064.9"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"1268"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
          </span><span class="s2">"28065.0"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"1015"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshotL1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1680751558529</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>通过端点<code>wss://ws.btse.com/ws/oss/futures</code>订阅Level 1订单簿。订阅的格式将为<code>symbol_grouping</code>。</p>

<ul>
<li><code>symbol</code>表示市场符号</li>
<li><code>grouping</code>表示分组的粒度。有效值为0-8。</li>
</ul>
<h3 id='05a22d5a79-28'>响应内容</h3><h4 id='5e08dfe292'>订单簿对象</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>topic</td>
<td>string</td>
<td>Yes</td>
<td>Websocket主题</td>
</tr>
<tr>
<td>data</td>
<td>数据对象</td>
<td>Yes</td>
<td>参见下面的数据对象</td>
</tr>
</tbody></table>
<h4 id='30655043cf'>数据对象</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>bids</td>
<td>报价对象</td>
<td>Yes</td>
<td>买入报价</td>
</tr>
<tr>
<td>asks</td>
<td>报价对象</td>
<td>Yes</td>
<td>卖出报价</td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td><code>snapshotL1</code> - L1数据指的是交易对订单簿的最佳买入/最佳卖出价。</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单簿时间戳</td>
</tr>
</tbody></table>
<h2 id='bb4b2c51b6'>订单簿增量更新</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"update:BTCPFC_0"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"update:BTCPFC_0"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update:BTCPFC_0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59252.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.06865"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59249.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.24000"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59235.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.16073"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59235.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.26626"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59233.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.50000"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59292.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.50000"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59285.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.24000"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59285.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.15598"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59278.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.01472"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">628282</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prevSeqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">628281</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"snapshot"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1565135165600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update:BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59367.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2.15622"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"59325.5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">628283</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prevSeqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">628282</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delta"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1565135165600</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>通过端点<code>wss://ws.btse.com/ws/oss/futures</code>订阅订单簿增量更新。主题的格式将为<code>update:symbol_grouping</code>（例如<code>update:BTCPFC_0</code>）。首次收到的响应将是当前订单簿的快照（这在<code>type</code>字段中有标示），并将返回50个级别。随后的数据包中将发送增量更新，类型为<code>delta</code>。</p>

<p>买入和卖出将以<code>price</code>和<code>size</code>的元组形式发送。发送的大小将是价格的新更新大小。如果发送了一个<code>0</code>的值，则应从订单簿的本地副本中删除该价格。</p>

<p>为确保按顺序接收到更新，<code>seqNum</code>指示当前序列，而<code>prevSeqNum</code>指前一个数据包。<code>seqNum</code>总是在<code>prevSeqNum</code>之后。如果序列是乱序的，您将需要取消订阅并再次订阅该主题。</p>

<p>如果当最佳买入价高于或等于最佳卖出价时发生<a href="https://en.wikipedia.org/wiki/Order_book#Crossed_book">交叉订单簿</a>，请取消订阅并重新订阅该主题。</p>
<h3 id='05a22d5a79-29'>响应内容</h3><h4 id='5e08dfe292-2'>订单簿对象</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>topic</td>
<td>string</td>
<td>Yes</td>
<td>Websocket主题</td>
</tr>
<tr>
<td>data</td>
<td>Data Object</td>
<td>Yes</td>
<td>参见下面的数据对象</td>
</tr>
</tbody></table>
<h4 id='30655043cf-2'>数据对象</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>bids</td>
<td>Quote Object</td>
<td>Yes</td>
<td>买入报价</td>
</tr>
<tr>
<td>asks</td>
<td>Quote Object</td>
<td>Yes</td>
<td>卖出报价</td>
</tr>
<tr>
<td>seqNum</td>
<td>int</td>
<td>Yes</td>
<td>当前序列号</td>
</tr>
<tr>
<td>prevSeqNum</td>
<td>int</td>
<td>Yes</td>
<td>上一个序列号</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td><code>snapshot</code> - 订单簿的快照，最多有50个级别<br/> <code>delta</code> - 订单簿的更新</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单簿的时间戳</td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>订单簿符号</td>
</tr>
</tbody></table>
<h4 id='6796fd1409'>订单簿错误响应</h4>
<table><thead>
<tr>
<th>错误码</th>
<th>消息</th>
</tr>
</thead><tbody>
<tr>
<td>1000</td>
<td>提供的市场对当前不受支持。</td>
</tr>
<tr>
<td>1001</td>
<td>提供的操作当前不受支持。</td>
</tr>
<tr>
<td>1002</td>
<td>请求无效。请再次检查您的请求并提供所有所需的信息。</td>
</tr>
<tr>
<td>1005</td>
<td>提供的主题不存在。</td>
</tr>
<tr>
<td>1007</td>
<td>用户消息缓冲区已满。</td>
</tr>
<tr>
<td>1008</td>
<td>达到最大失败尝试，关闭会话。</td>
</tr>
</tbody></table>
<h1 id='websocket-2'>Websocket流</h1><h2 id='2a1cad5f9e-3'>端点</h2>
<ul>
<li>生产环境

<ul>
<li><code>wss://ws.btse.com/ws/futures</code></li>
</ul></li>
<li>测试网络

<ul>
<li><code>wss://testws.btse.io/ws/futures</code></li>
</ul></li>
</ul>
<h2 id='ping-pong'>Ping/Pong</h2>
<p>对于我们所有的WebSocket服务器，只需发送一个&#39;ping&#39;消息，如果WebSocket连接已建立并处于活动状态，WebSocket服务器将以&#39;pong&#39;消息进行响应。</p>

<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>ping
</code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>pong
</code></pre></div><h2 id='5319af762d'>订阅</h2>
<p>以下是一个主题订阅的示例。</p>

<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"tradeHistoryApi:BTCPFC"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"tradeHistoryApi:BTCPFC"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>订阅Websocket的公开交易成交信息</p>
<h3 id='1f9ac54b15-29'>请求参数</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>string</td>
<td>Yes</td>
<td>操作。<code>subscribe</code> 将订阅在<code>args</code>中提供的主题。<code>unsubscribe</code> 将取消订阅主题</td>
</tr>
<tr>
<td>args</td>
<td>array</td>
<td>Yes</td>
<td>要订阅的主题。</td>
</tr>
</tbody></table>
<h3 id='05a22d5a79-30'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>event</td>
<td>string</td>
<td>Yes</td>
<td>响应的事件类型</td>
</tr>
<tr>
<td>channel</td>
<td>array</td>
<td>Yes</td>
<td>已成功订阅的主题</td>
</tr>
</tbody></table>
<h2 id='6ac7b4be08'>公开成交记录</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"tradeHistoryApi:BTCPFC"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tradeHistoryApi:BTCPFC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.007</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">5302.8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">118974855</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1584446020295</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>订阅市场的最近交易提要。主题将是 <code>tradeHistoryApi:&lt;market&gt;</code>，其中<code>&lt;market&gt;</code> 是市场符号。</p>
<h3 id='05a22d5a79-31'>响应内容</h3><h4 id='tradehistory'>TradeHistory 对象</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>topic</td>
<td>string</td>
<td>Yes</td>
<td>Websocket 主题</td>
</tr>
<tr>
<td>data</td>
<td>Data Object</td>
<td>Yes</td>
<td>请参考下面的数据对象</td>
</tr>
</tbody></table>
<h4 id='30655043cf-3'>数据对象</h4>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>交易方向，BUY 或 SELL</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>交易量</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>交易价格</td>
</tr>
<tr>
<td>tradeId</td>
<td>long</td>
<td>Yes</td>
<td>交易序列号</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>交易时间戳</td>
</tr>
</tbody></table>
<h2 id='32c808cbe5'>认证</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="s2">"authKeyExpires"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:[</span><span class="s2">"APIKey"</span><span class="p">,</span><span class="w"> </span><span class="s2">"nonce"</span><span class="p">,</span><span class="w"> </span><span class="s2">"signature"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>认证 websocket 会话以订阅已认证的 websocket 主题。假设我们有以下的值:</p>

<ul>
<li><code>request-nonce</code>: 1624985375123</li>
<li><code>request-api</code>: 4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x</li>
<li><code>secret</code>: 848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx</li>
</ul>

<p>我們的訂閱請求將是：</p>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "op":"authKeyExpires",
  "args":["4e9536c79f0fdd72bf04f2430982d3f61d9d76c996f0175bbba470d69d59816x", "1624985375123", "c410d38c681579adb335885800cff24c66171b7cc8376cfe43da1408c581748156b89bcc5a115bb496413bda481139fb"]
}
</code></pre></div><h3 id='1f9ac54b15-30'>请求参数</h3>
<p>以下详细描述了需要发送的参数。</p>

<table><thead>
<tr>
<th>索引</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>string</td>
<td>Yes</td>
<td>第一个参数是 API 密钥</td>
</tr>
<tr>
<td>1</td>
<td>long</td>
<td>Yes</td>
<td>Nonce，即当前的时间戳</td>
</tr>
<tr>
<td>2</td>
<td>string</td>
<td>Yes</td>
<td>生成的签名</td>
</tr>
</tbody></table>

<blockquote>
<p>生成签名</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"/ws/futures1624985375123"</span>  | openssl dgst <span class="nt">-sha384</span> <span class="nt">-hmac</span> <span class="s2">"848db84ac252b6726e5f6e7a711d9c96d9fd77d020151b45839a5b59c37203bx"</span>
<span class="o">(</span>stdin<span class="o">)=</span> bd8afb8bee58ba0a2c67f84dcfe6e64d0274f55d064bb26ea84a0fe6dd8c621b541b511982fb0c0b8c244e9521a80ea1
</code></pre></div><h2 id='7a66c0d036'>通知</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"notificationApiV2"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notificationApiV2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market Symbol (eg. BTCPFC)"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTSE internal order ID"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order price or transacted price"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order size or transacted size"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"originalSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order size"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">35000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fillSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Refer to Status description on the left&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Client order ID&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Maker flag, if true indicates that trade is a maker trade&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1624985375123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pegPriceDeviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Indicate the deviation percentage. Valid for only algo orders."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Remaining size on the order&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Time where this order is valid&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP | TAKE_PROFIT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade Trigger Price"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">

</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>接收交易通知通过订阅主题 <code>notificationApiV2</code>。Websocket将向订阅者推送交易级别的通知。如果在未经认证的情况下订阅主题，将不会发送任何消息。</p>
<h3 id='05a22d5a79-32'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>内部订单ID</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>交易方向。BUY 或 SELL</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>Yes</td>
<td>订单类型。有效值为：<br/>76: 限价订单<br/>77: 市价订单<br/>80: 算法订单</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>订单价格或交易价格</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>订单大小或交易大小</td>
</tr>
<tr>
<td>originalSize</td>
<td>double</td>
<td>Yes</td>
<td>原始订单大小</td>
</tr>
<tr>
<td>avgFilledPrice</td>
<td>double</td>
<td>Yes</td>
<td>平均成交价格</td>
</tr>
<tr>
<td>fillSize</td>
<td>double</td>
<td>Yes</td>
<td>订单的成交量</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Yes</td>
<td>状态值如下：<br/>1: 市场不可用<br/>2: 订单成功插入<br/>4: 订单全部交易<br/>5: 订单部分交易<br/>6: 订单成功取消<br/>8: 账户余额不足<br/>9: 触发订单成功插入<br/>10: 触发订单成功激活<br/>12: 更新风险限额时出错<br/>15: 订单被拒绝<br/>20: 交易成功完成<br/>27: 期货和现货之间转账成功<br/>28: 期货和现货之间转账失败<br/>41: 指定了无效的风险限额<br/>64: 账户正在进行清算<br/>96: 设置期货结算货币<br/>101: 期货订单超出清算价格<br/>305: 价格超过开放订单范围<br/>1003: 订单正在清算<br/>1004: 订单正在ADL</td>
</tr>
<tr>
<td>clOrderID</td>
<td>string</td>
<td>Yes</td>
<td>自定义订单ID</td>
</tr>
<tr>
<td>maker</td>
<td>boolean</td>
<td>Yes</td>
<td>指示交易是否为做市商交易</td>
</tr>
<tr>
<td>remainingSize</td>
<td>double</td>
<td>Yes</td>
<td>订单上的剩余大小</td>
</tr>
<tr>
<td>time_in_force</td>
<td>string</td>
<td>Yes</td>
<td>订单的有效期</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单时间戳或交易时间戳</td>
</tr>
<tr>
<td>txType</td>
<td>string</td>
<td>Yes</td>
<td>用于触发或OCO订单。STOP 表示它是一个停止订单，TAKEPROFIT 表示它是一个止盈订单，LIMIT 表示它不是上述任何一个</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>在订单簿上显示的订单百分比。仅用于算法订单</td>
</tr>
<tr>
<td>pegPriceDeviation</td>
<td>double</td>
<td>Yes</td>
<td>偏差百分比。仅用于算法订单</td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
</tbody></table>
<h2 id='384d988850'>用户交易记录</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:[</span><span class="s2">"fills"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fills"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"serialId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"serial ID after insertion into DB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Order ID"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order type"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ex: BTC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY|SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled price"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filled size"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feeAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fees charged to user, value to be String on API"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fee currency, eg. Buy would be BTC, Sell would be USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Base currency, eg. BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quote currency eg. USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maker or taker"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Time trade was matched in the engine"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The contract size of fills"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade Unique ID"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre></div>
<p>当交易完成后，此主题将把交易信息发回给订阅者。</p>
<h3 id='05a22d5a79-33'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Yes</td>
<td>市场符号</td>
</tr>
<tr>
<td>orderId</td>
<td>string</td>
<td>Yes</td>
<td>内部订单ID</td>
</tr>
<tr>
<td>clOrderId</td>
<td>string</td>
<td>Yes</td>
<td>自定义订单ID</td>
</tr>
<tr>
<td>serialId</td>
<td>string</td>
<td>Yes</td>
<td>交易序列ID</td>
</tr>
<tr>
<td>tradeId</td>
<td>string</td>
<td>Yes</td>
<td>交易唯一标识符</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>Yes</td>
<td>订单类型。有效值为：<br/>76: 限价订单<br/>77: 市价订单<br/>80: 算法订单</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>Yes</td>
<td>交易方向。BUY 或 SELL</td>
</tr>
<tr>
<td>price</td>
<td>double</td>
<td>Yes</td>
<td>交易价格</td>
</tr>
<tr>
<td>size</td>
<td>double</td>
<td>Yes</td>
<td>交易大小</td>
</tr>
<tr>
<td>feeAmount</td>
<td>double</td>
<td>Yes</td>
<td>所收费用</td>
</tr>
<tr>
<td>feeCurrency</td>
<td>string</td>
<td>Yes</td>
<td>费用货币</td>
</tr>
<tr>
<td>base</td>
<td>string</td>
<td>Yes</td>
<td>基础货币</td>
</tr>
<tr>
<td>quote</td>
<td>string</td>
<td>Yes</td>
<td>报价货币</td>
</tr>
<tr>
<td>maker</td>
<td>boolean</td>
<td>Yes</td>
<td>指示交易是否为做市商交易</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>Yes</td>
<td>订单时间戳或交易时间戳</td>
</tr>
</tbody></table>
<h2 id='35edece5cf'>所有仓位</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:[</span><span class="s2">"allPosition"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"allPosition"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btse"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderMode"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceHeld"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxStealthDisplayAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellexchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29286.404761929</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29267.967916154</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.13236859</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.484381756</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalContracts"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">662.115298076</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_FUTURES_POSITION"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderModeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MODE_BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES_MARGIN_CROSS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD|SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"settleWithNonUSDAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4820b20a-e41b-4273-b3ad-4b19920aeeb5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">31000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eff2b232-e2ce-4562-b0b4-0bd3713c11ec"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">27000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},{</span><span class="w">
    </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btse"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userCurrency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderMode"</span><span class="p">:</span><span class="w"> </span><span class="mi">83</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceHeld"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxStealthDisplayAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellexchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">69.9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29684.3743872669</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">70.062346733</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.04870402</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.319484301</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalContracts"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">-21.01870402</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"booleanVar1"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_FUTURES_POSITION"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderModeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MODE_SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES_MARGIN_CROSS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1116510969</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"settleWithNonUSDAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTCPFC-USD|SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>一旦仓位发生变化，所有期货仓位将通过这个主题推送。</p>
<h3 id='05a22d5a79-34'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>requestId</td>
<td>integer</td>
<td>Yes</td>
<td>请求ID</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>Yes</td>
<td>btse 用户名</td>
</tr>
<tr>
<td>marketName</td>
<td>string</td>
<td>Yes</td>
<td>市场名称</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>90: 期货头寸</td>
</tr>
<tr>
<td>orderTypeName</td>
<td>string</td>
<td>Yes</td>
<td>orderType的字符串表示</td>
</tr>
<tr>
<td>orderMode</td>
<td>integer</td>
<td>Yes</td>
<td>66: 买入<br/>83: 卖出</td>
</tr>
<tr>
<td>orderModeName</td>
<td>string</td>
<td>Yes</td>
<td>orderModeName的字符串表示</td>
</tr>
<tr>
<td>originalAmount</td>
<td>double</td>
<td>Yes</td>
<td>订单金额</td>
</tr>
<tr>
<td>maxPriceHeld</td>
<td>double</td>
<td>Yes</td>
<td>历史最高价格</td>
</tr>
<tr>
<td>pegPriceMin</td>
<td>double</td>
<td>Yes</td>
<td>peg最小价格</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>用于peg订单</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>订单ID</td>
</tr>
<tr>
<td>maxStealthDisplayAmount</td>
<td>double</td>
<td>Yes</td>
<td>用于peg订单</td>
</tr>
<tr>
<td>sellexchangeRate</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>OCO订单</td>
</tr>
<tr>
<td>closeOrder</td>
<td>boolean</td>
<td>Yes</td>
<td>是否有关闭此持仓的订单</td>
</tr>
<tr>
<td>liquidationInProgress</td>
<td>boolean</td>
<td>Yes</td>
<td>是否正在清算</td>
</tr>
<tr>
<td>marginType</td>
<td>integer</td>
<td>Yes</td>
<td>钱包类型：<br/>91: 全仓<br/>92: 隔离</td>
</tr>
<tr>
<td>marginTypeName</td>
<td>string</td>
<td>Yes</td>
<td>marginType的字符串表示</td>
</tr>
<tr>
<td>entryPrice</td>
<td>double</td>
<td>Yes</td>
<td>进场价格</td>
</tr>
<tr>
<td>liquidationPrice</td>
<td>double</td>
<td>Yes</td>
<td>清算价格</td>
</tr>
<tr>
<td>markPrice</td>
<td>double</td>
<td>Yes</td>
<td>标记价格</td>
</tr>
<tr>
<td>unrealizedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>未实现的利润和损失</td>
</tr>
<tr>
<td>totalMaintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>维护保证金</td>
</tr>
<tr>
<td>totalContract</td>
<td>double</td>
<td>Yes</td>
<td>合约的大小</td>
</tr>
<tr>
<td>isolatedLeverage</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>totalFees</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>totalValue</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>adlScoreBucket</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>currentLeverage</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>settleWithNonUSDAsset</td>
<td>string</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>takeProfitOrder</td>
<td>TakeProfitOrder对象</td>
<td>No</td>
<td>止盈订单信息</td>
</tr>
<tr>
<td>stopLossOrder</td>
<td>StopLossOrder对象</td>
<td>No</td>
<td>止损订单信息</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>仓位模式<br/> 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向<br/>  多头仓位<code>LONG</code> 或 空头仓位<code>SHORT</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>Yes</td>
<td>仓位合约规模</td>
</tr>
</tbody></table>
<h2 id='25a424cad9'>仓位</h2>
<blockquote>
<p>请求</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:[</span><span class="s2">"positions"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btse"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderMode"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceHeld"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxStealthDisplayAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellexchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29286.404761929</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29267.967916154</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.13236859</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.484381756</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalContracts"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">662.115298076</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_FUTURES_POSITION"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderModeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MODE_BUY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES_MARGIN_CROSS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"settleWithNonUSDAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4820b20a-e41b-4273-b3ad-4b19920aeeb5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">31000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eff2b232-e2ce-4562-b0b4-0bd3713c11ec"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">27000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerUseLastPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},{</span><span class="w">
        </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btse"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTCPFC-USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderMode"</span><span class="p">:</span><span class="w"> </span><span class="mi">83</span><span class="p">,</span><span class="w">
        </span><span class="nl">"originalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxPriceHeld"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxStealthDisplayAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sellexchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
        </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">69.9</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29682.415101008</span><span class="p">,</span><span class="w">
        </span><span class="nl">"markedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">69.685573595</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06432792</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.318744</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalContracts"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">-20.905672079</span><span class="p">,</span><span class="w">
        </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TYPE_FUTURES_POSITION"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderModeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MODE_SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginTypeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES_MARGIN_CROSS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1113820366</span><span class="p">,</span><span class="w">
        </span><span class="nl">"averageFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"filledSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTCPFC-USD|SHORT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEDGE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"settleWithNonUSDAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>响应 (仓位已关闭)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"requestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btse"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderMode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"originalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPriceHeld"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pegPriceMin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stealth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxStealthDisplayAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellexchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closeOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationInProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedProfitLoss"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalMaintenanceMargin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalContracts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"adlScoreBucket"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderTypeName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderModeName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginTypeName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avgFillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"settleWithNonUSDAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"contractSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takeProfitOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stopLossOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCPFC-USD|SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionMode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionDirection"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>一旦仓位发生变化，所有期货仓位将通过这个主题推送。如果用户将仓位减少到0，该主题将推送一次totalContracts值为0的数据。</p>
<h3 id='05a22d5a79-35'>响应内容</h3>
<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>requestId</td>
<td>integer</td>
<td>Yes</td>
<td>请求ID</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>Yes</td>
<td>btse 用户名</td>
</tr>
<tr>
<td>marketName</td>
<td>string</td>
<td>Yes</td>
<td>市场名称</td>
</tr>
<tr>
<td>orderType</td>
<td>integer</td>
<td>Yes</td>
<td>90: 期货仓位</td>
</tr>
<tr>
<td>orderTypeName</td>
<td>string</td>
<td>Yes</td>
<td>orderType的字符串表示</td>
</tr>
<tr>
<td>orderMode</td>
<td>integer</td>
<td>Yes</td>
<td>66: 买入<br/>83: 卖出</td>
</tr>
<tr>
<td>orderModeName</td>
<td>string</td>
<td>Yes</td>
<td>orderModeName的字符串表示</td>
</tr>
<tr>
<td>originalAmount</td>
<td>double</td>
<td>Yes</td>
<td>订单数量</td>
</tr>
<tr>
<td>maxPriceHeld</td>
<td>double</td>
<td>Yes</td>
<td>历史最高价</td>
</tr>
<tr>
<td>pegPriceMin</td>
<td>double</td>
<td>Yes</td>
<td>Peg最低价</td>
</tr>
<tr>
<td>stealth</td>
<td>double</td>
<td>Yes</td>
<td>用于peg订单</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>Yes</td>
<td>订单ID</td>
</tr>
<tr>
<td>maxStealthDisplayAmount</td>
<td>double</td>
<td>Yes</td>
<td>用于peg订单</td>
</tr>
<tr>
<td>sellexchangeRate</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>triggerPrice</td>
<td>double</td>
<td>Yes</td>
<td>OCO订单</td>
</tr>
<tr>
<td>closeOrder</td>
<td>boolean</td>
<td>Yes</td>
<td>是否有一个订单来关闭此仓位</td>
</tr>
<tr>
<td>liquidationInProgress</td>
<td>boolean</td>
<td>Yes</td>
<td>是否正在进行清算</td>
</tr>
<tr>
<td>marginType</td>
<td>integer</td>
<td>Yes</td>
<td>钱包类型:<br/>91: 全仓<br/>92: 隔离仓</td>
</tr>
<tr>
<td>marginTypeName</td>
<td>string</td>
<td>Yes</td>
<td>marginType的字符串表示</td>
</tr>
<tr>
<td>entryPrice</td>
<td>double</td>
<td>Yes</td>
<td>入场价格</td>
</tr>
<tr>
<td>liquidationPrice</td>
<td>double</td>
<td>Yes</td>
<td>清算价格</td>
</tr>
<tr>
<td>markPrice</td>
<td>double</td>
<td>Yes</td>
<td>标记价格</td>
</tr>
<tr>
<td>unrealizedProfitLoss</td>
<td>double</td>
<td>Yes</td>
<td>未实现盈亏</td>
</tr>
<tr>
<td>totalMaintenanceMargin</td>
<td>double</td>
<td>Yes</td>
<td>维护保证金</td>
</tr>
<tr>
<td>totalContract</td>
<td>double</td>
<td>Yes</td>
<td>合约的大小</td>
</tr>
<tr>
<td>isolatedLeverage</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>totalFees</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>totalValue</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>adlScoreBucket</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>currentLeverage</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>avgFillPrice</td>
<td>double</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>settleWithNonUSDAsset</td>
<td>string</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>takeProfitOrder</td>
<td>TakeProfitOrder object</td>
<td>No</td>
<td>止盈订单信息</td>
</tr>
<tr>
<td>stopLossOrder</td>
<td>StopLossOrder object</td>
<td>No</td>
<td>止损订单信息</td>
</tr>
<tr>
<td>positionMode</td>
<td>string</td>
<td>Yes</td>
<td>仓位模式<br/> 单向持仓<code>ONE_WAY</code> 或 双向持仓<code>HEDGE</code></td>
</tr>
<tr>
<td>positionDirection</td>
<td>string</td>
<td>Yes</td>
<td>仓位方向<br/>  多头仓位<code>LONG</code> 或 空头仓位<code>SHORT</code></td>
</tr>
<tr>
<td>positionId</td>
<td>string</td>
<td>Yes</td>
<td>当前订单属于的仓位ID。</td>
</tr>
<tr>
<td>contractSize</td>
<td>double</td>
<td>Yes</td>
<td>仓位合约规模</td>
</tr>
</tbody></table>

<p></section></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
    <script>
const DEFAULT_LANG = 'en';
const IS_DEV = false;
const DOCS_PREFIX = IS_DEV ? '/' : '/docs/';
const TAB_MAP = {
  spot: {
    en: 'Spot',
    cn: '现货'
  },
  futures: {
    en: 'Futures',
    cn: '期货'
  },
  futuresV2_2: {
    en: 'FuturesV2.2',
    cn: '期货V2.2'
  },
  otc: {
    en: 'OTC',
    cn: '场外交易'
  },
  wallet: {
    en: 'Wallet/Convert/Transfer',
    cn: '钱包/转换/转账'
  },
  streaming: {
    en: 'Streaming',
    cn: '數據流'
  },
  fix: {
    en: 'FIX',
    cn: 'FIX'
  },
  earn: {
    en: 'Earn',
    cn: '賺幣'
  }
};

function getUrlRelativePath() {
  let url = document.location.toString();
  let arrUrl = url.split('//');
  let start = arrUrl[1].indexOf('/');
  let relUrl = arrUrl[1].substring(start);
  if (relUrl.indexOf('?') !== -1) {
    relUrl = relUrl.split("?")[0];
  }
  if (relUrl.indexOf('#') !== -1) {
    relUrl = relUrl.split('#')[0];
  }
  return relUrl;
}

function capitalizeFirstLetter(s) {
  return s.charAt(0).toUpperCase() + s.slice(1);
}

function getLang() {
  const url = getUrlRelativePath();
  const isEN = url.indexOf('cn') === -1;
  return isEN ? 'en' : 'cn';
}

function getTabTemplate(isTab, href, tabKey, tabText) {
  const classList = isTab ? 'nav_cell nav_tab' : 'menu-row'
  const idPrefix = isTab ? 'nav_link_' : 'menu-link-'
  const linkClass = isTab ? 'nav-link' : 'menu-link'
  return `
    <span class="${classList}">
      <a href="${href}" id="${idPrefix}${tabKey}" class="${linkClass}">${tabText}</a>
    </span>
  `
}

function generateNavHtml(lang, isTab) {
  return Object.keys(TAB_MAP).map(tabKey => {
    const tabText = TAB_MAP[tabKey][lang] || capitalizeFirstLetter(tabKey);
    const href = `${DOCS_PREFIX}${tabKey}/${lang}/`;
    return getTabTemplate(isTab, href, tabKey, tabText);
  })
}

function addChangeLanguageLink(lang) {
  // add change lang link in navbar.
  const langText = lang === 'en' ? '中文' : 'English';
  const langHref = lang === 'en' ? location.href.replace('/en/', '/cn/') : location.href.replace('/cn/', '/en/');
  const langLink = `<a class="change-lang-link" href="${langHref}">${langText}</a>`;
  $('#navBox').append(`<span class="nav_cell">${langLink}</span>`);
}

$(function() {
  const lang = getLang();
  $('#navBox').html(generateNavHtml(lang, true));
  $('#menuDropdown').html(generateNavHtml(lang, false));
  const tabList = Object.keys(TAB_MAP);
  for (let i = 0; i < tabList.length; i ++) {
    const tabKey = tabList[i];
    if (location.href.indexOf(`/${tabKey}/`) > 0) {
      $('.nav-link').removeClass('current');
      $(`#nav_link_${tabKey}`).addClass('current');
      $('.menu-link').removeClass('current');
      $(`#menu-link-${tabKey}`).addClass('current');
      break;
    }
  }
  $('#menuDropdownBtn').click(() => {
    $('.menu-dropdown').toggleClass('hide');
  });
  addChangeLanguageLink(lang);
});
  </script>
  </body>
</html>
